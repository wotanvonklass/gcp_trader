(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function s(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(u){if(u.ep)return;u.ep=!0;const c=s(u);fetch(u.href,c)}})();function Vy(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Gh={exports:{}},ml={};var Fm;function qy(){if(Fm)return ml;Fm=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(l,u,c){var f=null;if(c!==void 0&&(f=""+c),u.key!==void 0&&(f=""+u.key),"key"in u){c={};for(var m in u)m!=="key"&&(c[m]=u[m])}else c=u;return u=c.ref,{$$typeof:a,type:l,key:f,ref:u!==void 0?u:null,props:c}}return ml.Fragment=e,ml.jsx=s,ml.jsxs=s,ml}var Pm;function ky(){return Pm||(Pm=1,Gh.exports=qy()),Gh.exports}var g=ky(),Xh={exports:{}},ut={};var Wm;function Gy(){if(Wm)return ut;Wm=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),S=Symbol.iterator;function _(E){return E===null||typeof E!="object"?null:(E=S&&E[S]||E["@@iterator"],typeof E=="function"?E:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,L={};function D(E,T,k){this.props=E,this.context=T,this.refs=L,this.updater=k||w}D.prototype.isReactComponent={},D.prototype.setState=function(E,T){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,T,"setState")},D.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function V(){}V.prototype=D.prototype;function K(E,T,k){this.props=E,this.context=T,this.refs=L,this.updater=k||w}var Z=K.prototype=new V;Z.constructor=K,A(Z,D.prototype),Z.isPureReactComponent=!0;var tt=Array.isArray;function F(){}var P={H:null,A:null,T:null,S:null},G=Object.prototype.hasOwnProperty;function st(E,T,k){var $=k.ref;return{$$typeof:a,type:E,key:T,ref:$!==void 0?$:null,props:k}}function nt(E,T){return st(E.type,T,E.props)}function ft(E){return typeof E=="object"&&E!==null&&E.$$typeof===a}function Q(E){var T={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(k){return T[k]})}var lt=/\/+/g;function At(E,T){return typeof E=="object"&&E!==null&&E.key!=null?Q(""+E.key):T.toString(36)}function xt(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(F,F):(E.status="pending",E.then(function(T){E.status==="pending"&&(E.status="fulfilled",E.value=T)},function(T){E.status==="pending"&&(E.status="rejected",E.reason=T)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function B(E,T,k,$,rt){var ot=typeof E;(ot==="undefined"||ot==="boolean")&&(E=null);var St=!1;if(E===null)St=!0;else switch(ot){case"bigint":case"string":case"number":St=!0;break;case"object":switch(E.$$typeof){case a:case e:St=!0;break;case x:return St=E._init,B(St(E._payload),T,k,$,rt)}}if(St)return rt=rt(E),St=$===""?"."+At(E,0):$,tt(rt)?(k="",St!=null&&(k=St.replace(lt,"$&/")+"/"),B(rt,T,k,"",function(Sn){return Sn})):rt!=null&&(ft(rt)&&(rt=nt(rt,k+(rt.key==null||E&&E.key===rt.key?"":(""+rt.key).replace(lt,"$&/")+"/")+St)),T.push(rt)),1;St=0;var le=$===""?".":$+":";if(tt(E))for(var Yt=0;Yt<E.length;Yt++)$=E[Yt],ot=le+At($,Yt),St+=B($,T,k,ot,rt);else if(Yt=_(E),typeof Yt=="function")for(E=Yt.call(E),Yt=0;!($=E.next()).done;)$=$.value,ot=le+At($,Yt++),St+=B($,T,k,ot,rt);else if(ot==="object"){if(typeof E.then=="function")return B(xt(E),T,k,$,rt);throw T=String(E),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.")}return St}function J(E,T,k){if(E==null)return E;var $=[],rt=0;return B(E,$,"","",function(ot){return T.call(k,ot,rt++)}),$}function it(E){if(E._status===-1){var T=E._result;T=T(),T.then(function(k){(E._status===0||E._status===-1)&&(E._status=1,E._result=k)},function(k){(E._status===0||E._status===-1)&&(E._status=2,E._result=k)}),E._status===-1&&(E._status=0,E._result=T)}if(E._status===1)return E._result.default;throw E._result}var vt=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var T=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(T))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},bt={map:J,forEach:function(E,T,k){J(E,function(){T.apply(this,arguments)},k)},count:function(E){var T=0;return J(E,function(){T++}),T},toArray:function(E){return J(E,function(T){return T})||[]},only:function(E){if(!ft(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return ut.Activity=y,ut.Children=bt,ut.Component=D,ut.Fragment=s,ut.Profiler=u,ut.PureComponent=K,ut.StrictMode=l,ut.Suspense=p,ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,ut.__COMPILER_RUNTIME={__proto__:null,c:function(E){return P.H.useMemoCache(E)}},ut.cache=function(E){return function(){return E.apply(null,arguments)}},ut.cacheSignal=function(){return null},ut.cloneElement=function(E,T,k){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var $=A({},E.props),rt=E.key;if(T!=null)for(ot in T.key!==void 0&&(rt=""+T.key),T)!G.call(T,ot)||ot==="key"||ot==="__self"||ot==="__source"||ot==="ref"&&T.ref===void 0||($[ot]=T[ot]);var ot=arguments.length-2;if(ot===1)$.children=k;else if(1<ot){for(var St=Array(ot),le=0;le<ot;le++)St[le]=arguments[le+2];$.children=St}return st(E.type,rt,$)},ut.createContext=function(E){return E={$$typeof:f,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:c,_context:E},E},ut.createElement=function(E,T,k){var $,rt={},ot=null;if(T!=null)for($ in T.key!==void 0&&(ot=""+T.key),T)G.call(T,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(rt[$]=T[$]);var St=arguments.length-2;if(St===1)rt.children=k;else if(1<St){for(var le=Array(St),Yt=0;Yt<St;Yt++)le[Yt]=arguments[Yt+2];rt.children=le}if(E&&E.defaultProps)for($ in St=E.defaultProps,St)rt[$]===void 0&&(rt[$]=St[$]);return st(E,ot,rt)},ut.createRef=function(){return{current:null}},ut.forwardRef=function(E){return{$$typeof:m,render:E}},ut.isValidElement=ft,ut.lazy=function(E){return{$$typeof:x,_payload:{_status:-1,_result:E},_init:it}},ut.memo=function(E,T){return{$$typeof:d,type:E,compare:T===void 0?null:T}},ut.startTransition=function(E){var T=P.T,k={};P.T=k;try{var $=E(),rt=P.S;rt!==null&&rt(k,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(F,vt)}catch(ot){vt(ot)}finally{T!==null&&k.types!==null&&(T.types=k.types),P.T=T}},ut.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},ut.use=function(E){return P.H.use(E)},ut.useActionState=function(E,T,k){return P.H.useActionState(E,T,k)},ut.useCallback=function(E,T){return P.H.useCallback(E,T)},ut.useContext=function(E){return P.H.useContext(E)},ut.useDebugValue=function(){},ut.useDeferredValue=function(E,T){return P.H.useDeferredValue(E,T)},ut.useEffect=function(E,T){return P.H.useEffect(E,T)},ut.useEffectEvent=function(E){return P.H.useEffectEvent(E)},ut.useId=function(){return P.H.useId()},ut.useImperativeHandle=function(E,T,k){return P.H.useImperativeHandle(E,T,k)},ut.useInsertionEffect=function(E,T){return P.H.useInsertionEffect(E,T)},ut.useLayoutEffect=function(E,T){return P.H.useLayoutEffect(E,T)},ut.useMemo=function(E,T){return P.H.useMemo(E,T)},ut.useOptimistic=function(E,T){return P.H.useOptimistic(E,T)},ut.useReducer=function(E,T,k){return P.H.useReducer(E,T,k)},ut.useRef=function(E){return P.H.useRef(E)},ut.useState=function(E){return P.H.useState(E)},ut.useSyncExternalStore=function(E,T,k){return P.H.useSyncExternalStore(E,T,k)},ut.useTransition=function(){return P.H.useTransition()},ut.version="19.2.3",ut}var Im;function Cc(){return Im||(Im=1,Xh.exports=Gy()),Xh.exports}var j=Cc();const Fa=Vy(j);var Qh={exports:{}},pl={},Kh={exports:{}},Jh={};var t0;function Xy(){return t0||(t0=1,(function(a){function e(B,J){var it=B.length;B.push(J);t:for(;0<it;){var vt=it-1>>>1,bt=B[vt];if(0<u(bt,J))B[vt]=J,B[it]=bt,it=vt;else break t}}function s(B){return B.length===0?null:B[0]}function l(B){if(B.length===0)return null;var J=B[0],it=B.pop();if(it!==J){B[0]=it;t:for(var vt=0,bt=B.length,E=bt>>>1;vt<E;){var T=2*(vt+1)-1,k=B[T],$=T+1,rt=B[$];if(0>u(k,it))$<bt&&0>u(rt,k)?(B[vt]=rt,B[$]=it,vt=$):(B[vt]=k,B[T]=it,vt=T);else if($<bt&&0>u(rt,it))B[vt]=rt,B[$]=it,vt=$;else break t}}return J}function u(B,J){var it=B.sortIndex-J.sortIndex;return it!==0?it:B.id-J.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();a.unstable_now=function(){return f.now()-m}}var p=[],d=[],x=1,y=null,S=3,_=!1,w=!1,A=!1,L=!1,D=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function Z(B){for(var J=s(d);J!==null;){if(J.callback===null)l(d);else if(J.startTime<=B)l(d),J.sortIndex=J.expirationTime,e(p,J);else break;J=s(d)}}function tt(B){if(A=!1,Z(B),!w)if(s(p)!==null)w=!0,F||(F=!0,Q());else{var J=s(d);J!==null&&xt(tt,J.startTime-B)}}var F=!1,P=-1,G=5,st=-1;function nt(){return L?!0:!(a.unstable_now()-st<G)}function ft(){if(L=!1,F){var B=a.unstable_now();st=B;var J=!0;try{t:{w=!1,A&&(A=!1,V(P),P=-1),_=!0;var it=S;try{e:{for(Z(B),y=s(p);y!==null&&!(y.expirationTime>B&&nt());){var vt=y.callback;if(typeof vt=="function"){y.callback=null,S=y.priorityLevel;var bt=vt(y.expirationTime<=B);if(B=a.unstable_now(),typeof bt=="function"){y.callback=bt,Z(B),J=!0;break e}y===s(p)&&l(p),Z(B)}else l(p);y=s(p)}if(y!==null)J=!0;else{var E=s(d);E!==null&&xt(tt,E.startTime-B),J=!1}}break t}finally{y=null,S=it,_=!1}J=void 0}}finally{J?Q():F=!1}}}var Q;if(typeof K=="function")Q=function(){K(ft)};else if(typeof MessageChannel<"u"){var lt=new MessageChannel,At=lt.port2;lt.port1.onmessage=ft,Q=function(){At.postMessage(null)}}else Q=function(){D(ft,0)};function xt(B,J){P=D(function(){B(a.unstable_now())},J)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(B){B.callback=null},a.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<B?Math.floor(1e3/B):5},a.unstable_getCurrentPriorityLevel=function(){return S},a.unstable_next=function(B){switch(S){case 1:case 2:case 3:var J=3;break;default:J=S}var it=S;S=J;try{return B()}finally{S=it}},a.unstable_requestPaint=function(){L=!0},a.unstable_runWithPriority=function(B,J){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var it=S;S=B;try{return J()}finally{S=it}},a.unstable_scheduleCallback=function(B,J,it){var vt=a.unstable_now();switch(typeof it=="object"&&it!==null?(it=it.delay,it=typeof it=="number"&&0<it?vt+it:vt):it=vt,B){case 1:var bt=-1;break;case 2:bt=250;break;case 5:bt=1073741823;break;case 4:bt=1e4;break;default:bt=5e3}return bt=it+bt,B={id:x++,callback:J,priorityLevel:B,startTime:it,expirationTime:bt,sortIndex:-1},it>vt?(B.sortIndex=it,e(d,B),s(p)===null&&B===s(d)&&(A?(V(P),P=-1):A=!0,xt(tt,it-vt))):(B.sortIndex=bt,e(p,B),w||_||(w=!0,F||(F=!0,Q()))),B},a.unstable_shouldYield=nt,a.unstable_wrapCallback=function(B){var J=S;return function(){var it=S;S=J;try{return B.apply(this,arguments)}finally{S=it}}}})(Jh)),Jh}var e0;function Qy(){return e0||(e0=1,Kh.exports=Xy()),Kh.exports}var Zh={exports:{}},ne={};var i0;function Ky(){if(i0)return ne;i0=1;var a=Cc();function e(p){var d="https://react.dev/errors/"+p;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)d+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var l={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},u=Symbol.for("react.portal");function c(p,d,x){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:y==null?null:""+y,children:p,containerInfo:d,implementation:x}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,d){if(p==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ne.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,ne.createPortal=function(p,d){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return c(p,d,null,x)},ne.flushSync=function(p){var d=f.T,x=l.p;try{if(f.T=null,l.p=2,p)return p()}finally{f.T=d,l.p=x,l.d.f()}},ne.preconnect=function(p,d){typeof p=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,l.d.C(p,d))},ne.prefetchDNS=function(p){typeof p=="string"&&l.d.D(p)},ne.preinit=function(p,d){if(typeof p=="string"&&d&&typeof d.as=="string"){var x=d.as,y=m(x,d.crossOrigin),S=typeof d.integrity=="string"?d.integrity:void 0,_=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;x==="style"?l.d.S(p,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:S,fetchPriority:_}):x==="script"&&l.d.X(p,{crossOrigin:y,integrity:S,fetchPriority:_,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ne.preinitModule=function(p,d){if(typeof p=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var x=m(d.as,d.crossOrigin);l.d.M(p,{crossOrigin:x,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&l.d.M(p)},ne.preload=function(p,d){if(typeof p=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var x=d.as,y=m(x,d.crossOrigin);l.d.L(p,x,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ne.preloadModule=function(p,d){if(typeof p=="string")if(d){var x=m(d.as,d.crossOrigin);l.d.m(p,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:x,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else l.d.m(p)},ne.requestFormReset=function(p){l.d.r(p)},ne.unstable_batchedUpdates=function(p,d){return p(d)},ne.useFormState=function(p,d,x){return f.H.useFormState(p,d,x)},ne.useFormStatus=function(){return f.H.useHostTransitionStatus()},ne.version="19.2.3",ne}var s0;function Jy(){if(s0)return Zh.exports;s0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Zh.exports=Ky(),Zh.exports}var n0;function Zy(){if(n0)return pl;n0=1;var a=Qy(),e=Cc(),s=Jy();function l(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)i+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,n=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(n=i.return),t=i.return;while(t)}return i.tag===3?n:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(l(188))}function d(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(l(188));return i!==t?null:t}for(var n=t,r=i;;){var h=n.return;if(h===null)break;var o=h.alternate;if(o===null){if(r=h.return,r!==null){n=r;continue}break}if(h.child===o.child){for(o=h.child;o;){if(o===n)return p(h),t;if(o===r)return p(h),i;o=o.sibling}throw Error(l(188))}if(n.return!==r.return)n=h,r=o;else{for(var v=!1,b=h.child;b;){if(b===n){v=!0,n=h,r=o;break}if(b===r){v=!0,r=h,n=o;break}b=b.sibling}if(!v){for(b=o.child;b;){if(b===n){v=!0,n=o,r=h;break}if(b===r){v=!0,r=o,n=h;break}b=b.sibling}if(!v)throw Error(l(189))}}if(n.alternate!==r)throw Error(l(190))}if(n.tag!==3)throw Error(l(188));return n.stateNode.current===n?t:i}function x(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=x(t),i!==null)return i;t=t.sibling}return null}var y=Object.assign,S=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),K=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),st=Symbol.for("react.activity"),nt=Symbol.for("react.memo_cache_sentinel"),ft=Symbol.iterator;function Q(t){return t===null||typeof t!="object"?null:(t=ft&&t[ft]||t["@@iterator"],typeof t=="function"?t:null)}var lt=Symbol.for("react.client.reference");function At(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===lt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case A:return"Fragment";case D:return"Profiler";case L:return"StrictMode";case tt:return"Suspense";case F:return"SuspenseList";case st:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case w:return"Portal";case K:return t.displayName||"Context";case V:return(t._context.displayName||"Context")+".Consumer";case Z:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case P:return i=t.displayName||null,i!==null?i:At(t.type)||"Memo";case G:i=t._payload,t=t._init;try{return At(t(i))}catch{}}return null}var xt=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it={pending:!1,data:null,method:null,action:null},vt=[],bt=-1;function E(t){return{current:t}}function T(t){0>bt||(t.current=vt[bt],vt[bt]=null,bt--)}function k(t,i){bt++,vt[bt]=t.current,t.current=i}var $=E(null),rt=E(null),ot=E(null),St=E(null);function le(t,i){switch(k(ot,i),k(rt,t),k($,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?xm(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=xm(i),t=bm(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}T($),k($,t)}function Yt(){T($),T(rt),T(ot)}function Sn(t){t.memoizedState!==null&&k(St,t);var i=$.current,n=bm(i,t.type);i!==n&&(k(rt,t),k($,n))}function Al(t){rt.current===t&&(T($),T(rt)),St.current===t&&(T(St),cl._currentValue=it)}var Nr,Jc;function $i(t){if(Nr===void 0)try{throw Error()}catch(n){var i=n.stack.trim().match(/\n( *(at )?)/);Nr=i&&i[1]||"",Jc=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nr+t+Jc}var Er=!1;function jr(t,i){if(!t||Er)return"";Er=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(i){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(U){var O=U}Reflect.construct(t,[],q)}else{try{q.call()}catch(U){O=U}t.call(q.prototype)}}else{try{throw Error()}catch(U){O=U}(q=t())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(U){if(U&&O&&typeof U.stack=="string")return[U.stack,O.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),v=o[0],b=o[1];if(v&&b){var M=v.split(`
`),R=b.split(`
`);for(h=r=0;r<M.length&&!M[r].includes("DetermineComponentFrameRoot");)r++;for(;h<R.length&&!R[h].includes("DetermineComponentFrameRoot");)h++;if(r===M.length||h===R.length)for(r=M.length-1,h=R.length-1;1<=r&&0<=h&&M[r]!==R[h];)h--;for(;1<=r&&0<=h;r--,h--)if(M[r]!==R[h]){if(r!==1||h!==1)do if(r--,h--,0>h||M[r]!==R[h]){var H=`
`+M[r].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=r&&0<=h);break}}}finally{Er=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?$i(n):""}function vg(t,i){switch(t.tag){case 26:case 27:case 5:return $i(t.type);case 16:return $i("Lazy");case 13:return t.child!==i&&i!==null?$i("Suspense Fallback"):$i("Suspense");case 19:return $i("SuspenseList");case 0:case 15:return jr(t.type,!1);case 11:return jr(t.type.render,!1);case 1:return jr(t.type,!0);case 31:return $i("Activity");default:return""}}function Zc(t){try{var i="",n=null;do i+=vg(t,n),n=t,t=t.return;while(t);return i}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Cr=Object.prototype.hasOwnProperty,Tr=a.unstable_scheduleCallback,zr=a.unstable_cancelCallback,yg=a.unstable_shouldYield,xg=a.unstable_requestPaint,ye=a.unstable_now,bg=a.unstable_getCurrentPriorityLevel,$c=a.unstable_ImmediatePriority,Fc=a.unstable_UserBlockingPriority,Dl=a.unstable_NormalPriority,Sg=a.unstable_LowPriority,Pc=a.unstable_IdlePriority,wg=a.log,Mg=a.unstable_setDisableYieldValue,wn=null,xe=null;function bi(t){if(typeof wg=="function"&&Mg(t),xe&&typeof xe.setStrictMode=="function")try{xe.setStrictMode(wn,t)}catch{}}var be=Math.clz32?Math.clz32:Eg,_g=Math.log,Ng=Math.LN2;function Eg(t){return t>>>=0,t===0?32:31-(_g(t)/Ng|0)|0}var Ol=256,Ll=262144,Ul=4194304;function Fi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Bl(t,i,n){var r=t.pendingLanes;if(r===0)return 0;var h=0,o=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var b=r&134217727;return b!==0?(r=b&~o,r!==0?h=Fi(r):(v&=b,v!==0?h=Fi(v):n||(n=b&~t,n!==0&&(h=Fi(n))))):(b=r&~o,b!==0?h=Fi(b):v!==0?h=Fi(v):n||(n=r&~t,n!==0&&(h=Fi(n)))),h===0?0:i!==0&&i!==h&&(i&o)===0&&(o=h&-h,n=i&-i,o>=n||o===32&&(n&4194048)!==0)?i:h}function Mn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function jg(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wc(){var t=Ul;return Ul<<=1,(Ul&62914560)===0&&(Ul=4194304),t}function Rr(t){for(var i=[],n=0;31>n;n++)i.push(t);return i}function _n(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Cg(t,i,n,r,h,o){var v=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var b=t.entanglements,M=t.expirationTimes,R=t.hiddenUpdates;for(n=v&~n;0<n;){var H=31-be(n),q=1<<H;b[H]=0,M[H]=-1;var O=R[H];if(O!==null)for(R[H]=null,H=0;H<O.length;H++){var U=O[H];U!==null&&(U.lane&=-536870913)}n&=~q}r!==0&&Ic(t,r,0),o!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=o&~(v&~i))}function Ic(t,i,n){t.pendingLanes|=i,t.suspendedLanes&=~i;var r=31-be(i);t.entangledLanes|=i,t.entanglements[r]=t.entanglements[r]|1073741824|n&261930}function to(t,i){var n=t.entangledLanes|=i;for(t=t.entanglements;n;){var r=31-be(n),h=1<<r;h&i|t[r]&i&&(t[r]|=i),n&=~h}}function eo(t,i){var n=i&-i;return n=(n&42)!==0?1:Ar(n),(n&(t.suspendedLanes|i))!==0?0:n}function Ar(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Dr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function io(){var t=J.p;return t!==0?t:(t=window.event,t===void 0?32:Gm(t.type))}function so(t,i){var n=J.p;try{return J.p=t,i()}finally{J.p=n}}var Si=Math.random().toString(36).slice(2),Ft="__reactFiber$"+Si,ue="__reactProps$"+Si,Ss="__reactContainer$"+Si,Or="__reactEvents$"+Si,Tg="__reactListeners$"+Si,zg="__reactHandles$"+Si,no="__reactResources$"+Si,Nn="__reactMarker$"+Si;function Lr(t){delete t[Ft],delete t[ue],delete t[Or],delete t[Tg],delete t[zg]}function ws(t){var i=t[Ft];if(i)return i;for(var n=t.parentNode;n;){if(i=n[Ss]||n[Ft]){if(n=i.alternate,i.child!==null||n!==null&&n.child!==null)for(t=jm(t);t!==null;){if(n=t[Ft])return n;t=jm(t)}return i}t=n,n=t.parentNode}return null}function Ms(t){if(t=t[Ft]||t[Ss]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function En(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(l(33))}function _s(t){var i=t[no];return i||(i=t[no]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Zt(t){t[Nn]=!0}var lo=new Set,ao={};function Pi(t,i){Ns(t,i),Ns(t+"Capture",i)}function Ns(t,i){for(ao[t]=i,t=0;t<i.length;t++)lo.add(i[t])}var Rg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ro={},uo={};function Ag(t){return Cr.call(uo,t)?!0:Cr.call(ro,t)?!1:Rg.test(t)?uo[t]=!0:(ro[t]=!0,!1)}function Hl(t,i,n){if(Ag(i))if(n===null)t.removeAttribute(i);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var r=i.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+n)}}function Yl(t,i,n){if(n===null)t.removeAttribute(i);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+n)}}function Pe(t,i,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(i,n,""+r)}}function Ae(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ho(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Dg(t,i,n){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var h=r.get,o=r.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){n=""+v,o.call(this,v)}}),Object.defineProperty(t,i,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(v){n=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ur(t){if(!t._valueTracker){var i=ho(t)?"checked":"value";t._valueTracker=Dg(t,i,""+t[i])}}function co(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var n=i.getValue(),r="";return t&&(r=ho(t)?t.checked?"true":"false":t.value),t=r,t!==n?(i.setValue(t),!0):!1}function Vl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Og=/[\n"\\]/g;function De(t){return t.replace(Og,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Br(t,i,n,r,h,o,v,b){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ae(i)):t.value!==""+Ae(i)&&(t.value=""+Ae(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Hr(t,v,Ae(i)):n!=null?Hr(t,v,Ae(n)):r!=null&&t.removeAttribute("value"),h==null&&o!=null&&(t.defaultChecked=!!o),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Ae(b):t.removeAttribute("name")}function oo(t,i,n,r,h,o,v,b){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(t.type=o),i!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||i!=null)){Ur(t);return}n=n!=null?""+Ae(n):"",i=i!=null?""+Ae(i):n,b||i===t.value||(t.value=i),t.defaultValue=i}r=r??h,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=b?t.checked:!!r,t.defaultChecked=!!r,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Ur(t)}function Hr(t,i,n){i==="number"&&Vl(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Es(t,i,n,r){if(t=t.options,i){i={};for(var h=0;h<n.length;h++)i["$"+n[h]]=!0;for(n=0;n<t.length;n++)h=i.hasOwnProperty("$"+t[n].value),t[n].selected!==h&&(t[n].selected=h),h&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ae(n),i=null,h=0;h<t.length;h++){if(t[h].value===n){t[h].selected=!0,r&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function fo(t,i,n){if(i!=null&&(i=""+Ae(i),i!==t.value&&(t.value=i),n==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=n!=null?""+Ae(n):""}function mo(t,i,n,r){if(i==null){if(r!=null){if(n!=null)throw Error(l(92));if(xt(r)){if(1<r.length)throw Error(l(93));r=r[0]}n=r}n==null&&(n=""),i=n}n=Ae(i),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r),Ur(t)}function js(t,i){if(i){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=i;return}}t.textContent=i}var Lg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function po(t,i,n){var r=i.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":r?t.setProperty(i,n):typeof n!="number"||n===0||Lg.has(i)?i==="float"?t.cssFloat=n:t[i]=(""+n).trim():t[i]=n+"px"}function go(t,i,n){if(i!=null&&typeof i!="object")throw Error(l(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||i!=null&&i.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var h in i)r=i[h],i.hasOwnProperty(h)&&n[h]!==r&&po(t,h,r)}else for(var o in i)i.hasOwnProperty(o)&&po(t,o,i[o])}function Yr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ug=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ql(t){return Bg.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function We(){}var Vr=null;function qr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cs=null,Ts=null;function vo(t){var i=Ms(t);if(i&&(t=i.stateNode)){var n=t[ue]||null;t:switch(t=i.stateNode,i.type){case"input":if(Br(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),i=n.name,n.type==="radio"&&i!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+De(""+i)+'"][type="radio"]'),i=0;i<n.length;i++){var r=n[i];if(r!==t&&r.form===t.form){var h=r[ue]||null;if(!h)throw Error(l(90));Br(r,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<n.length;i++)r=n[i],r.form===t.form&&co(r)}break t;case"textarea":fo(t,n.value,n.defaultValue);break t;case"select":i=n.value,i!=null&&Es(t,!!n.multiple,i,!1)}}}var kr=!1;function yo(t,i,n){if(kr)return t(i,n);kr=!0;try{var r=t(i);return r}finally{if(kr=!1,(Cs!==null||Ts!==null)&&(Ca(),Cs&&(i=Cs,t=Ts,Ts=Cs=null,vo(i),t)))for(i=0;i<t.length;i++)vo(t[i])}}function jn(t,i){var n=t.stateNode;if(n===null)return null;var r=n[ue]||null;if(r===null)return null;n=r[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break t;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(l(231,i,typeof n));return n}var Ie=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gr=!1;if(Ie)try{var Cn={};Object.defineProperty(Cn,"passive",{get:function(){Gr=!0}}),window.addEventListener("test",Cn,Cn),window.removeEventListener("test",Cn,Cn)}catch{Gr=!1}var wi=null,Xr=null,kl=null;function xo(){if(kl)return kl;var t,i=Xr,n=i.length,r,h="value"in wi?wi.value:wi.textContent,o=h.length;for(t=0;t<n&&i[t]===h[t];t++);var v=n-t;for(r=1;r<=v&&i[n-r]===h[o-r];r++);return kl=h.slice(t,1<r?1-r:void 0)}function Gl(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Xl(){return!0}function bo(){return!1}function he(t){function i(n,r,h,o,v){this._reactName=n,this._targetInst=h,this.type=r,this.nativeEvent=o,this.target=v,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(n=t[b],this[b]=n?n(o):o[b]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Xl:bo,this.isPropagationStopped=bo,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xl)},persist:function(){},isPersistent:Xl}),i}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ql=he(Wi),Tn=y({},Wi,{view:0,detail:0}),Hg=he(Tn),Qr,Kr,zn,Kl=y({},Tn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zn&&(zn&&t.type==="mousemove"?(Qr=t.screenX-zn.screenX,Kr=t.screenY-zn.screenY):Kr=Qr=0,zn=t),Qr)},movementY:function(t){return"movementY"in t?t.movementY:Kr}}),So=he(Kl),Yg=y({},Kl,{dataTransfer:0}),Vg=he(Yg),qg=y({},Tn,{relatedTarget:0}),Jr=he(qg),kg=y({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),Gg=he(kg),Xg=y({},Wi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qg=he(Xg),Kg=y({},Wi,{data:0}),wo=he(Kg),Jg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$g={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fg(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=$g[t])?!!i[t]:!1}function Zr(){return Fg}var Pg=y({},Tn,{key:function(t){if(t.key){var i=Jg[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Gl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Zg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zr,charCode:function(t){return t.type==="keypress"?Gl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wg=he(Pg),Ig=y({},Kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mo=he(Ig),tv=y({},Tn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zr}),ev=he(tv),iv=y({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),sv=he(iv),nv=y({},Kl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lv=he(nv),av=y({},Wi,{newState:0,oldState:0}),rv=he(av),uv=[9,13,27,32],$r=Ie&&"CompositionEvent"in window,Rn=null;Ie&&"documentMode"in document&&(Rn=document.documentMode);var hv=Ie&&"TextEvent"in window&&!Rn,_o=Ie&&(!$r||Rn&&8<Rn&&11>=Rn),No=" ",Eo=!1;function jo(t,i){switch(t){case"keyup":return uv.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Co(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zs=!1;function cv(t,i){switch(t){case"compositionend":return Co(i);case"keypress":return i.which!==32?null:(Eo=!0,No);case"textInput":return t=i.data,t===No&&Eo?null:t;default:return null}}function ov(t,i){if(zs)return t==="compositionend"||!$r&&jo(t,i)?(t=xo(),kl=Xr=wi=null,zs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _o&&i.locale!=="ko"?null:i.data;default:return null}}var fv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function To(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!fv[t.type]:i==="textarea"}function zo(t,i,n,r){Cs?Ts?Ts.push(r):Ts=[r]:Cs=r,i=La(i,"onChange"),0<i.length&&(n=new Ql("onChange","change",null,n,r),t.push({event:n,listeners:i}))}var An=null,Dn=null;function dv(t){dm(t,0)}function Jl(t){var i=En(t);if(co(i))return t}function Ro(t,i){if(t==="change")return i}var Ao=!1;if(Ie){var Fr;if(Ie){var Pr="oninput"in document;if(!Pr){var Do=document.createElement("div");Do.setAttribute("oninput","return;"),Pr=typeof Do.oninput=="function"}Fr=Pr}else Fr=!1;Ao=Fr&&(!document.documentMode||9<document.documentMode)}function Oo(){An&&(An.detachEvent("onpropertychange",Lo),Dn=An=null)}function Lo(t){if(t.propertyName==="value"&&Jl(Dn)){var i=[];zo(i,Dn,t,qr(t)),yo(dv,i)}}function mv(t,i,n){t==="focusin"?(Oo(),An=i,Dn=n,An.attachEvent("onpropertychange",Lo)):t==="focusout"&&Oo()}function pv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Jl(Dn)}function gv(t,i){if(t==="click")return Jl(i)}function vv(t,i){if(t==="input"||t==="change")return Jl(i)}function yv(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Se=typeof Object.is=="function"?Object.is:yv;function On(t,i){if(Se(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var n=Object.keys(t),r=Object.keys(i);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var h=n[r];if(!Cr.call(i,h)||!Se(t[h],i[h]))return!1}return!0}function Uo(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bo(t,i){var n=Uo(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=i&&r>=i)return{node:n,offset:i-t};t=r}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Uo(n)}}function Ho(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Ho(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Yo(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Vl(t.document);i instanceof t.HTMLIFrameElement;){try{var n=typeof i.contentWindow.location.href=="string"}catch{n=!1}if(n)t=i.contentWindow;else break;i=Vl(t.document)}return i}function Wr(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var xv=Ie&&"documentMode"in document&&11>=document.documentMode,Rs=null,Ir=null,Ln=null,tu=!1;function Vo(t,i,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tu||Rs==null||Rs!==Vl(r)||(r=Rs,"selectionStart"in r&&Wr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ln&&On(Ln,r)||(Ln=r,r=La(Ir,"onSelect"),0<r.length&&(i=new Ql("onSelect","select",null,i,n),t.push({event:i,listeners:r}),i.target=Rs)))}function Ii(t,i){var n={};return n[t.toLowerCase()]=i.toLowerCase(),n["Webkit"+t]="webkit"+i,n["Moz"+t]="moz"+i,n}var As={animationend:Ii("Animation","AnimationEnd"),animationiteration:Ii("Animation","AnimationIteration"),animationstart:Ii("Animation","AnimationStart"),transitionrun:Ii("Transition","TransitionRun"),transitionstart:Ii("Transition","TransitionStart"),transitioncancel:Ii("Transition","TransitionCancel"),transitionend:Ii("Transition","TransitionEnd")},eu={},qo={};Ie&&(qo=document.createElement("div").style,"AnimationEvent"in window||(delete As.animationend.animation,delete As.animationiteration.animation,delete As.animationstart.animation),"TransitionEvent"in window||delete As.transitionend.transition);function ts(t){if(eu[t])return eu[t];if(!As[t])return t;var i=As[t],n;for(n in i)if(i.hasOwnProperty(n)&&n in qo)return eu[t]=i[n];return t}var ko=ts("animationend"),Go=ts("animationiteration"),Xo=ts("animationstart"),bv=ts("transitionrun"),Sv=ts("transitionstart"),wv=ts("transitioncancel"),Qo=ts("transitionend"),Ko=new Map,iu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");iu.push("scrollEnd");function ke(t,i){Ko.set(t,i),Pi(i,[t])}var Zl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Oe=[],Ds=0,su=0;function $l(){for(var t=Ds,i=su=Ds=0;i<t;){var n=Oe[i];Oe[i++]=null;var r=Oe[i];Oe[i++]=null;var h=Oe[i];Oe[i++]=null;var o=Oe[i];if(Oe[i++]=null,r!==null&&h!==null){var v=r.pending;v===null?h.next=h:(h.next=v.next,v.next=h),r.pending=h}o!==0&&Jo(n,h,o)}}function Fl(t,i,n,r){Oe[Ds++]=t,Oe[Ds++]=i,Oe[Ds++]=n,Oe[Ds++]=r,su|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function nu(t,i,n,r){return Fl(t,i,n,r),Pl(t)}function es(t,i){return Fl(t,null,null,i),Pl(t)}function Jo(t,i,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var h=!1,o=t.return;o!==null;)o.childLanes|=n,r=o.alternate,r!==null&&(r.childLanes|=n),o.tag===22&&(t=o.stateNode,t===null||t._visibility&1||(h=!0)),t=o,o=o.return;return t.tag===3?(o=t.stateNode,h&&i!==null&&(h=31-be(n),t=o.hiddenUpdates,r=t[h],r===null?t[h]=[i]:r.push(i),i.lane=n|536870912),o):null}function Pl(t){if(50<sl)throw sl=0,dh=null,Error(l(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Os={};function Mv(t,i,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function we(t,i,n,r){return new Mv(t,i,n,r)}function lu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ti(t,i){var n=t.alternate;return n===null?(n=we(t.tag,i,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=i,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,i=t.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function Zo(t,i){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,i=n.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Wl(t,i,n,r,h,o){var v=0;if(r=t,typeof t=="function")lu(t)&&(v=1);else if(typeof t=="string")v=Cy(t,n,$.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case st:return t=we(31,n,i,h),t.elementType=st,t.lanes=o,t;case A:return is(n.children,h,o,i);case L:v=8,h|=24;break;case D:return t=we(12,n,i,h|2),t.elementType=D,t.lanes=o,t;case tt:return t=we(13,n,i,h),t.elementType=tt,t.lanes=o,t;case F:return t=we(19,n,i,h),t.elementType=F,t.lanes=o,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K:v=10;break t;case V:v=9;break t;case Z:v=11;break t;case P:v=14;break t;case G:v=16,r=null;break t}v=29,n=Error(l(130,t===null?"null":typeof t,"")),r=null}return i=we(v,n,i,h),i.elementType=t,i.type=r,i.lanes=o,i}function is(t,i,n,r){return t=we(7,t,r,i),t.lanes=n,t}function au(t,i,n){return t=we(6,t,null,i),t.lanes=n,t}function $o(t){var i=we(18,null,null,0);return i.stateNode=t,i}function ru(t,i,n){return i=we(4,t.children!==null?t.children:[],t.key,i),i.lanes=n,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Fo=new WeakMap;function Le(t,i){if(typeof t=="object"&&t!==null){var n=Fo.get(t);return n!==void 0?n:(i={value:t,source:i,stack:Zc(i)},Fo.set(t,i),i)}return{value:t,source:i,stack:Zc(i)}}var Ls=[],Us=0,Il=null,Un=0,Ue=[],Be=0,Mi=null,Ke=1,Je="";function ei(t,i){Ls[Us++]=Un,Ls[Us++]=Il,Il=t,Un=i}function Po(t,i,n){Ue[Be++]=Ke,Ue[Be++]=Je,Ue[Be++]=Mi,Mi=t;var r=Ke;t=Je;var h=32-be(r)-1;r&=~(1<<h),n+=1;var o=32-be(i)+h;if(30<o){var v=h-h%5;o=(r&(1<<v)-1).toString(32),r>>=v,h-=v,Ke=1<<32-be(i)+h|n<<h|r,Je=o+t}else Ke=1<<o|n<<h|r,Je=t}function uu(t){t.return!==null&&(ei(t,1),Po(t,1,0))}function hu(t){for(;t===Il;)Il=Ls[--Us],Ls[Us]=null,Un=Ls[--Us],Ls[Us]=null;for(;t===Mi;)Mi=Ue[--Be],Ue[Be]=null,Je=Ue[--Be],Ue[Be]=null,Ke=Ue[--Be],Ue[Be]=null}function Wo(t,i){Ue[Be++]=Ke,Ue[Be++]=Je,Ue[Be++]=Mi,Ke=i.id,Je=i.overflow,Mi=t}var Pt=null,Dt=null,yt=!1,_i=null,He=!1,cu=Error(l(519));function Ni(t){var i=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bn(Le(i,t)),cu}function Io(t){var i=t.stateNode,n=t.type,r=t.memoizedProps;switch(i[Ft]=t,i[ue]=r,n){case"dialog":mt("cancel",i),mt("close",i);break;case"iframe":case"object":case"embed":mt("load",i);break;case"video":case"audio":for(n=0;n<ll.length;n++)mt(ll[n],i);break;case"source":mt("error",i);break;case"img":case"image":case"link":mt("error",i),mt("load",i);break;case"details":mt("toggle",i);break;case"input":mt("invalid",i),oo(i,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":mt("invalid",i);break;case"textarea":mt("invalid",i),mo(i,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||i.textContent===""+n||r.suppressHydrationWarning===!0||vm(i.textContent,n)?(r.popover!=null&&(mt("beforetoggle",i),mt("toggle",i)),r.onScroll!=null&&mt("scroll",i),r.onScrollEnd!=null&&mt("scrollend",i),r.onClick!=null&&(i.onclick=We),i=!0):i=!1,i||Ni(t,!0)}function tf(t){for(Pt=t.return;Pt;)switch(Pt.tag){case 5:case 31:case 13:He=!1;return;case 27:case 3:He=!0;return;default:Pt=Pt.return}}function Bs(t){if(t!==Pt)return!1;if(!yt)return tf(t),yt=!0,!1;var i=t.tag,n;if((n=i!==3&&i!==27)&&((n=i===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Ch(t.type,t.memoizedProps)),n=!n),n&&Dt&&Ni(t),tf(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));Dt=Em(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));Dt=Em(t)}else i===27?(i=Dt,Yi(t.type)?(t=Dh,Dh=null,Dt=t):Dt=i):Dt=Pt?Ve(t.stateNode.nextSibling):null;return!0}function ss(){Dt=Pt=null,yt=!1}function ou(){var t=_i;return t!==null&&(de===null?de=t:de.push.apply(de,t),_i=null),t}function Bn(t){_i===null?_i=[t]:_i.push(t)}var fu=E(null),ns=null,ii=null;function Ei(t,i,n){k(fu,i._currentValue),i._currentValue=n}function si(t){t._currentValue=fu.current,T(fu)}function du(t,i,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,r!==null&&(r.childLanes|=i)):r!==null&&(r.childLanes&i)!==i&&(r.childLanes|=i),t===n)break;t=t.return}}function mu(t,i,n,r){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var o=h.dependencies;if(o!==null){var v=h.child;o=o.firstContext;t:for(;o!==null;){var b=o;o=h;for(var M=0;M<i.length;M++)if(b.context===i[M]){o.lanes|=n,b=o.alternate,b!==null&&(b.lanes|=n),du(o.return,n,t),r||(v=null);break t}o=b.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(l(341));v.lanes|=n,o=v.alternate,o!==null&&(o.lanes|=n),du(v,n,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Hs(t,i,n,r){t=null;for(var h=i,o=!1;h!==null;){if(!o){if((h.flags&524288)!==0)o=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(l(387));if(v=v.memoizedProps,v!==null){var b=h.type;Se(h.pendingProps.value,v.value)||(t!==null?t.push(b):t=[b])}}else if(h===St.current){if(v=h.alternate,v===null)throw Error(l(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(cl):t=[cl])}h=h.return}t!==null&&mu(i,t,n,r),i.flags|=262144}function ta(t){for(t=t.firstContext;t!==null;){if(!Se(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ls(t){ns=t,ii=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Wt(t){return ef(ns,t)}function ea(t,i){return ns===null&&ls(t),ef(t,i)}function ef(t,i){var n=i._currentValue;if(i={context:i,memoizedValue:n,next:null},ii===null){if(t===null)throw Error(l(308));ii=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ii=ii.next=i;return n}var _v=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){i.aborted=!0,t.forEach(function(n){return n()})}},Nv=a.unstable_scheduleCallback,Ev=a.unstable_NormalPriority,Gt={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pu(){return{controller:new _v,data:new Map,refCount:0}}function Hn(t){t.refCount--,t.refCount===0&&Nv(Ev,function(){t.controller.abort()})}var Yn=null,gu=0,Ys=0,Vs=null;function jv(t,i){if(Yn===null){var n=Yn=[];gu=0,Ys=xh(),Vs={status:"pending",value:void 0,then:function(r){n.push(r)}}}return gu++,i.then(sf,sf),i}function sf(){if(--gu===0&&Yn!==null){Vs!==null&&(Vs.status="fulfilled");var t=Yn;Yn=null,Ys=0,Vs=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Cv(t,i){var n=[],r={status:"pending",value:null,reason:null,then:function(h){n.push(h)}};return t.then(function(){r.status="fulfilled",r.value=i;for(var h=0;h<n.length;h++)(0,n[h])(i)},function(h){for(r.status="rejected",r.reason=h,h=0;h<n.length;h++)(0,n[h])(void 0)}),r}var nf=B.S;B.S=function(t,i){qd=ye(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&jv(t,i),nf!==null&&nf(t,i)};var as=E(null);function vu(){var t=as.current;return t!==null?t:zt.pooledCache}function ia(t,i){i===null?k(as,as.current):k(as,i.pool)}function lf(){var t=vu();return t===null?null:{parent:Gt._currentValue,pool:t}}var qs=Error(l(460)),yu=Error(l(474)),sa=Error(l(542)),na={then:function(){}};function af(t){return t=t.status,t==="fulfilled"||t==="rejected"}function rf(t,i,n){switch(n=t[n],n===void 0?t.push(i):n!==i&&(i.then(We,We),i=n),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,hf(t),t;default:if(typeof i.status=="string")i.then(We,We);else{if(t=zt,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=i,t.status="pending",t.then(function(r){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=r}},function(r){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=r}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,hf(t),t}throw us=i,qs}}function rs(t){try{var i=t._init;return i(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(us=n,qs):n}}var us=null;function uf(){if(us===null)throw Error(l(459));var t=us;return us=null,t}function hf(t){if(t===qs||t===sa)throw Error(l(483))}var ks=null,Vn=0;function la(t){var i=Vn;return Vn+=1,ks===null&&(ks=[]),rf(ks,t,i)}function qn(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function aa(t,i){throw i.$$typeof===S?Error(l(525)):(t=Object.prototype.toString.call(i),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function cf(t){function i(C,N){if(t){var z=C.deletions;z===null?(C.deletions=[N],C.flags|=16):z.push(N)}}function n(C,N){if(!t)return null;for(;N!==null;)i(C,N),N=N.sibling;return null}function r(C){for(var N=new Map;C!==null;)C.key!==null?N.set(C.key,C):N.set(C.index,C),C=C.sibling;return N}function h(C,N){return C=ti(C,N),C.index=0,C.sibling=null,C}function o(C,N,z){return C.index=z,t?(z=C.alternate,z!==null?(z=z.index,z<N?(C.flags|=67108866,N):z):(C.flags|=67108866,N)):(C.flags|=1048576,N)}function v(C){return t&&C.alternate===null&&(C.flags|=67108866),C}function b(C,N,z,Y){return N===null||N.tag!==6?(N=au(z,C.mode,Y),N.return=C,N):(N=h(N,z),N.return=C,N)}function M(C,N,z,Y){var et=z.type;return et===A?H(C,N,z.props.children,Y,z.key):N!==null&&(N.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===G&&rs(et)===N.type)?(N=h(N,z.props),qn(N,z),N.return=C,N):(N=Wl(z.type,z.key,z.props,null,C.mode,Y),qn(N,z),N.return=C,N)}function R(C,N,z,Y){return N===null||N.tag!==4||N.stateNode.containerInfo!==z.containerInfo||N.stateNode.implementation!==z.implementation?(N=ru(z,C.mode,Y),N.return=C,N):(N=h(N,z.children||[]),N.return=C,N)}function H(C,N,z,Y,et){return N===null||N.tag!==7?(N=is(z,C.mode,Y,et),N.return=C,N):(N=h(N,z),N.return=C,N)}function q(C,N,z){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=au(""+N,C.mode,z),N.return=C,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case _:return z=Wl(N.type,N.key,N.props,null,C.mode,z),qn(z,N),z.return=C,z;case w:return N=ru(N,C.mode,z),N.return=C,N;case G:return N=rs(N),q(C,N,z)}if(xt(N)||Q(N))return N=is(N,C.mode,z,null),N.return=C,N;if(typeof N.then=="function")return q(C,la(N),z);if(N.$$typeof===K)return q(C,ea(C,N),z);aa(C,N)}return null}function O(C,N,z,Y){var et=N!==null?N.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return et!==null?null:b(C,N,""+z,Y);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case _:return z.key===et?M(C,N,z,Y):null;case w:return z.key===et?R(C,N,z,Y):null;case G:return z=rs(z),O(C,N,z,Y)}if(xt(z)||Q(z))return et!==null?null:H(C,N,z,Y,null);if(typeof z.then=="function")return O(C,N,la(z),Y);if(z.$$typeof===K)return O(C,N,ea(C,z),Y);aa(C,z)}return null}function U(C,N,z,Y,et){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return C=C.get(z)||null,b(N,C,""+Y,et);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case _:return C=C.get(Y.key===null?z:Y.key)||null,M(N,C,Y,et);case w:return C=C.get(Y.key===null?z:Y.key)||null,R(N,C,Y,et);case G:return Y=rs(Y),U(C,N,z,Y,et)}if(xt(Y)||Q(Y))return C=C.get(z)||null,H(N,C,Y,et,null);if(typeof Y.then=="function")return U(C,N,z,la(Y),et);if(Y.$$typeof===K)return U(C,N,z,ea(N,Y),et);aa(N,Y)}return null}function W(C,N,z,Y){for(var et=null,wt=null,I=N,ct=N=0,gt=null;I!==null&&ct<z.length;ct++){I.index>ct?(gt=I,I=null):gt=I.sibling;var Mt=O(C,I,z[ct],Y);if(Mt===null){I===null&&(I=gt);break}t&&I&&Mt.alternate===null&&i(C,I),N=o(Mt,N,ct),wt===null?et=Mt:wt.sibling=Mt,wt=Mt,I=gt}if(ct===z.length)return n(C,I),yt&&ei(C,ct),et;if(I===null){for(;ct<z.length;ct++)I=q(C,z[ct],Y),I!==null&&(N=o(I,N,ct),wt===null?et=I:wt.sibling=I,wt=I);return yt&&ei(C,ct),et}for(I=r(I);ct<z.length;ct++)gt=U(I,C,ct,z[ct],Y),gt!==null&&(t&&gt.alternate!==null&&I.delete(gt.key===null?ct:gt.key),N=o(gt,N,ct),wt===null?et=gt:wt.sibling=gt,wt=gt);return t&&I.forEach(function(Xi){return i(C,Xi)}),yt&&ei(C,ct),et}function at(C,N,z,Y){if(z==null)throw Error(l(151));for(var et=null,wt=null,I=N,ct=N=0,gt=null,Mt=z.next();I!==null&&!Mt.done;ct++,Mt=z.next()){I.index>ct?(gt=I,I=null):gt=I.sibling;var Xi=O(C,I,Mt.value,Y);if(Xi===null){I===null&&(I=gt);break}t&&I&&Xi.alternate===null&&i(C,I),N=o(Xi,N,ct),wt===null?et=Xi:wt.sibling=Xi,wt=Xi,I=gt}if(Mt.done)return n(C,I),yt&&ei(C,ct),et;if(I===null){for(;!Mt.done;ct++,Mt=z.next())Mt=q(C,Mt.value,Y),Mt!==null&&(N=o(Mt,N,ct),wt===null?et=Mt:wt.sibling=Mt,wt=Mt);return yt&&ei(C,ct),et}for(I=r(I);!Mt.done;ct++,Mt=z.next())Mt=U(I,C,ct,Mt.value,Y),Mt!==null&&(t&&Mt.alternate!==null&&I.delete(Mt.key===null?ct:Mt.key),N=o(Mt,N,ct),wt===null?et=Mt:wt.sibling=Mt,wt=Mt);return t&&I.forEach(function(Yy){return i(C,Yy)}),yt&&ei(C,ct),et}function Tt(C,N,z,Y){if(typeof z=="object"&&z!==null&&z.type===A&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case _:t:{for(var et=z.key;N!==null;){if(N.key===et){if(et=z.type,et===A){if(N.tag===7){n(C,N.sibling),Y=h(N,z.props.children),Y.return=C,C=Y;break t}}else if(N.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===G&&rs(et)===N.type){n(C,N.sibling),Y=h(N,z.props),qn(Y,z),Y.return=C,C=Y;break t}n(C,N);break}else i(C,N);N=N.sibling}z.type===A?(Y=is(z.props.children,C.mode,Y,z.key),Y.return=C,C=Y):(Y=Wl(z.type,z.key,z.props,null,C.mode,Y),qn(Y,z),Y.return=C,C=Y)}return v(C);case w:t:{for(et=z.key;N!==null;){if(N.key===et)if(N.tag===4&&N.stateNode.containerInfo===z.containerInfo&&N.stateNode.implementation===z.implementation){n(C,N.sibling),Y=h(N,z.children||[]),Y.return=C,C=Y;break t}else{n(C,N);break}else i(C,N);N=N.sibling}Y=ru(z,C.mode,Y),Y.return=C,C=Y}return v(C);case G:return z=rs(z),Tt(C,N,z,Y)}if(xt(z))return W(C,N,z,Y);if(Q(z)){if(et=Q(z),typeof et!="function")throw Error(l(150));return z=et.call(z),at(C,N,z,Y)}if(typeof z.then=="function")return Tt(C,N,la(z),Y);if(z.$$typeof===K)return Tt(C,N,ea(C,z),Y);aa(C,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,N!==null&&N.tag===6?(n(C,N.sibling),Y=h(N,z),Y.return=C,C=Y):(n(C,N),Y=au(z,C.mode,Y),Y.return=C,C=Y),v(C)):n(C,N)}return function(C,N,z,Y){try{Vn=0;var et=Tt(C,N,z,Y);return ks=null,et}catch(I){if(I===qs||I===sa)throw I;var wt=we(29,I,null,C.mode);return wt.lanes=Y,wt.return=C,wt}}}var hs=cf(!0),of=cf(!1),ji=!1;function xu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bu(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ci(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ti(t,i,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(_t&2)!==0){var h=r.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),r.pending=i,i=Pl(t),Jo(t,null,n),i}return Fl(t,r,i,n),Pl(t)}function kn(t,i,n){if(i=i.updateQueue,i!==null&&(i=i.shared,(n&4194048)!==0)){var r=i.lanes;r&=t.pendingLanes,n|=r,i.lanes=n,to(t,n)}}function Su(t,i){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var h=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var v={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?h=o=v:o=o.next=v,n=n.next}while(n!==null);o===null?h=o=i:o=o.next=i}else h=o=i;n={baseState:r.baseState,firstBaseUpdate:h,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=i:t.next=i,n.lastBaseUpdate=i}var wu=!1;function Gn(){if(wu){var t=Vs;if(t!==null)throw t}}function Xn(t,i,n,r){wu=!1;var h=t.updateQueue;ji=!1;var o=h.firstBaseUpdate,v=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var M=b,R=M.next;M.next=null,v===null?o=R:v.next=R,v=M;var H=t.alternate;H!==null&&(H=H.updateQueue,b=H.lastBaseUpdate,b!==v&&(b===null?H.firstBaseUpdate=R:b.next=R,H.lastBaseUpdate=M))}if(o!==null){var q=h.baseState;v=0,H=R=M=null,b=o;do{var O=b.lane&-536870913,U=O!==b.lane;if(U?(pt&O)===O:(r&O)===O){O!==0&&O===Ys&&(wu=!0),H!==null&&(H=H.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var W=t,at=b;O=i;var Tt=n;switch(at.tag){case 1:if(W=at.payload,typeof W=="function"){q=W.call(Tt,q,O);break t}q=W;break t;case 3:W.flags=W.flags&-65537|128;case 0:if(W=at.payload,O=typeof W=="function"?W.call(Tt,q,O):W,O==null)break t;q=y({},q,O);break t;case 2:ji=!0}}O=b.callback,O!==null&&(t.flags|=64,U&&(t.flags|=8192),U=h.callbacks,U===null?h.callbacks=[O]:U.push(O))}else U={lane:O,tag:b.tag,payload:b.payload,callback:b.callback,next:null},H===null?(R=H=U,M=q):H=H.next=U,v|=O;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;U=b,b=U.next,U.next=null,h.lastBaseUpdate=U,h.shared.pending=null}}while(!0);H===null&&(M=q),h.baseState=M,h.firstBaseUpdate=R,h.lastBaseUpdate=H,o===null&&(h.shared.lanes=0),Oi|=v,t.lanes=v,t.memoizedState=q}}function ff(t,i){if(typeof t!="function")throw Error(l(191,t));t.call(i)}function df(t,i){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)ff(n[t],i)}var Gs=E(null),ra=E(0);function mf(t,i){t=fi,k(ra,t),k(Gs,i),fi=t|i.baseLanes}function Mu(){k(ra,fi),k(Gs,Gs.current)}function _u(){fi=ra.current,T(Gs),T(ra)}var Me=E(null),Ye=null;function zi(t){var i=t.alternate;k(Vt,Vt.current&1),k(Me,t),Ye===null&&(i===null||Gs.current!==null||i.memoizedState!==null)&&(Ye=t)}function Nu(t){k(Vt,Vt.current),k(Me,t),Ye===null&&(Ye=t)}function pf(t){t.tag===22?(k(Vt,Vt.current),k(Me,t),Ye===null&&(Ye=t)):Ri()}function Ri(){k(Vt,Vt.current),k(Me,Me.current)}function _e(t){T(Me),Ye===t&&(Ye=null),T(Vt)}var Vt=E(0);function ua(t){for(var i=t;i!==null;){if(i.tag===13){var n=i.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Rh(n)||Ah(n)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ni=0,ht=null,jt=null,Xt=null,ha=!1,Xs=!1,cs=!1,ca=0,Qn=0,Qs=null,Tv=0;function Bt(){throw Error(l(321))}function Eu(t,i){if(i===null)return!1;for(var n=0;n<i.length&&n<t.length;n++)if(!Se(t[n],i[n]))return!1;return!0}function ju(t,i,n,r,h,o){return ni=o,ht=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,B.H=t===null||t.memoizedState===null?Wf:ku,cs=!1,o=n(r,h),cs=!1,Xs&&(o=vf(i,n,r,h)),gf(t),o}function gf(t){B.H=Zn;var i=jt!==null&&jt.next!==null;if(ni=0,Xt=jt=ht=null,ha=!1,Qn=0,Qs=null,i)throw Error(l(300));t===null||Qt||(t=t.dependencies,t!==null&&ta(t)&&(Qt=!0))}function vf(t,i,n,r){ht=t;var h=0;do{if(Xs&&(Qs=null),Qn=0,Xs=!1,25<=h)throw Error(l(301));if(h+=1,Xt=jt=null,t.updateQueue!=null){var o=t.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}B.H=If,o=i(n,r)}while(Xs);return o}function zv(){var t=B.H,i=t.useState()[0];return i=typeof i.then=="function"?Kn(i):i,t=t.useState()[0],(jt!==null?jt.memoizedState:null)!==t&&(ht.flags|=1024),i}function Cu(){var t=ca!==0;return ca=0,t}function Tu(t,i,n){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~n}function zu(t){if(ha){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ha=!1}ni=0,Xt=jt=ht=null,Xs=!1,Qn=ca=0,Qs=null}function ae(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?ht.memoizedState=Xt=t:Xt=Xt.next=t,Xt}function qt(){if(jt===null){var t=ht.alternate;t=t!==null?t.memoizedState:null}else t=jt.next;var i=Xt===null?ht.memoizedState:Xt.next;if(i!==null)Xt=i,jt=t;else{if(t===null)throw ht.alternate===null?Error(l(467)):Error(l(310));jt=t,t={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Xt===null?ht.memoizedState=Xt=t:Xt=Xt.next=t}return Xt}function oa(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kn(t){var i=Qn;return Qn+=1,Qs===null&&(Qs=[]),t=rf(Qs,t,i),i=ht,(Xt===null?i.memoizedState:Xt.next)===null&&(i=i.alternate,B.H=i===null||i.memoizedState===null?Wf:ku),t}function fa(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Kn(t);if(t.$$typeof===K)return Wt(t)}throw Error(l(438,String(t)))}function Ru(t){var i=null,n=ht.updateQueue;if(n!==null&&(i=n.memoCache),i==null){var r=ht.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(i={data:r.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),n===null&&(n=oa(),ht.updateQueue=n),n.memoCache=i,n=i.data[i.index],n===void 0)for(n=i.data[i.index]=Array(t),r=0;r<t;r++)n[r]=nt;return i.index++,n}function li(t,i){return typeof i=="function"?i(t):i}function da(t){var i=qt();return Au(i,jt,t)}function Au(t,i,n){var r=t.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=n;var h=t.baseQueue,o=r.pending;if(o!==null){if(h!==null){var v=h.next;h.next=o.next,o.next=v}i.baseQueue=h=o,r.pending=null}if(o=t.baseState,h===null)t.memoizedState=o;else{i=h.next;var b=v=null,M=null,R=i,H=!1;do{var q=R.lane&-536870913;if(q!==R.lane?(pt&q)===q:(ni&q)===q){var O=R.revertLane;if(O===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),q===Ys&&(H=!0);else if((ni&O)===O){R=R.next,O===Ys&&(H=!0);continue}else q={lane:0,revertLane:R.revertLane,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},M===null?(b=M=q,v=o):M=M.next=q,ht.lanes|=O,Oi|=O;q=R.action,cs&&n(o,q),o=R.hasEagerState?R.eagerState:n(o,q)}else O={lane:q,revertLane:R.revertLane,gesture:R.gesture,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},M===null?(b=M=O,v=o):M=M.next=O,ht.lanes|=q,Oi|=q;R=R.next}while(R!==null&&R!==i);if(M===null?v=o:M.next=b,!Se(o,t.memoizedState)&&(Qt=!0,H&&(n=Vs,n!==null)))throw n;t.memoizedState=o,t.baseState=v,t.baseQueue=M,r.lastRenderedState=o}return h===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Du(t){var i=qt(),n=i.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=t;var r=n.dispatch,h=n.pending,o=i.memoizedState;if(h!==null){n.pending=null;var v=h=h.next;do o=t(o,v.action),v=v.next;while(v!==h);Se(o,i.memoizedState)||(Qt=!0),i.memoizedState=o,i.baseQueue===null&&(i.baseState=o),n.lastRenderedState=o}return[o,r]}function yf(t,i,n){var r=ht,h=qt(),o=yt;if(o){if(n===void 0)throw Error(l(407));n=n()}else n=i();var v=!Se((jt||h).memoizedState,n);if(v&&(h.memoizedState=n,Qt=!0),h=h.queue,Uu(Sf.bind(null,r,h,t),[t]),h.getSnapshot!==i||v||Xt!==null&&Xt.memoizedState.tag&1){if(r.flags|=2048,Ks(9,{destroy:void 0},bf.bind(null,r,h,n,i),null),zt===null)throw Error(l(349));o||(ni&127)!==0||xf(r,i,n)}return n}function xf(t,i,n){t.flags|=16384,t={getSnapshot:i,value:n},i=ht.updateQueue,i===null?(i=oa(),ht.updateQueue=i,i.stores=[t]):(n=i.stores,n===null?i.stores=[t]:n.push(t))}function bf(t,i,n,r){i.value=n,i.getSnapshot=r,wf(i)&&Mf(t)}function Sf(t,i,n){return n(function(){wf(i)&&Mf(t)})}function wf(t){var i=t.getSnapshot;t=t.value;try{var n=i();return!Se(t,n)}catch{return!0}}function Mf(t){var i=es(t,2);i!==null&&me(i,t,2)}function Ou(t){var i=ae();if(typeof t=="function"){var n=t;if(t=n(),cs){bi(!0);try{n()}finally{bi(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:t},i}function _f(t,i,n,r){return t.baseState=n,Au(t,jt,typeof r=="function"?r:li)}function Rv(t,i,n,r,h){if(ga(t))throw Error(l(485));if(t=i.action,t!==null){var o={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){o.listeners.push(v)}};B.T!==null?n(!0):o.isTransition=!1,r(o),n=i.pending,n===null?(o.next=i.pending=o,Nf(i,o)):(o.next=n.next,i.pending=n.next=o)}}function Nf(t,i){var n=i.action,r=i.payload,h=t.state;if(i.isTransition){var o=B.T,v={};B.T=v;try{var b=n(h,r),M=B.S;M!==null&&M(v,b),Ef(t,i,b)}catch(R){Lu(t,i,R)}finally{o!==null&&v.types!==null&&(o.types=v.types),B.T=o}}else try{o=n(h,r),Ef(t,i,o)}catch(R){Lu(t,i,R)}}function Ef(t,i,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){jf(t,i,r)},function(r){return Lu(t,i,r)}):jf(t,i,n)}function jf(t,i,n){i.status="fulfilled",i.value=n,Cf(i),t.state=n,i=t.pending,i!==null&&(n=i.next,n===i?t.pending=null:(n=n.next,i.next=n,Nf(t,n)))}function Lu(t,i,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do i.status="rejected",i.reason=n,Cf(i),i=i.next;while(i!==r)}t.action=null}function Cf(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Tf(t,i){return i}function zf(t,i){if(yt){var n=zt.formState;if(n!==null){t:{var r=ht;if(yt){if(Dt){e:{for(var h=Dt,o=He;h.nodeType!==8;){if(!o){h=null;break e}if(h=Ve(h.nextSibling),h===null){h=null;break e}}o=h.data,h=o==="F!"||o==="F"?h:null}if(h){Dt=Ve(h.nextSibling),r=h.data==="F!";break t}}Ni(r)}r=!1}r&&(i=n[0])}}return n=ae(),n.memoizedState=n.baseState=i,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tf,lastRenderedState:i},n.queue=r,n=$f.bind(null,ht,r),r.dispatch=n,r=Ou(!1),o=qu.bind(null,ht,!1,r.queue),r=ae(),h={state:i,dispatch:null,action:t,pending:null},r.queue=h,n=Rv.bind(null,ht,h,o,n),h.dispatch=n,r.memoizedState=t,[i,n,!1]}function Rf(t){var i=qt();return Af(i,jt,t)}function Af(t,i,n){if(i=Au(t,i,Tf)[0],t=da(li)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var r=Kn(i)}catch(v){throw v===qs?sa:v}else r=i;i=qt();var h=i.queue,o=h.dispatch;return n!==i.memoizedState&&(ht.flags|=2048,Ks(9,{destroy:void 0},Av.bind(null,h,n),null)),[r,o,t]}function Av(t,i){t.action=i}function Df(t){var i=qt(),n=jt;if(n!==null)return Af(i,n,t);qt(),i=i.memoizedState,n=qt();var r=n.queue.dispatch;return n.memoizedState=t,[i,r,!1]}function Ks(t,i,n,r){return t={tag:t,create:n,deps:r,inst:i,next:null},i=ht.updateQueue,i===null&&(i=oa(),ht.updateQueue=i),n=i.lastEffect,n===null?i.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,i.lastEffect=t),t}function Of(){return qt().memoizedState}function ma(t,i,n,r){var h=ae();ht.flags|=t,h.memoizedState=Ks(1|i,{destroy:void 0},n,r===void 0?null:r)}function pa(t,i,n,r){var h=qt();r=r===void 0?null:r;var o=h.memoizedState.inst;jt!==null&&r!==null&&Eu(r,jt.memoizedState.deps)?h.memoizedState=Ks(i,o,n,r):(ht.flags|=t,h.memoizedState=Ks(1|i,o,n,r))}function Lf(t,i){ma(8390656,8,t,i)}function Uu(t,i){pa(2048,8,t,i)}function Dv(t){ht.flags|=4;var i=ht.updateQueue;if(i===null)i=oa(),ht.updateQueue=i,i.events=[t];else{var n=i.events;n===null?i.events=[t]:n.push(t)}}function Uf(t){var i=qt().memoizedState;return Dv({ref:i,nextImpl:t}),function(){if((_t&2)!==0)throw Error(l(440));return i.impl.apply(void 0,arguments)}}function Bf(t,i){return pa(4,2,t,i)}function Hf(t,i){return pa(4,4,t,i)}function Yf(t,i){if(typeof i=="function"){t=t();var n=i(t);return function(){typeof n=="function"?n():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Vf(t,i,n){n=n!=null?n.concat([t]):null,pa(4,4,Yf.bind(null,i,t),n)}function Bu(){}function qf(t,i){var n=qt();i=i===void 0?null:i;var r=n.memoizedState;return i!==null&&Eu(i,r[1])?r[0]:(n.memoizedState=[t,i],t)}function kf(t,i){var n=qt();i=i===void 0?null:i;var r=n.memoizedState;if(i!==null&&Eu(i,r[1]))return r[0];if(r=t(),cs){bi(!0);try{t()}finally{bi(!1)}}return n.memoizedState=[r,i],r}function Hu(t,i,n){return n===void 0||(ni&1073741824)!==0&&(pt&261930)===0?t.memoizedState=i:(t.memoizedState=n,t=Gd(),ht.lanes|=t,Oi|=t,n)}function Gf(t,i,n,r){return Se(n,i)?n:Gs.current!==null?(t=Hu(t,n,r),Se(t,i)||(Qt=!0),t):(ni&42)===0||(ni&1073741824)!==0&&(pt&261930)===0?(Qt=!0,t.memoizedState=n):(t=Gd(),ht.lanes|=t,Oi|=t,i)}function Xf(t,i,n,r,h){var o=J.p;J.p=o!==0&&8>o?o:8;var v=B.T,b={};B.T=b,qu(t,!1,i,n);try{var M=h(),R=B.S;if(R!==null&&R(b,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var H=Cv(M,r);Jn(t,i,H,je(t))}else Jn(t,i,r,je(t))}catch(q){Jn(t,i,{then:function(){},status:"rejected",reason:q},je())}finally{J.p=o,v!==null&&b.types!==null&&(v.types=b.types),B.T=v}}function Ov(){}function Yu(t,i,n,r){if(t.tag!==5)throw Error(l(476));var h=Qf(t).queue;Xf(t,h,i,it,n===null?Ov:function(){return Kf(t),n(r)})}function Qf(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:it,baseState:it,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:it},next:null};var n={};return i.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:n},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Kf(t){var i=Qf(t);i.next===null&&(i=t.alternate.memoizedState),Jn(t,i.next.queue,{},je())}function Vu(){return Wt(cl)}function Jf(){return qt().memoizedState}function Zf(){return qt().memoizedState}function Lv(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var n=je();t=Ci(n);var r=Ti(i,t,n);r!==null&&(me(r,i,n),kn(r,i,n)),i={cache:pu()},t.payload=i;return}i=i.return}}function Uv(t,i,n){var r=je();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ga(t)?Ff(i,n):(n=nu(t,i,n,r),n!==null&&(me(n,t,r),Pf(n,i,r)))}function $f(t,i,n){var r=je();Jn(t,i,n,r)}function Jn(t,i,n,r){var h={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ga(t))Ff(i,h);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=i.lastRenderedReducer,o!==null))try{var v=i.lastRenderedState,b=o(v,n);if(h.hasEagerState=!0,h.eagerState=b,Se(b,v))return Fl(t,i,h,0),zt===null&&$l(),!1}catch{}if(n=nu(t,i,h,r),n!==null)return me(n,t,r),Pf(n,i,r),!0}return!1}function qu(t,i,n,r){if(r={lane:2,revertLane:xh(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ga(t)){if(i)throw Error(l(479))}else i=nu(t,n,r,2),i!==null&&me(i,t,2)}function ga(t){var i=t.alternate;return t===ht||i!==null&&i===ht}function Ff(t,i){Xs=ha=!0;var n=t.pending;n===null?i.next=i:(i.next=n.next,n.next=i),t.pending=i}function Pf(t,i,n){if((n&4194048)!==0){var r=i.lanes;r&=t.pendingLanes,n|=r,i.lanes=n,to(t,n)}}var Zn={readContext:Wt,use:fa,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useInsertionEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useSyncExternalStore:Bt,useId:Bt,useHostTransitionStatus:Bt,useFormState:Bt,useActionState:Bt,useOptimistic:Bt,useMemoCache:Bt,useCacheRefresh:Bt};Zn.useEffectEvent=Bt;var Wf={readContext:Wt,use:fa,useCallback:function(t,i){return ae().memoizedState=[t,i===void 0?null:i],t},useContext:Wt,useEffect:Lf,useImperativeHandle:function(t,i,n){n=n!=null?n.concat([t]):null,ma(4194308,4,Yf.bind(null,i,t),n)},useLayoutEffect:function(t,i){return ma(4194308,4,t,i)},useInsertionEffect:function(t,i){ma(4,2,t,i)},useMemo:function(t,i){var n=ae();i=i===void 0?null:i;var r=t();if(cs){bi(!0);try{t()}finally{bi(!1)}}return n.memoizedState=[r,i],r},useReducer:function(t,i,n){var r=ae();if(n!==void 0){var h=n(i);if(cs){bi(!0);try{n(i)}finally{bi(!1)}}}else h=i;return r.memoizedState=r.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},r.queue=t,t=t.dispatch=Uv.bind(null,ht,t),[r.memoizedState,t]},useRef:function(t){var i=ae();return t={current:t},i.memoizedState=t},useState:function(t){t=Ou(t);var i=t.queue,n=$f.bind(null,ht,i);return i.dispatch=n,[t.memoizedState,n]},useDebugValue:Bu,useDeferredValue:function(t,i){var n=ae();return Hu(n,t,i)},useTransition:function(){var t=Ou(!1);return t=Xf.bind(null,ht,t.queue,!0,!1),ae().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,n){var r=ht,h=ae();if(yt){if(n===void 0)throw Error(l(407));n=n()}else{if(n=i(),zt===null)throw Error(l(349));(pt&127)!==0||xf(r,i,n)}h.memoizedState=n;var o={value:n,getSnapshot:i};return h.queue=o,Lf(Sf.bind(null,r,o,t),[t]),r.flags|=2048,Ks(9,{destroy:void 0},bf.bind(null,r,o,n,i),null),n},useId:function(){var t=ae(),i=zt.identifierPrefix;if(yt){var n=Je,r=Ke;n=(r&~(1<<32-be(r)-1)).toString(32)+n,i="_"+i+"R_"+n,n=ca++,0<n&&(i+="H"+n.toString(32)),i+="_"}else n=Tv++,i="_"+i+"r_"+n.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Vu,useFormState:zf,useActionState:zf,useOptimistic:function(t){var i=ae();i.memoizedState=i.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=n,i=qu.bind(null,ht,!0,n),n.dispatch=i,[t,i]},useMemoCache:Ru,useCacheRefresh:function(){return ae().memoizedState=Lv.bind(null,ht)},useEffectEvent:function(t){var i=ae(),n={impl:t};return i.memoizedState=n,function(){if((_t&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}},ku={readContext:Wt,use:fa,useCallback:qf,useContext:Wt,useEffect:Uu,useImperativeHandle:Vf,useInsertionEffect:Bf,useLayoutEffect:Hf,useMemo:kf,useReducer:da,useRef:Of,useState:function(){return da(li)},useDebugValue:Bu,useDeferredValue:function(t,i){var n=qt();return Gf(n,jt.memoizedState,t,i)},useTransition:function(){var t=da(li)[0],i=qt().memoizedState;return[typeof t=="boolean"?t:Kn(t),i]},useSyncExternalStore:yf,useId:Jf,useHostTransitionStatus:Vu,useFormState:Rf,useActionState:Rf,useOptimistic:function(t,i){var n=qt();return _f(n,jt,t,i)},useMemoCache:Ru,useCacheRefresh:Zf};ku.useEffectEvent=Uf;var If={readContext:Wt,use:fa,useCallback:qf,useContext:Wt,useEffect:Uu,useImperativeHandle:Vf,useInsertionEffect:Bf,useLayoutEffect:Hf,useMemo:kf,useReducer:Du,useRef:Of,useState:function(){return Du(li)},useDebugValue:Bu,useDeferredValue:function(t,i){var n=qt();return jt===null?Hu(n,t,i):Gf(n,jt.memoizedState,t,i)},useTransition:function(){var t=Du(li)[0],i=qt().memoizedState;return[typeof t=="boolean"?t:Kn(t),i]},useSyncExternalStore:yf,useId:Jf,useHostTransitionStatus:Vu,useFormState:Df,useActionState:Df,useOptimistic:function(t,i){var n=qt();return jt!==null?_f(n,jt,t,i):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Ru,useCacheRefresh:Zf};If.useEffectEvent=Uf;function Gu(t,i,n,r){i=t.memoizedState,n=n(r,i),n=n==null?i:y({},i,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Xu={enqueueSetState:function(t,i,n){t=t._reactInternals;var r=je(),h=Ci(r);h.payload=i,n!=null&&(h.callback=n),i=Ti(t,h,r),i!==null&&(me(i,t,r),kn(i,t,r))},enqueueReplaceState:function(t,i,n){t=t._reactInternals;var r=je(),h=Ci(r);h.tag=1,h.payload=i,n!=null&&(h.callback=n),i=Ti(t,h,r),i!==null&&(me(i,t,r),kn(i,t,r))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var n=je(),r=Ci(n);r.tag=2,i!=null&&(r.callback=i),i=Ti(t,r,n),i!==null&&(me(i,t,n),kn(i,t,n))}};function td(t,i,n,r,h,o,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,v):i.prototype&&i.prototype.isPureReactComponent?!On(n,r)||!On(h,o):!0}function ed(t,i,n,r){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(n,r),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(n,r),i.state!==t&&Xu.enqueueReplaceState(i,i.state,null)}function os(t,i){var n=i;if("ref"in i){n={};for(var r in i)r!=="ref"&&(n[r]=i[r])}if(t=t.defaultProps){n===i&&(n=y({},n));for(var h in t)n[h]===void 0&&(n[h]=t[h])}return n}function id(t){Zl(t)}function sd(t){console.error(t)}function nd(t){Zl(t)}function va(t,i){try{var n=t.onUncaughtError;n(i.value,{componentStack:i.stack})}catch(r){setTimeout(function(){throw r})}}function ld(t,i,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Qu(t,i,n){return n=Ci(n),n.tag=3,n.payload={element:null},n.callback=function(){va(t,i)},n}function ad(t){return t=Ci(t),t.tag=3,t}function rd(t,i,n,r){var h=n.type.getDerivedStateFromError;if(typeof h=="function"){var o=r.value;t.payload=function(){return h(o)},t.callback=function(){ld(i,n,r)}}var v=n.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){ld(i,n,r),typeof h!="function"&&(Li===null?Li=new Set([this]):Li.add(this));var b=r.stack;this.componentDidCatch(r.value,{componentStack:b!==null?b:""})})}function Bv(t,i,n,r,h){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(i=n.alternate,i!==null&&Hs(i,n,h,!0),n=Me.current,n!==null){switch(n.tag){case 31:case 13:return Ye===null?Ta():n.alternate===null&&Ht===0&&(Ht=3),n.flags&=-257,n.flags|=65536,n.lanes=h,r===na?n.flags|=16384:(i=n.updateQueue,i===null?n.updateQueue=new Set([r]):i.add(r),gh(t,r,h)),!1;case 22:return n.flags|=65536,r===na?n.flags|=16384:(i=n.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=i):(n=i.retryQueue,n===null?i.retryQueue=new Set([r]):n.add(r)),gh(t,r,h)),!1}throw Error(l(435,n.tag))}return gh(t,r,h),Ta(),!1}if(yt)return i=Me.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,r!==cu&&(t=Error(l(422),{cause:r}),Bn(Le(t,n)))):(r!==cu&&(i=Error(l(423),{cause:r}),Bn(Le(i,n))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,r=Le(r,n),h=Qu(t.stateNode,r,h),Su(t,h),Ht!==4&&(Ht=2)),!1;var o=Error(l(520),{cause:r});if(o=Le(o,n),il===null?il=[o]:il.push(o),Ht!==4&&(Ht=2),i===null)return!0;r=Le(r,n),n=i;do{switch(n.tag){case 3:return n.flags|=65536,t=h&-h,n.lanes|=t,t=Qu(n.stateNode,r,t),Su(n,t),!1;case 1:if(i=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Li===null||!Li.has(o))))return n.flags|=65536,h&=-h,n.lanes|=h,h=ad(h),rd(h,t,n,r),Su(n,h),!1}n=n.return}while(n!==null);return!1}var Ku=Error(l(461)),Qt=!1;function It(t,i,n,r){i.child=t===null?of(i,null,n,r):hs(i,t.child,n,r)}function ud(t,i,n,r,h){n=n.render;var o=i.ref;if("ref"in r){var v={};for(var b in r)b!=="ref"&&(v[b]=r[b])}else v=r;return ls(i),r=ju(t,i,n,v,o,h),b=Cu(),t!==null&&!Qt?(Tu(t,i,h),ai(t,i,h)):(yt&&b&&uu(i),i.flags|=1,It(t,i,r,h),i.child)}function hd(t,i,n,r,h){if(t===null){var o=n.type;return typeof o=="function"&&!lu(o)&&o.defaultProps===void 0&&n.compare===null?(i.tag=15,i.type=o,cd(t,i,o,r,h)):(t=Wl(n.type,null,r,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(o=t.child,!th(t,h)){var v=o.memoizedProps;if(n=n.compare,n=n!==null?n:On,n(v,r)&&t.ref===i.ref)return ai(t,i,h)}return i.flags|=1,t=ti(o,r),t.ref=i.ref,t.return=i,i.child=t}function cd(t,i,n,r,h){if(t!==null){var o=t.memoizedProps;if(On(o,r)&&t.ref===i.ref)if(Qt=!1,i.pendingProps=r=o,th(t,h))(t.flags&131072)!==0&&(Qt=!0);else return i.lanes=t.lanes,ai(t,i,h)}return Ju(t,i,n,r,h)}function od(t,i,n,r){var h=r.children,o=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((i.flags&128)!==0){if(o=o!==null?o.baseLanes|n:n,t!==null){for(r=i.child=t.child,h=0;r!==null;)h=h|r.lanes|r.childLanes,r=r.sibling;r=h&~o}else r=0,i.child=null;return fd(t,i,o,n,r)}if((n&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ia(i,o!==null?o.cachePool:null),o!==null?mf(i,o):Mu(),pf(i);else return r=i.lanes=536870912,fd(t,i,o!==null?o.baseLanes|n:n,n,r)}else o!==null?(ia(i,o.cachePool),mf(i,o),Ri(),i.memoizedState=null):(t!==null&&ia(i,null),Mu(),Ri());return It(t,i,h,n),i.child}function $n(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function fd(t,i,n,r,h){var o=vu();return o=o===null?null:{parent:Gt._currentValue,pool:o},i.memoizedState={baseLanes:n,cachePool:o},t!==null&&ia(i,null),Mu(),pf(i),t!==null&&Hs(t,i,r,!0),i.childLanes=h,null}function ya(t,i){return i=ba({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function dd(t,i,n){return hs(i,t.child,null,n),t=ya(i,i.pendingProps),t.flags|=2,_e(i),i.memoizedState=null,t}function Hv(t,i,n){var r=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(yt){if(r.mode==="hidden")return t=ya(i,r),i.lanes=536870912,$n(null,t);if(Nu(i),(t=Dt)?(t=Nm(t,He),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Mi!==null?{id:Ke,overflow:Je}:null,retryLane:536870912,hydrationErrors:null},n=$o(t),n.return=i,i.child=n,Pt=i,Dt=null)):t=null,t===null)throw Ni(i);return i.lanes=536870912,null}return ya(i,r)}var o=t.memoizedState;if(o!==null){var v=o.dehydrated;if(Nu(i),h)if(i.flags&256)i.flags&=-257,i=dd(t,i,n);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(l(558));else if(Qt||Hs(t,i,n,!1),h=(n&t.childLanes)!==0,Qt||h){if(r=zt,r!==null&&(v=eo(r,n),v!==0&&v!==o.retryLane))throw o.retryLane=v,es(t,v),me(r,t,v),Ku;Ta(),i=dd(t,i,n)}else t=o.treeContext,Dt=Ve(v.nextSibling),Pt=i,yt=!0,_i=null,He=!1,t!==null&&Wo(i,t),i=ya(i,r),i.flags|=4096;return i}return t=ti(t.child,{mode:r.mode,children:r.children}),t.ref=i.ref,i.child=t,t.return=i,t}function xa(t,i){var n=i.ref;if(n===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(l(284));(t===null||t.ref!==n)&&(i.flags|=4194816)}}function Ju(t,i,n,r,h){return ls(i),n=ju(t,i,n,r,void 0,h),r=Cu(),t!==null&&!Qt?(Tu(t,i,h),ai(t,i,h)):(yt&&r&&uu(i),i.flags|=1,It(t,i,n,h),i.child)}function md(t,i,n,r,h,o){return ls(i),i.updateQueue=null,n=vf(i,r,n,h),gf(t),r=Cu(),t!==null&&!Qt?(Tu(t,i,o),ai(t,i,o)):(yt&&r&&uu(i),i.flags|=1,It(t,i,n,o),i.child)}function pd(t,i,n,r,h){if(ls(i),i.stateNode===null){var o=Os,v=n.contextType;typeof v=="object"&&v!==null&&(o=Wt(v)),o=new n(r,o),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Xu,i.stateNode=o,o._reactInternals=i,o=i.stateNode,o.props=r,o.state=i.memoizedState,o.refs={},xu(i),v=n.contextType,o.context=typeof v=="object"&&v!==null?Wt(v):Os,o.state=i.memoizedState,v=n.getDerivedStateFromProps,typeof v=="function"&&(Gu(i,n,v,r),o.state=i.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(v=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),v!==o.state&&Xu.enqueueReplaceState(o,o.state,null),Xn(i,r,o,h),Gn(),o.state=i.memoizedState),typeof o.componentDidMount=="function"&&(i.flags|=4194308),r=!0}else if(t===null){o=i.stateNode;var b=i.memoizedProps,M=os(n,b);o.props=M;var R=o.context,H=n.contextType;v=Os,typeof H=="object"&&H!==null&&(v=Wt(H));var q=n.getDerivedStateFromProps;H=typeof q=="function"||typeof o.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,H||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(b||R!==v)&&ed(i,o,r,v),ji=!1;var O=i.memoizedState;o.state=O,Xn(i,r,o,h),Gn(),R=i.memoizedState,b||O!==R||ji?(typeof q=="function"&&(Gu(i,n,q,r),R=i.memoizedState),(M=ji||td(i,n,M,r,O,R,v))?(H||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(i.flags|=4194308)):(typeof o.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=r,i.memoizedState=R),o.props=r,o.state=R,o.context=v,r=M):(typeof o.componentDidMount=="function"&&(i.flags|=4194308),r=!1)}else{o=i.stateNode,bu(t,i),v=i.memoizedProps,H=os(n,v),o.props=H,q=i.pendingProps,O=o.context,R=n.contextType,M=Os,typeof R=="object"&&R!==null&&(M=Wt(R)),b=n.getDerivedStateFromProps,(R=typeof b=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(v!==q||O!==M)&&ed(i,o,r,M),ji=!1,O=i.memoizedState,o.state=O,Xn(i,r,o,h),Gn();var U=i.memoizedState;v!==q||O!==U||ji||t!==null&&t.dependencies!==null&&ta(t.dependencies)?(typeof b=="function"&&(Gu(i,n,b,r),U=i.memoizedState),(H=ji||td(i,n,H,r,O,U,M)||t!==null&&t.dependencies!==null&&ta(t.dependencies))?(R||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,U,M),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,U,M)),typeof o.componentDidUpdate=="function"&&(i.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof o.componentDidUpdate!="function"||v===t.memoizedProps&&O===t.memoizedState||(i.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&O===t.memoizedState||(i.flags|=1024),i.memoizedProps=r,i.memoizedState=U),o.props=r,o.state=U,o.context=M,r=H):(typeof o.componentDidUpdate!="function"||v===t.memoizedProps&&O===t.memoizedState||(i.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&O===t.memoizedState||(i.flags|=1024),r=!1)}return o=r,xa(t,i),r=(i.flags&128)!==0,o||r?(o=i.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:o.render(),i.flags|=1,t!==null&&r?(i.child=hs(i,t.child,null,h),i.child=hs(i,null,n,h)):It(t,i,n,h),i.memoizedState=o.state,t=i.child):t=ai(t,i,h),t}function gd(t,i,n,r){return ss(),i.flags|=256,It(t,i,n,r),i.child}var Zu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $u(t){return{baseLanes:t,cachePool:lf()}}function Fu(t,i,n){return t=t!==null?t.childLanes&~n:0,i&&(t|=Ee),t}function vd(t,i,n){var r=i.pendingProps,h=!1,o=(i.flags&128)!==0,v;if((v=o)||(v=t!==null&&t.memoizedState===null?!1:(Vt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(yt){if(h?zi(i):Ri(),(t=Dt)?(t=Nm(t,He),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Mi!==null?{id:Ke,overflow:Je}:null,retryLane:536870912,hydrationErrors:null},n=$o(t),n.return=i,i.child=n,Pt=i,Dt=null)):t=null,t===null)throw Ni(i);return Ah(t)?i.lanes=32:i.lanes=536870912,null}var b=r.children;return r=r.fallback,h?(Ri(),h=i.mode,b=ba({mode:"hidden",children:b},h),r=is(r,h,n,null),b.return=i,r.return=i,b.sibling=r,i.child=b,r=i.child,r.memoizedState=$u(n),r.childLanes=Fu(t,v,n),i.memoizedState=Zu,$n(null,r)):(zi(i),Pu(i,b))}var M=t.memoizedState;if(M!==null&&(b=M.dehydrated,b!==null)){if(o)i.flags&256?(zi(i),i.flags&=-257,i=Wu(t,i,n)):i.memoizedState!==null?(Ri(),i.child=t.child,i.flags|=128,i=null):(Ri(),b=r.fallback,h=i.mode,r=ba({mode:"visible",children:r.children},h),b=is(b,h,n,null),b.flags|=2,r.return=i,b.return=i,r.sibling=b,i.child=r,hs(i,t.child,null,n),r=i.child,r.memoizedState=$u(n),r.childLanes=Fu(t,v,n),i.memoizedState=Zu,i=$n(null,r));else if(zi(i),Ah(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var R=v.dgst;v=R,r=Error(l(419)),r.stack="",r.digest=v,Bn({value:r,source:null,stack:null}),i=Wu(t,i,n)}else if(Qt||Hs(t,i,n,!1),v=(n&t.childLanes)!==0,Qt||v){if(v=zt,v!==null&&(r=eo(v,n),r!==0&&r!==M.retryLane))throw M.retryLane=r,es(t,r),me(v,t,r),Ku;Rh(b)||Ta(),i=Wu(t,i,n)}else Rh(b)?(i.flags|=192,i.child=t.child,i=null):(t=M.treeContext,Dt=Ve(b.nextSibling),Pt=i,yt=!0,_i=null,He=!1,t!==null&&Wo(i,t),i=Pu(i,r.children),i.flags|=4096);return i}return h?(Ri(),b=r.fallback,h=i.mode,M=t.child,R=M.sibling,r=ti(M,{mode:"hidden",children:r.children}),r.subtreeFlags=M.subtreeFlags&65011712,R!==null?b=ti(R,b):(b=is(b,h,n,null),b.flags|=2),b.return=i,r.return=i,r.sibling=b,i.child=r,$n(null,r),r=i.child,b=t.child.memoizedState,b===null?b=$u(n):(h=b.cachePool,h!==null?(M=Gt._currentValue,h=h.parent!==M?{parent:M,pool:M}:h):h=lf(),b={baseLanes:b.baseLanes|n,cachePool:h}),r.memoizedState=b,r.childLanes=Fu(t,v,n),i.memoizedState=Zu,$n(t.child,r)):(zi(i),n=t.child,t=n.sibling,n=ti(n,{mode:"visible",children:r.children}),n.return=i,n.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=n,i.memoizedState=null,n)}function Pu(t,i){return i=ba({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function ba(t,i){return t=we(22,t,null,i),t.lanes=0,t}function Wu(t,i,n){return hs(i,t.child,null,n),t=Pu(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function yd(t,i,n){t.lanes|=i;var r=t.alternate;r!==null&&(r.lanes|=i),du(t.return,i,n)}function Iu(t,i,n,r,h,o){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:h,treeForkCount:o}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=r,v.tail=n,v.tailMode=h,v.treeForkCount=o)}function xd(t,i,n){var r=i.pendingProps,h=r.revealOrder,o=r.tail;r=r.children;var v=Vt.current,b=(v&2)!==0;if(b?(v=v&1|2,i.flags|=128):v&=1,k(Vt,v),It(t,i,r,n),r=yt?Un:0,!b&&t!==null&&(t.flags&128)!==0)t:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yd(t,n,i);else if(t.tag===19)yd(t,n,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break t;for(;t.sibling===null;){if(t.return===null||t.return===i)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(n=i.child,h=null;n!==null;)t=n.alternate,t!==null&&ua(t)===null&&(h=n),n=n.sibling;n=h,n===null?(h=i.child,i.child=null):(h=n.sibling,n.sibling=null),Iu(i,!1,h,n,o,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&ua(t)===null){i.child=h;break}t=h.sibling,h.sibling=n,n=h,h=t}Iu(i,!0,n,null,o,r);break;case"together":Iu(i,!1,null,null,void 0,r);break;default:i.memoizedState=null}return i.child}function ai(t,i,n){if(t!==null&&(i.dependencies=t.dependencies),Oi|=i.lanes,(n&i.childLanes)===0)if(t!==null){if(Hs(t,i,n,!1),(n&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(l(153));if(i.child!==null){for(t=i.child,n=ti(t,t.pendingProps),i.child=n,n.return=i;t.sibling!==null;)t=t.sibling,n=n.sibling=ti(t,t.pendingProps),n.return=i;n.sibling=null}return i.child}function th(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ta(t)))}function Yv(t,i,n){switch(i.tag){case 3:le(i,i.stateNode.containerInfo),Ei(i,Gt,t.memoizedState.cache),ss();break;case 27:case 5:Sn(i);break;case 4:le(i,i.stateNode.containerInfo);break;case 10:Ei(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Nu(i),null;break;case 13:var r=i.memoizedState;if(r!==null)return r.dehydrated!==null?(zi(i),i.flags|=128,null):(n&i.child.childLanes)!==0?vd(t,i,n):(zi(i),t=ai(t,i,n),t!==null?t.sibling:null);zi(i);break;case 19:var h=(t.flags&128)!==0;if(r=(n&i.childLanes)!==0,r||(Hs(t,i,n,!1),r=(n&i.childLanes)!==0),h){if(r)return xd(t,i,n);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),k(Vt,Vt.current),r)break;return null;case 22:return i.lanes=0,od(t,i,n,i.pendingProps);case 24:Ei(i,Gt,t.memoizedState.cache)}return ai(t,i,n)}function bd(t,i,n){if(t!==null)if(t.memoizedProps!==i.pendingProps)Qt=!0;else{if(!th(t,n)&&(i.flags&128)===0)return Qt=!1,Yv(t,i,n);Qt=(t.flags&131072)!==0}else Qt=!1,yt&&(i.flags&1048576)!==0&&Po(i,Un,i.index);switch(i.lanes=0,i.tag){case 16:t:{var r=i.pendingProps;if(t=rs(i.elementType),i.type=t,typeof t=="function")lu(t)?(r=os(t,r),i.tag=1,i=pd(null,i,t,r,n)):(i.tag=0,i=Ju(null,i,t,r,n));else{if(t!=null){var h=t.$$typeof;if(h===Z){i.tag=11,i=ud(null,i,t,r,n);break t}else if(h===P){i.tag=14,i=hd(null,i,t,r,n);break t}}throw i=At(t)||t,Error(l(306,i,""))}}return i;case 0:return Ju(t,i,i.type,i.pendingProps,n);case 1:return r=i.type,h=os(r,i.pendingProps),pd(t,i,r,h,n);case 3:t:{if(le(i,i.stateNode.containerInfo),t===null)throw Error(l(387));r=i.pendingProps;var o=i.memoizedState;h=o.element,bu(t,i),Xn(i,r,null,n);var v=i.memoizedState;if(r=v.cache,Ei(i,Gt,r),r!==o.cache&&mu(i,[Gt],n,!0),Gn(),r=v.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=o,i.memoizedState=o,i.flags&256){i=gd(t,i,r,n);break t}else if(r!==h){h=Le(Error(l(424)),i),Bn(h),i=gd(t,i,r,n);break t}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Dt=Ve(t.firstChild),Pt=i,yt=!0,_i=null,He=!0,n=of(i,null,r,n),i.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ss(),r===h){i=ai(t,i,n);break t}It(t,i,r,n)}i=i.child}return i;case 26:return xa(t,i),t===null?(n=Rm(i.type,null,i.pendingProps,null))?i.memoizedState=n:yt||(n=i.type,t=i.pendingProps,r=Ua(ot.current).createElement(n),r[Ft]=i,r[ue]=t,te(r,n,t),Zt(r),i.stateNode=r):i.memoizedState=Rm(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Sn(i),t===null&&yt&&(r=i.stateNode=Cm(i.type,i.pendingProps,ot.current),Pt=i,He=!0,h=Dt,Yi(i.type)?(Dh=h,Dt=Ve(r.firstChild)):Dt=h),It(t,i,i.pendingProps.children,n),xa(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&yt&&((h=r=Dt)&&(r=py(r,i.type,i.pendingProps,He),r!==null?(i.stateNode=r,Pt=i,Dt=Ve(r.firstChild),He=!1,h=!0):h=!1),h||Ni(i)),Sn(i),h=i.type,o=i.pendingProps,v=t!==null?t.memoizedProps:null,r=o.children,Ch(h,o)?r=null:v!==null&&Ch(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=ju(t,i,zv,null,null,n),cl._currentValue=h),xa(t,i),It(t,i,r,n),i.child;case 6:return t===null&&yt&&((t=n=Dt)&&(n=gy(n,i.pendingProps,He),n!==null?(i.stateNode=n,Pt=i,Dt=null,t=!0):t=!1),t||Ni(i)),null;case 13:return vd(t,i,n);case 4:return le(i,i.stateNode.containerInfo),r=i.pendingProps,t===null?i.child=hs(i,null,r,n):It(t,i,r,n),i.child;case 11:return ud(t,i,i.type,i.pendingProps,n);case 7:return It(t,i,i.pendingProps,n),i.child;case 8:return It(t,i,i.pendingProps.children,n),i.child;case 12:return It(t,i,i.pendingProps.children,n),i.child;case 10:return r=i.pendingProps,Ei(i,i.type,r.value),It(t,i,r.children,n),i.child;case 9:return h=i.type._context,r=i.pendingProps.children,ls(i),h=Wt(h),r=r(h),i.flags|=1,It(t,i,r,n),i.child;case 14:return hd(t,i,i.type,i.pendingProps,n);case 15:return cd(t,i,i.type,i.pendingProps,n);case 19:return xd(t,i,n);case 31:return Hv(t,i,n);case 22:return od(t,i,n,i.pendingProps);case 24:return ls(i),r=Wt(Gt),t===null?(h=vu(),h===null&&(h=zt,o=pu(),h.pooledCache=o,o.refCount++,o!==null&&(h.pooledCacheLanes|=n),h=o),i.memoizedState={parent:r,cache:h},xu(i),Ei(i,Gt,h)):((t.lanes&n)!==0&&(bu(t,i),Xn(i,null,null,n),Gn()),h=t.memoizedState,o=i.memoizedState,h.parent!==r?(h={parent:r,cache:r},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ei(i,Gt,r)):(r=o.cache,Ei(i,Gt,r),r!==h.cache&&mu(i,[Gt],n,!0))),It(t,i,i.pendingProps.children,n),i.child;case 29:throw i.pendingProps}throw Error(l(156,i.tag))}function ri(t){t.flags|=4}function eh(t,i,n,r,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Jd())t.flags|=8192;else throw us=na,yu}else t.flags&=-16777217}function Sd(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Um(i))if(Jd())t.flags|=8192;else throw us=na,yu}function Sa(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Wc():536870912,t.lanes|=i,Fs|=i)}function Fn(t,i){if(!yt)switch(t.tailMode){case"hidden":i=t.tail;for(var n=null;i!==null;)i.alternate!==null&&(n=i),i=i.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ot(t){var i=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(i)for(var h=t.child;h!==null;)n|=h.lanes|h.childLanes,r|=h.subtreeFlags&65011712,r|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)n|=h.lanes|h.childLanes,r|=h.subtreeFlags,r|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=r,t.childLanes=n,i}function Vv(t,i,n){var r=i.pendingProps;switch(hu(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(i),null;case 1:return Ot(i),null;case 3:return n=i.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),si(Gt),Yt(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Bs(i)?ri(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ou())),Ot(i),null;case 26:var h=i.type,o=i.memoizedState;return t===null?(ri(i),o!==null?(Ot(i),Sd(i,o)):(Ot(i),eh(i,h,null,r,n))):o?o!==t.memoizedState?(ri(i),Ot(i),Sd(i,o)):(Ot(i),i.flags&=-16777217):(t=t.memoizedProps,t!==r&&ri(i),Ot(i),eh(i,h,t,r,n)),null;case 27:if(Al(i),n=ot.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==r&&ri(i);else{if(!r){if(i.stateNode===null)throw Error(l(166));return Ot(i),null}t=$.current,Bs(i)?Io(i):(t=Cm(h,r,n),i.stateNode=t,ri(i))}return Ot(i),null;case 5:if(Al(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==r&&ri(i);else{if(!r){if(i.stateNode===null)throw Error(l(166));return Ot(i),null}if(o=$.current,Bs(i))Io(i);else{var v=Ua(ot.current);switch(o){case 1:o=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:o=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":o=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":o=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":o=v.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof r.is=="string"?v.createElement("select",{is:r.is}):v.createElement("select"),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o=typeof r.is=="string"?v.createElement(h,{is:r.is}):v.createElement(h)}}o[Ft]=i,o[ue]=r;t:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)o.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break t;for(;v.sibling===null;){if(v.return===null||v.return===i)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=o;t:switch(te(o,h,r),h){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&ri(i)}}return Ot(i),eh(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,n),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==r&&ri(i);else{if(typeof r!="string"&&i.stateNode===null)throw Error(l(166));if(t=ot.current,Bs(i)){if(t=i.stateNode,n=i.memoizedProps,r=null,h=Pt,h!==null)switch(h.tag){case 27:case 5:r=h.memoizedProps}t[Ft]=i,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||vm(t.nodeValue,n)),t||Ni(i,!0)}else t=Ua(t).createTextNode(r),t[Ft]=i,i.stateNode=t}return Ot(i),null;case 31:if(n=i.memoizedState,t===null||t.memoizedState!==null){if(r=Bs(i),n!==null){if(t===null){if(!r)throw Error(l(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(557));t[Ft]=i}else ss(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ot(i),t=!1}else n=ou(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return i.flags&256?(_e(i),i):(_e(i),null);if((i.flags&128)!==0)throw Error(l(558))}return Ot(i),null;case 13:if(r=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Bs(i),r!==null&&r.dehydrated!==null){if(t===null){if(!h)throw Error(l(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(l(317));h[Ft]=i}else ss(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ot(i),h=!1}else h=ou(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(_e(i),i):(_e(i),null)}return _e(i),(i.flags&128)!==0?(i.lanes=n,i):(n=r!==null,t=t!==null&&t.memoizedState!==null,n&&(r=i.child,h=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(h=r.alternate.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==h&&(r.flags|=2048)),n!==t&&n&&(i.child.flags|=8192),Sa(i,i.updateQueue),Ot(i),null);case 4:return Yt(),t===null&&Mh(i.stateNode.containerInfo),Ot(i),null;case 10:return si(i.type),Ot(i),null;case 19:if(T(Vt),r=i.memoizedState,r===null)return Ot(i),null;if(h=(i.flags&128)!==0,o=r.rendering,o===null)if(h)Fn(r,!1);else{if(Ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(o=ua(t),o!==null){for(i.flags|=128,Fn(r,!1),t=o.updateQueue,i.updateQueue=t,Sa(i,t),i.subtreeFlags=0,t=n,n=i.child;n!==null;)Zo(n,t),n=n.sibling;return k(Vt,Vt.current&1|2),yt&&ei(i,r.treeForkCount),i.child}t=t.sibling}r.tail!==null&&ye()>Ea&&(i.flags|=128,h=!0,Fn(r,!1),i.lanes=4194304)}else{if(!h)if(t=ua(o),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Sa(i,t),Fn(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!yt)return Ot(i),null}else 2*ye()-r.renderingStartTime>Ea&&n!==536870912&&(i.flags|=128,h=!0,Fn(r,!1),i.lanes=4194304);r.isBackwards?(o.sibling=i.child,i.child=o):(t=r.last,t!==null?t.sibling=o:i.child=o,r.last=o)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=ye(),t.sibling=null,n=Vt.current,k(Vt,h?n&1|2:n&1),yt&&ei(i,r.treeForkCount),t):(Ot(i),null);case 22:case 23:return _e(i),_u(),r=i.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(i.flags|=8192):r&&(i.flags|=8192),r?(n&536870912)!==0&&(i.flags&128)===0&&(Ot(i),i.subtreeFlags&6&&(i.flags|=8192)):Ot(i),n=i.updateQueue,n!==null&&Sa(i,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==n&&(i.flags|=2048),t!==null&&T(as),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),i.memoizedState.cache!==n&&(i.flags|=2048),si(Gt),Ot(i),null;case 25:return null;case 30:return null}throw Error(l(156,i.tag))}function qv(t,i){switch(hu(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return si(Gt),Yt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Al(i),null;case 31:if(i.memoizedState!==null){if(_e(i),i.alternate===null)throw Error(l(340));ss()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(_e(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(l(340));ss()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return T(Vt),null;case 4:return Yt(),null;case 10:return si(i.type),null;case 22:case 23:return _e(i),_u(),t!==null&&T(as),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return si(Gt),null;case 25:return null;default:return null}}function wd(t,i){switch(hu(i),i.tag){case 3:si(Gt),Yt();break;case 26:case 27:case 5:Al(i);break;case 4:Yt();break;case 31:i.memoizedState!==null&&_e(i);break;case 13:_e(i);break;case 19:T(Vt);break;case 10:si(i.type);break;case 22:case 23:_e(i),_u(),t!==null&&T(as);break;case 24:si(Gt)}}function Pn(t,i){try{var n=i.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var h=r.next;n=h;do{if((n.tag&t)===t){r=void 0;var o=n.create,v=n.inst;r=o(),v.destroy=r}n=n.next}while(n!==h)}}catch(b){Et(i,i.return,b)}}function Ai(t,i,n){try{var r=i.updateQueue,h=r!==null?r.lastEffect:null;if(h!==null){var o=h.next;r=o;do{if((r.tag&t)===t){var v=r.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,h=i;var M=n,R=b;try{R()}catch(H){Et(h,M,H)}}}r=r.next}while(r!==o)}}catch(H){Et(i,i.return,H)}}function Md(t){var i=t.updateQueue;if(i!==null){var n=t.stateNode;try{df(i,n)}catch(r){Et(t,t.return,r)}}}function _d(t,i,n){n.props=os(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){Et(t,i,r)}}function Wn(t,i){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(h){Et(t,i,h)}}function Ze(t,i){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(h){Et(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(h){Et(t,i,h)}else n.current=null}function Nd(t){var i=t.type,n=t.memoizedProps,r=t.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break t;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(h){Et(t,t.return,h)}}function ih(t,i,n){try{var r=t.stateNode;hy(r,t.type,n,i),r[ue]=i}catch(h){Et(t,t.return,h)}}function Ed(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Yi(t.type)||t.tag===4}function sh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Ed(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Yi(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nh(t,i,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,i?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,i):(i=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,i.appendChild(t),n=n._reactRootContainer,n!=null||i.onclick!==null||(i.onclick=We));else if(r!==4&&(r===27&&Yi(t.type)&&(n=t.stateNode,i=null),t=t.child,t!==null))for(nh(t,i,n),t=t.sibling;t!==null;)nh(t,i,n),t=t.sibling}function wa(t,i,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,i?n.insertBefore(t,i):n.appendChild(t);else if(r!==4&&(r===27&&Yi(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(wa(t,i,n),t=t.sibling;t!==null;)wa(t,i,n),t=t.sibling}function jd(t){var i=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);te(i,r,n),i[Ft]=t,i[ue]=n}catch(o){Et(t,t.return,o)}}var ui=!1,Kt=!1,lh=!1,Cd=typeof WeakSet=="function"?WeakSet:Set,$t=null;function kv(t,i){if(t=t.containerInfo,Eh=Ga,t=Yo(t),Wr(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var h=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break t}var v=0,b=-1,M=-1,R=0,H=0,q=t,O=null;e:for(;;){for(var U;q!==n||h!==0&&q.nodeType!==3||(b=v+h),q!==o||r!==0&&q.nodeType!==3||(M=v+r),q.nodeType===3&&(v+=q.nodeValue.length),(U=q.firstChild)!==null;)O=q,q=U;for(;;){if(q===t)break e;if(O===n&&++R===h&&(b=v),O===o&&++H===r&&(M=v),(U=q.nextSibling)!==null)break;q=O,O=q.parentNode}q=U}n=b===-1||M===-1?null:{start:b,end:M}}else n=null}n=n||{start:0,end:0}}else n=null;for(jh={focusedElem:t,selectionRange:n},Ga=!1,$t=i;$t!==null;)if(i=$t,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,$t=t;else for(;$t!==null;){switch(i=$t,o=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)h=t[n],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&o!==null){t=void 0,n=i,h=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var W=os(n.type,h);t=r.getSnapshotBeforeUpdate(W,o),r.__reactInternalSnapshotBeforeUpdate=t}catch(at){Et(n,n.return,at)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,n=t.nodeType,n===9)zh(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":zh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=i.sibling,t!==null){t.return=i.return,$t=t;break}$t=i.return}}function Td(t,i,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:ci(t,n),r&4&&Pn(5,n);break;case 1:if(ci(t,n),r&4)if(t=n.stateNode,i===null)try{t.componentDidMount()}catch(v){Et(n,n.return,v)}else{var h=os(n.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Et(n,n.return,v)}}r&64&&Md(n),r&512&&Wn(n,n.return);break;case 3:if(ci(t,n),r&64&&(t=n.updateQueue,t!==null)){if(i=null,n.child!==null)switch(n.child.tag){case 27:case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}try{df(t,i)}catch(v){Et(n,n.return,v)}}break;case 27:i===null&&r&4&&jd(n);case 26:case 5:ci(t,n),i===null&&r&4&&Nd(n),r&512&&Wn(n,n.return);break;case 12:ci(t,n);break;case 31:ci(t,n),r&4&&Ad(t,n);break;case 13:ci(t,n),r&4&&Dd(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=Pv.bind(null,n),vy(t,n))));break;case 22:if(r=n.memoizedState!==null||ui,!r){i=i!==null&&i.memoizedState!==null||Kt,h=ui;var o=Kt;ui=r,(Kt=i)&&!o?oi(t,n,(n.subtreeFlags&8772)!==0):ci(t,n),ui=h,Kt=o}break;case 30:break;default:ci(t,n)}}function zd(t){var i=t.alternate;i!==null&&(t.alternate=null,zd(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Lr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Lt=null,ce=!1;function hi(t,i,n){for(n=n.child;n!==null;)Rd(t,i,n),n=n.sibling}function Rd(t,i,n){if(xe&&typeof xe.onCommitFiberUnmount=="function")try{xe.onCommitFiberUnmount(wn,n)}catch{}switch(n.tag){case 26:Kt||Ze(n,i),hi(t,i,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Kt||Ze(n,i);var r=Lt,h=ce;Yi(n.type)&&(Lt=n.stateNode,ce=!1),hi(t,i,n),rl(n.stateNode),Lt=r,ce=h;break;case 5:Kt||Ze(n,i);case 6:if(r=Lt,h=ce,Lt=null,hi(t,i,n),Lt=r,ce=h,Lt!==null)if(ce)try{(Lt.nodeType===9?Lt.body:Lt.nodeName==="HTML"?Lt.ownerDocument.body:Lt).removeChild(n.stateNode)}catch(o){Et(n,i,o)}else try{Lt.removeChild(n.stateNode)}catch(o){Et(n,i,o)}break;case 18:Lt!==null&&(ce?(t=Lt,Mm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),ln(t)):Mm(Lt,n.stateNode));break;case 4:r=Lt,h=ce,Lt=n.stateNode.containerInfo,ce=!0,hi(t,i,n),Lt=r,ce=h;break;case 0:case 11:case 14:case 15:Ai(2,n,i),Kt||Ai(4,n,i),hi(t,i,n);break;case 1:Kt||(Ze(n,i),r=n.stateNode,typeof r.componentWillUnmount=="function"&&_d(n,i,r)),hi(t,i,n);break;case 21:hi(t,i,n);break;case 22:Kt=(r=Kt)||n.memoizedState!==null,hi(t,i,n),Kt=r;break;default:hi(t,i,n)}}function Ad(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ln(t)}catch(n){Et(i,i.return,n)}}}function Dd(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ln(t)}catch(n){Et(i,i.return,n)}}function Gv(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Cd),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Cd),i;default:throw Error(l(435,t.tag))}}function Ma(t,i){var n=Gv(t);i.forEach(function(r){if(!n.has(r)){n.add(r);var h=Wv.bind(null,t,r);r.then(h,h)}})}function oe(t,i){var n=i.deletions;if(n!==null)for(var r=0;r<n.length;r++){var h=n[r],o=t,v=i,b=v;t:for(;b!==null;){switch(b.tag){case 27:if(Yi(b.type)){Lt=b.stateNode,ce=!1;break t}break;case 5:Lt=b.stateNode,ce=!1;break t;case 3:case 4:Lt=b.stateNode.containerInfo,ce=!0;break t}b=b.return}if(Lt===null)throw Error(l(160));Rd(o,v,h),Lt=null,ce=!1,o=h.alternate,o!==null&&(o.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Od(i,t),i=i.sibling}var Ge=null;function Od(t,i){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:oe(i,t),fe(t),r&4&&(Ai(3,t,t.return),Pn(3,t),Ai(5,t,t.return));break;case 1:oe(i,t),fe(t),r&512&&(Kt||n===null||Ze(n,n.return)),r&64&&ui&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var h=Ge;if(oe(i,t),fe(t),r&512&&(Kt||n===null||Ze(n,n.return)),r&4){var o=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){t:{r=t.type,n=t.memoizedProps,h=h.ownerDocument||h;e:switch(r){case"title":o=h.getElementsByTagName("title")[0],(!o||o[Nn]||o[Ft]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=h.createElement(r),h.head.insertBefore(o,h.querySelector("head > title"))),te(o,r,n),o[Ft]=t,Zt(o),r=o;break t;case"link":var v=Om("link","href",h).get(r+(n.href||""));if(v){for(var b=0;b<v.length;b++)if(o=v[b],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){v.splice(b,1);break e}}o=h.createElement(r),te(o,r,n),h.head.appendChild(o);break;case"meta":if(v=Om("meta","content",h).get(r+(n.content||""))){for(b=0;b<v.length;b++)if(o=v[b],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){v.splice(b,1);break e}}o=h.createElement(r),te(o,r,n),h.head.appendChild(o);break;default:throw Error(l(468,r))}o[Ft]=t,Zt(o),r=o}t.stateNode=r}else Lm(h,t.type,t.stateNode);else t.stateNode=Dm(h,r,t.memoizedProps);else o!==r?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?Lm(h,t.type,t.stateNode):Dm(h,r,t.memoizedProps)):r===null&&t.stateNode!==null&&ih(t,t.memoizedProps,n.memoizedProps)}break;case 27:oe(i,t),fe(t),r&512&&(Kt||n===null||Ze(n,n.return)),n!==null&&r&4&&ih(t,t.memoizedProps,n.memoizedProps);break;case 5:if(oe(i,t),fe(t),r&512&&(Kt||n===null||Ze(n,n.return)),t.flags&32){h=t.stateNode;try{js(h,"")}catch(W){Et(t,t.return,W)}}r&4&&t.stateNode!=null&&(h=t.memoizedProps,ih(t,h,n!==null?n.memoizedProps:h)),r&1024&&(lh=!0);break;case 6:if(oe(i,t),fe(t),r&4){if(t.stateNode===null)throw Error(l(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(W){Et(t,t.return,W)}}break;case 3:if(Ya=null,h=Ge,Ge=Ba(i.containerInfo),oe(i,t),Ge=h,fe(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ln(i.containerInfo)}catch(W){Et(t,t.return,W)}lh&&(lh=!1,Ld(t));break;case 4:r=Ge,Ge=Ba(t.stateNode.containerInfo),oe(i,t),fe(t),Ge=r;break;case 12:oe(i,t),fe(t);break;case 31:oe(i,t),fe(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Ma(t,r)));break;case 13:oe(i,t),fe(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Na=ye()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Ma(t,r)));break;case 22:h=t.memoizedState!==null;var M=n!==null&&n.memoizedState!==null,R=ui,H=Kt;if(ui=R||h,Kt=H||M,oe(i,t),Kt=H,ui=R,fe(t),r&8192)t:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(n===null||M||ui||Kt||fs(t)),n=null,i=t;;){if(i.tag===5||i.tag===26){if(n===null){M=n=i;try{if(o=M.stateNode,h)v=o.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=M.stateNode;var q=M.memoizedProps.style,O=q!=null&&q.hasOwnProperty("display")?q.display:null;b.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(W){Et(M,M.return,W)}}}else if(i.tag===6){if(n===null){M=i;try{M.stateNode.nodeValue=h?"":M.memoizedProps}catch(W){Et(M,M.return,W)}}}else if(i.tag===18){if(n===null){M=i;try{var U=M.stateNode;h?_m(U,!0):_m(M.stateNode,!1)}catch(W){Et(M,M.return,W)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break t;for(;i.sibling===null;){if(i.return===null||i.return===t)break t;n===i&&(n=null),i=i.return}n===i&&(n=null),i.sibling.return=i.return,i=i.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Ma(t,n))));break;case 19:oe(i,t),fe(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Ma(t,r)));break;case 30:break;case 21:break;default:oe(i,t),fe(t)}}function fe(t){var i=t.flags;if(i&2){try{for(var n,r=t.return;r!==null;){if(Ed(r)){n=r;break}r=r.return}if(n==null)throw Error(l(160));switch(n.tag){case 27:var h=n.stateNode,o=sh(t);wa(t,o,h);break;case 5:var v=n.stateNode;n.flags&32&&(js(v,""),n.flags&=-33);var b=sh(t);wa(t,b,v);break;case 3:case 4:var M=n.stateNode.containerInfo,R=sh(t);nh(t,R,M);break;default:throw Error(l(161))}}catch(H){Et(t,t.return,H)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Ld(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Ld(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ci(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Td(t,i.alternate,i),i=i.sibling}function fs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ai(4,i,i.return),fs(i);break;case 1:Ze(i,i.return);var n=i.stateNode;typeof n.componentWillUnmount=="function"&&_d(i,i.return,n),fs(i);break;case 27:rl(i.stateNode);case 26:case 5:Ze(i,i.return),fs(i);break;case 22:i.memoizedState===null&&fs(i);break;case 30:fs(i);break;default:fs(i)}t=t.sibling}}function oi(t,i,n){for(n=n&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var r=i.alternate,h=t,o=i,v=o.flags;switch(o.tag){case 0:case 11:case 15:oi(h,o,n),Pn(4,o);break;case 1:if(oi(h,o,n),r=o,h=r.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(R){Et(r,r.return,R)}if(r=o,h=r.updateQueue,h!==null){var b=r.stateNode;try{var M=h.shared.hiddenCallbacks;if(M!==null)for(h.shared.hiddenCallbacks=null,h=0;h<M.length;h++)ff(M[h],b)}catch(R){Et(r,r.return,R)}}n&&v&64&&Md(o),Wn(o,o.return);break;case 27:jd(o);case 26:case 5:oi(h,o,n),n&&r===null&&v&4&&Nd(o),Wn(o,o.return);break;case 12:oi(h,o,n);break;case 31:oi(h,o,n),n&&v&4&&Ad(h,o);break;case 13:oi(h,o,n),n&&v&4&&Dd(h,o);break;case 22:o.memoizedState===null&&oi(h,o,n),Wn(o,o.return);break;case 30:break;default:oi(h,o,n)}i=i.sibling}}function ah(t,i){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Hn(n))}function rh(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Hn(t))}function Xe(t,i,n,r){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ud(t,i,n,r),i=i.sibling}function Ud(t,i,n,r){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Xe(t,i,n,r),h&2048&&Pn(9,i);break;case 1:Xe(t,i,n,r);break;case 3:Xe(t,i,n,r),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Hn(t)));break;case 12:if(h&2048){Xe(t,i,n,r),t=i.stateNode;try{var o=i.memoizedProps,v=o.id,b=o.onPostCommit;typeof b=="function"&&b(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){Et(i,i.return,M)}}else Xe(t,i,n,r);break;case 31:Xe(t,i,n,r);break;case 13:Xe(t,i,n,r);break;case 23:break;case 22:o=i.stateNode,v=i.alternate,i.memoizedState!==null?o._visibility&2?Xe(t,i,n,r):In(t,i):o._visibility&2?Xe(t,i,n,r):(o._visibility|=2,Js(t,i,n,r,(i.subtreeFlags&10256)!==0||!1)),h&2048&&ah(v,i);break;case 24:Xe(t,i,n,r),h&2048&&rh(i.alternate,i);break;default:Xe(t,i,n,r)}}function Js(t,i,n,r,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var o=t,v=i,b=n,M=r,R=v.flags;switch(v.tag){case 0:case 11:case 15:Js(o,v,b,M,h),Pn(8,v);break;case 23:break;case 22:var H=v.stateNode;v.memoizedState!==null?H._visibility&2?Js(o,v,b,M,h):In(o,v):(H._visibility|=2,Js(o,v,b,M,h)),h&&R&2048&&ah(v.alternate,v);break;case 24:Js(o,v,b,M,h),h&&R&2048&&rh(v.alternate,v);break;default:Js(o,v,b,M,h)}i=i.sibling}}function In(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var n=t,r=i,h=r.flags;switch(r.tag){case 22:In(n,r),h&2048&&ah(r.alternate,r);break;case 24:In(n,r),h&2048&&rh(r.alternate,r);break;default:In(n,r)}i=i.sibling}}var tl=8192;function Zs(t,i,n){if(t.subtreeFlags&tl)for(t=t.child;t!==null;)Bd(t,i,n),t=t.sibling}function Bd(t,i,n){switch(t.tag){case 26:Zs(t,i,n),t.flags&tl&&t.memoizedState!==null&&Ty(n,Ge,t.memoizedState,t.memoizedProps);break;case 5:Zs(t,i,n);break;case 3:case 4:var r=Ge;Ge=Ba(t.stateNode.containerInfo),Zs(t,i,n),Ge=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=tl,tl=16777216,Zs(t,i,n),tl=r):Zs(t,i,n));break;default:Zs(t,i,n)}}function Hd(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function el(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var n=0;n<i.length;n++){var r=i[n];$t=r,Vd(r,t)}Hd(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Yd(t),t=t.sibling}function Yd(t){switch(t.tag){case 0:case 11:case 15:el(t),t.flags&2048&&Ai(9,t,t.return);break;case 3:el(t);break;case 12:el(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,_a(t)):el(t);break;default:el(t)}}function _a(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var n=0;n<i.length;n++){var r=i[n];$t=r,Vd(r,t)}Hd(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ai(8,i,i.return),_a(i);break;case 22:n=i.stateNode,n._visibility&2&&(n._visibility&=-3,_a(i));break;default:_a(i)}t=t.sibling}}function Vd(t,i){for(;$t!==null;){var n=$t;switch(n.tag){case 0:case 11:case 15:Ai(8,n,i);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Hn(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,$t=r;else t:for(n=t;$t!==null;){r=$t;var h=r.sibling,o=r.return;if(zd(r),r===n){$t=null;break t}if(h!==null){h.return=o,$t=h;break t}$t=o}}}var Xv={getCacheForType:function(t){var i=Wt(Gt),n=i.data.get(t);return n===void 0&&(n=t(),i.data.set(t,n)),n},cacheSignal:function(){return Wt(Gt).controller.signal}},Qv=typeof WeakMap=="function"?WeakMap:Map,_t=0,zt=null,dt=null,pt=0,Nt=0,Ne=null,Di=!1,$s=!1,uh=!1,fi=0,Ht=0,Oi=0,ds=0,hh=0,Ee=0,Fs=0,il=null,de=null,ch=!1,Na=0,qd=0,Ea=1/0,ja=null,Li=null,Jt=0,Ui=null,Ps=null,di=0,oh=0,fh=null,kd=null,sl=0,dh=null;function je(){return(_t&2)!==0&&pt!==0?pt&-pt:B.T!==null?xh():io()}function Gd(){if(Ee===0)if((pt&536870912)===0||yt){var t=Ll;Ll<<=1,(Ll&3932160)===0&&(Ll=262144),Ee=t}else Ee=536870912;return t=Me.current,t!==null&&(t.flags|=32),Ee}function me(t,i,n){(t===zt&&(Nt===2||Nt===9)||t.cancelPendingCommit!==null)&&(Ws(t,0),Bi(t,pt,Ee,!1)),_n(t,n),((_t&2)===0||t!==zt)&&(t===zt&&((_t&2)===0&&(ds|=n),Ht===4&&Bi(t,pt,Ee,!1)),$e(t))}function Xd(t,i,n){if((_t&6)!==0)throw Error(l(327));var r=!n&&(i&127)===0&&(i&t.expiredLanes)===0||Mn(t,i),h=r?Zv(t,i):ph(t,i,!0),o=r;do{if(h===0){$s&&!r&&Bi(t,i,0,!1);break}else{if(n=t.current.alternate,o&&!Kv(n)){h=ph(t,i,!1),o=!1;continue}if(h===2){if(o=i,t.errorRecoveryDisabledLanes&o)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var b=t;h=il;var M=b.current.memoizedState.isDehydrated;if(M&&(Ws(b,v).flags|=256),v=ph(b,v,!1),v!==2){if(uh&&!M){b.errorRecoveryDisabledLanes|=o,ds|=o,h=4;break t}o=de,de=h,o!==null&&(de===null?de=o:de.push.apply(de,o))}h=v}if(o=!1,h!==2)continue}}if(h===1){Ws(t,0),Bi(t,i,0,!0);break}t:{switch(r=t,o=h,o){case 0:case 1:throw Error(l(345));case 4:if((i&4194048)!==i)break;case 6:Bi(r,i,Ee,!Di);break t;case 2:de=null;break;case 3:case 5:break;default:throw Error(l(329))}if((i&62914560)===i&&(h=Na+300-ye(),10<h)){if(Bi(r,i,Ee,!Di),Bl(r,0,!0)!==0)break t;di=i,r.timeoutHandle=Sm(Qd.bind(null,r,n,de,ja,ch,i,Ee,ds,Fs,Di,o,"Throttled",-0,0),h);break t}Qd(r,n,de,ja,ch,i,Ee,ds,Fs,Di,o,null,-0,0)}}break}while(!0);$e(t)}function Qd(t,i,n,r,h,o,v,b,M,R,H,q,O,U){if(t.timeoutHandle=-1,q=i.subtreeFlags,q&8192||(q&16785408)===16785408){q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:We},Bd(i,o,q);var W=(o&62914560)===o?Na-ye():(o&4194048)===o?qd-ye():0;if(W=zy(q,W),W!==null){di=o,t.cancelPendingCommit=W(Id.bind(null,t,i,o,n,r,h,v,b,M,H,q,null,O,U)),Bi(t,o,v,!R);return}}Id(t,i,o,n,r,h,v,b,M)}function Kv(t){for(var i=t;;){var n=i.tag;if((n===0||n===11||n===15)&&i.flags&16384&&(n=i.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var h=n[r],o=h.getSnapshot;h=h.value;try{if(!Se(o(),h))return!1}catch{return!1}}if(n=i.child,i.subtreeFlags&16384&&n!==null)n.return=i,i=n;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Bi(t,i,n,r){i&=~hh,i&=~ds,t.suspendedLanes|=i,t.pingedLanes&=~i,r&&(t.warmLanes|=i),r=t.expirationTimes;for(var h=i;0<h;){var o=31-be(h),v=1<<o;r[o]=-1,h&=~v}n!==0&&Ic(t,n,i)}function Ca(){return(_t&6)===0?(nl(0),!1):!0}function mh(){if(dt!==null){if(Nt===0)var t=dt.return;else t=dt,ii=ns=null,zu(t),ks=null,Vn=0,t=dt;for(;t!==null;)wd(t.alternate,t),t=t.return;dt=null}}function Ws(t,i){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,fy(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),di=0,mh(),zt=t,dt=n=ti(t.current,null),pt=i,Nt=0,Ne=null,Di=!1,$s=Mn(t,i),uh=!1,Fs=Ee=hh=ds=Oi=Ht=0,de=il=null,ch=!1,(i&8)!==0&&(i|=i&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=i;0<r;){var h=31-be(r),o=1<<h;i|=t[h],r&=~o}return fi=i,$l(),n}function Kd(t,i){ht=null,B.H=Zn,i===qs||i===sa?(i=uf(),Nt=3):i===yu?(i=uf(),Nt=4):Nt=i===Ku?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ne=i,dt===null&&(Ht=1,va(t,Le(i,t.current)))}function Jd(){var t=Me.current;return t===null?!0:(pt&4194048)===pt?Ye===null:(pt&62914560)===pt||(pt&536870912)!==0?t===Ye:!1}function Zd(){var t=B.H;return B.H=Zn,t===null?Zn:t}function $d(){var t=B.A;return B.A=Xv,t}function Ta(){Ht=4,Di||(pt&4194048)!==pt&&Me.current!==null||($s=!0),(Oi&134217727)===0&&(ds&134217727)===0||zt===null||Bi(zt,pt,Ee,!1)}function ph(t,i,n){var r=_t;_t|=2;var h=Zd(),o=$d();(zt!==t||pt!==i)&&(ja=null,Ws(t,i)),i=!1;var v=Ht;t:do try{if(Nt!==0&&dt!==null){var b=dt,M=Ne;switch(Nt){case 8:mh(),v=6;break t;case 3:case 2:case 9:case 6:Me.current===null&&(i=!0);var R=Nt;if(Nt=0,Ne=null,Is(t,b,M,R),n&&$s){v=0;break t}break;default:R=Nt,Nt=0,Ne=null,Is(t,b,M,R)}}Jv(),v=Ht;break}catch(H){Kd(t,H)}while(!0);return i&&t.shellSuspendCounter++,ii=ns=null,_t=r,B.H=h,B.A=o,dt===null&&(zt=null,pt=0,$l()),v}function Jv(){for(;dt!==null;)Fd(dt)}function Zv(t,i){var n=_t;_t|=2;var r=Zd(),h=$d();zt!==t||pt!==i?(ja=null,Ea=ye()+500,Ws(t,i)):$s=Mn(t,i);t:do try{if(Nt!==0&&dt!==null){i=dt;var o=Ne;e:switch(Nt){case 1:Nt=0,Ne=null,Is(t,i,o,1);break;case 2:case 9:if(af(o)){Nt=0,Ne=null,Pd(i);break}i=function(){Nt!==2&&Nt!==9||zt!==t||(Nt=7),$e(t)},o.then(i,i);break t;case 3:Nt=7;break t;case 4:Nt=5;break t;case 7:af(o)?(Nt=0,Ne=null,Pd(i)):(Nt=0,Ne=null,Is(t,i,o,7));break;case 5:var v=null;switch(dt.tag){case 26:v=dt.memoizedState;case 5:case 27:var b=dt;if(v?Um(v):b.stateNode.complete){Nt=0,Ne=null;var M=b.sibling;if(M!==null)dt=M;else{var R=b.return;R!==null?(dt=R,za(R)):dt=null}break e}}Nt=0,Ne=null,Is(t,i,o,5);break;case 6:Nt=0,Ne=null,Is(t,i,o,6);break;case 8:mh(),Ht=6;break t;default:throw Error(l(462))}}$v();break}catch(H){Kd(t,H)}while(!0);return ii=ns=null,B.H=r,B.A=h,_t=n,dt!==null?0:(zt=null,pt=0,$l(),Ht)}function $v(){for(;dt!==null&&!yg();)Fd(dt)}function Fd(t){var i=bd(t.alternate,t,fi);t.memoizedProps=t.pendingProps,i===null?za(t):dt=i}function Pd(t){var i=t,n=i.alternate;switch(i.tag){case 15:case 0:i=md(n,i,i.pendingProps,i.type,void 0,pt);break;case 11:i=md(n,i,i.pendingProps,i.type.render,i.ref,pt);break;case 5:zu(i);default:wd(n,i),i=dt=Zo(i,fi),i=bd(n,i,fi)}t.memoizedProps=t.pendingProps,i===null?za(t):dt=i}function Is(t,i,n,r){ii=ns=null,zu(i),ks=null,Vn=0;var h=i.return;try{if(Bv(t,h,i,n,pt)){Ht=1,va(t,Le(n,t.current)),dt=null;return}}catch(o){if(h!==null)throw dt=h,o;Ht=1,va(t,Le(n,t.current)),dt=null;return}i.flags&32768?(yt||r===1?t=!0:$s||(pt&536870912)!==0?t=!1:(Di=t=!0,(r===2||r===9||r===3||r===6)&&(r=Me.current,r!==null&&r.tag===13&&(r.flags|=16384))),Wd(i,t)):za(i)}function za(t){var i=t;do{if((i.flags&32768)!==0){Wd(i,Di);return}t=i.return;var n=Vv(i.alternate,i,fi);if(n!==null){dt=n;return}if(i=i.sibling,i!==null){dt=i;return}dt=i=t}while(i!==null);Ht===0&&(Ht=5)}function Wd(t,i){do{var n=qv(t.alternate,t);if(n!==null){n.flags&=32767,dt=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!i&&(t=t.sibling,t!==null)){dt=t;return}dt=t=n}while(t!==null);Ht=6,dt=null}function Id(t,i,n,r,h,o,v,b,M){t.cancelPendingCommit=null;do Ra();while(Jt!==0);if((_t&6)!==0)throw Error(l(327));if(i!==null){if(i===t.current)throw Error(l(177));if(o=i.lanes|i.childLanes,o|=su,Cg(t,n,o,v,b,M),t===zt&&(dt=zt=null,pt=0),Ps=i,Ui=t,di=n,oh=o,fh=h,kd=r,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Iv(Dl,function(){return nm(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||r){r=B.T,B.T=null,h=J.p,J.p=2,v=_t,_t|=4;try{kv(t,i,n)}finally{_t=v,J.p=h,B.T=r}}Jt=1,tm(),em(),im()}}function tm(){if(Jt===1){Jt=0;var t=Ui,i=Ps,n=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||n){n=B.T,B.T=null;var r=J.p;J.p=2;var h=_t;_t|=4;try{Od(i,t);var o=jh,v=Yo(t.containerInfo),b=o.focusedElem,M=o.selectionRange;if(v!==b&&b&&b.ownerDocument&&Ho(b.ownerDocument.documentElement,b)){if(M!==null&&Wr(b)){var R=M.start,H=M.end;if(H===void 0&&(H=R),"selectionStart"in b)b.selectionStart=R,b.selectionEnd=Math.min(H,b.value.length);else{var q=b.ownerDocument||document,O=q&&q.defaultView||window;if(O.getSelection){var U=O.getSelection(),W=b.textContent.length,at=Math.min(M.start,W),Tt=M.end===void 0?at:Math.min(M.end,W);!U.extend&&at>Tt&&(v=Tt,Tt=at,at=v);var C=Bo(b,at),N=Bo(b,Tt);if(C&&N&&(U.rangeCount!==1||U.anchorNode!==C.node||U.anchorOffset!==C.offset||U.focusNode!==N.node||U.focusOffset!==N.offset)){var z=q.createRange();z.setStart(C.node,C.offset),U.removeAllRanges(),at>Tt?(U.addRange(z),U.extend(N.node,N.offset)):(z.setEnd(N.node,N.offset),U.addRange(z))}}}}for(q=[],U=b;U=U.parentNode;)U.nodeType===1&&q.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<q.length;b++){var Y=q[b];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Ga=!!Eh,jh=Eh=null}finally{_t=h,J.p=r,B.T=n}}t.current=i,Jt=2}}function em(){if(Jt===2){Jt=0;var t=Ui,i=Ps,n=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||n){n=B.T,B.T=null;var r=J.p;J.p=2;var h=_t;_t|=4;try{Td(t,i.alternate,i)}finally{_t=h,J.p=r,B.T=n}}Jt=3}}function im(){if(Jt===4||Jt===3){Jt=0,xg();var t=Ui,i=Ps,n=di,r=kd;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Jt=5:(Jt=0,Ps=Ui=null,sm(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Li=null),Dr(n),i=i.stateNode,xe&&typeof xe.onCommitFiberRoot=="function")try{xe.onCommitFiberRoot(wn,i,void 0,(i.current.flags&128)===128)}catch{}if(r!==null){i=B.T,h=J.p,J.p=2,B.T=null;try{for(var o=t.onRecoverableError,v=0;v<r.length;v++){var b=r[v];o(b.value,{componentStack:b.stack})}}finally{B.T=i,J.p=h}}(di&3)!==0&&Ra(),$e(t),h=t.pendingLanes,(n&261930)!==0&&(h&42)!==0?t===dh?sl++:(sl=0,dh=t):sl=0,nl(0)}}function sm(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Hn(i)))}function Ra(){return tm(),em(),im(),nm()}function nm(){if(Jt!==5)return!1;var t=Ui,i=oh;oh=0;var n=Dr(di),r=B.T,h=J.p;try{J.p=32>n?32:n,B.T=null,n=fh,fh=null;var o=Ui,v=di;if(Jt=0,Ps=Ui=null,di=0,(_t&6)!==0)throw Error(l(331));var b=_t;if(_t|=4,Yd(o.current),Ud(o,o.current,v,n),_t=b,nl(0,!1),xe&&typeof xe.onPostCommitFiberRoot=="function")try{xe.onPostCommitFiberRoot(wn,o)}catch{}return!0}finally{J.p=h,B.T=r,sm(t,i)}}function lm(t,i,n){i=Le(n,i),i=Qu(t.stateNode,i,2),t=Ti(t,i,2),t!==null&&(_n(t,2),$e(t))}function Et(t,i,n){if(t.tag===3)lm(t,t,n);else for(;i!==null;){if(i.tag===3){lm(i,t,n);break}else if(i.tag===1){var r=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Li===null||!Li.has(r))){t=Le(n,t),n=ad(2),r=Ti(i,n,2),r!==null&&(rd(n,r,i,t),_n(r,2),$e(r));break}}i=i.return}}function gh(t,i,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Qv;var h=new Set;r.set(i,h)}else h=r.get(i),h===void 0&&(h=new Set,r.set(i,h));h.has(n)||(uh=!0,h.add(n),t=Fv.bind(null,t,i,n),i.then(t,t))}function Fv(t,i,n){var r=t.pingCache;r!==null&&r.delete(i),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,zt===t&&(pt&n)===n&&(Ht===4||Ht===3&&(pt&62914560)===pt&&300>ye()-Na?(_t&2)===0&&Ws(t,0):hh|=n,Fs===pt&&(Fs=0)),$e(t)}function am(t,i){i===0&&(i=Wc()),t=es(t,i),t!==null&&(_n(t,i),$e(t))}function Pv(t){var i=t.memoizedState,n=0;i!==null&&(n=i.retryLane),am(t,n)}function Wv(t,i){var n=0;switch(t.tag){case 31:case 13:var r=t.stateNode,h=t.memoizedState;h!==null&&(n=h.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(i),am(t,n)}function Iv(t,i){return Tr(t,i)}var Aa=null,tn=null,vh=!1,Da=!1,yh=!1,Hi=0;function $e(t){t!==tn&&t.next===null&&(tn===null?Aa=tn=t:tn=tn.next=t),Da=!0,vh||(vh=!0,ey())}function nl(t,i){if(!yh&&Da){yh=!0;do for(var n=!1,r=Aa;r!==null;){if(t!==0){var h=r.pendingLanes;if(h===0)var o=0;else{var v=r.suspendedLanes,b=r.pingedLanes;o=(1<<31-be(42|t)+1)-1,o&=h&~(v&~b),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,cm(r,o))}else o=pt,o=Bl(r,r===zt?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(o&3)===0||Mn(r,o)||(n=!0,cm(r,o));r=r.next}while(n);yh=!1}}function ty(){rm()}function rm(){Da=vh=!1;var t=0;Hi!==0&&oy()&&(t=Hi);for(var i=ye(),n=null,r=Aa;r!==null;){var h=r.next,o=um(r,i);o===0?(r.next=null,n===null?Aa=h:n.next=h,h===null&&(tn=n)):(n=r,(t!==0||(o&3)!==0)&&(Da=!0)),r=h}Jt!==0&&Jt!==5||nl(t),Hi!==0&&(Hi=0)}function um(t,i){for(var n=t.suspendedLanes,r=t.pingedLanes,h=t.expirationTimes,o=t.pendingLanes&-62914561;0<o;){var v=31-be(o),b=1<<v,M=h[v];M===-1?((b&n)===0||(b&r)!==0)&&(h[v]=jg(b,i)):M<=i&&(t.expiredLanes|=b),o&=~b}if(i=zt,n=pt,n=Bl(t,t===i?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===i&&(Nt===2||Nt===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&zr(r),t.callbackNode=null,t.callbackPriority=0;if((n&3)===0||Mn(t,n)){if(i=n&-n,i===t.callbackPriority)return i;switch(r!==null&&zr(r),Dr(n)){case 2:case 8:n=Fc;break;case 32:n=Dl;break;case 268435456:n=Pc;break;default:n=Dl}return r=hm.bind(null,t),n=Tr(n,r),t.callbackPriority=i,t.callbackNode=n,i}return r!==null&&r!==null&&zr(r),t.callbackPriority=2,t.callbackNode=null,2}function hm(t,i){if(Jt!==0&&Jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Ra()&&t.callbackNode!==n)return null;var r=pt;return r=Bl(t,t===zt?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(Xd(t,r,i),um(t,ye()),t.callbackNode!=null&&t.callbackNode===n?hm.bind(null,t):null)}function cm(t,i){if(Ra())return null;Xd(t,i,!0)}function ey(){dy(function(){(_t&6)!==0?Tr($c,ty):rm()})}function xh(){if(Hi===0){var t=Ys;t===0&&(t=Ol,Ol<<=1,(Ol&261888)===0&&(Ol=256)),Hi=t}return Hi}function om(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ql(""+t)}function fm(t,i){var n=i.ownerDocument.createElement("input");return n.name=i.name,n.value=i.value,t.id&&n.setAttribute("form",t.id),i.parentNode.insertBefore(n,i),t=new FormData(t),n.parentNode.removeChild(n),t}function iy(t,i,n,r,h){if(i==="submit"&&n&&n.stateNode===h){var o=om((h[ue]||null).action),v=r.submitter;v&&(i=(i=v[ue]||null)?om(i.formAction):v.getAttribute("formAction"),i!==null&&(o=i,v=null));var b=new Ql("action","action",null,r,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Hi!==0){var M=v?fm(h,v):new FormData(h);Yu(n,{pending:!0,data:M,method:h.method,action:o},null,M)}}else typeof o=="function"&&(b.preventDefault(),M=v?fm(h,v):new FormData(h),Yu(n,{pending:!0,data:M,method:h.method,action:o},o,M))},currentTarget:h}]})}}for(var bh=0;bh<iu.length;bh++){var Sh=iu[bh],sy=Sh.toLowerCase(),ny=Sh[0].toUpperCase()+Sh.slice(1);ke(sy,"on"+ny)}ke(ko,"onAnimationEnd"),ke(Go,"onAnimationIteration"),ke(Xo,"onAnimationStart"),ke("dblclick","onDoubleClick"),ke("focusin","onFocus"),ke("focusout","onBlur"),ke(bv,"onTransitionRun"),ke(Sv,"onTransitionStart"),ke(wv,"onTransitionCancel"),ke(Qo,"onTransitionEnd"),Ns("onMouseEnter",["mouseout","mouseover"]),Ns("onMouseLeave",["mouseout","mouseover"]),Ns("onPointerEnter",["pointerout","pointerover"]),Ns("onPointerLeave",["pointerout","pointerover"]),Pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ly=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ll));function dm(t,i){i=(i&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],h=r.event;r=r.listeners;t:{var o=void 0;if(i)for(var v=r.length-1;0<=v;v--){var b=r[v],M=b.instance,R=b.currentTarget;if(b=b.listener,M!==o&&h.isPropagationStopped())break t;o=b,h.currentTarget=R;try{o(h)}catch(H){Zl(H)}h.currentTarget=null,o=M}else for(v=0;v<r.length;v++){if(b=r[v],M=b.instance,R=b.currentTarget,b=b.listener,M!==o&&h.isPropagationStopped())break t;o=b,h.currentTarget=R;try{o(h)}catch(H){Zl(H)}h.currentTarget=null,o=M}}}}function mt(t,i){var n=i[Or];n===void 0&&(n=i[Or]=new Set);var r=t+"__bubble";n.has(r)||(mm(i,t,2,!1),n.add(r))}function wh(t,i,n){var r=0;i&&(r|=4),mm(n,t,r,i)}var Oa="_reactListening"+Math.random().toString(36).slice(2);function Mh(t){if(!t[Oa]){t[Oa]=!0,lo.forEach(function(n){n!=="selectionchange"&&(ly.has(n)||wh(n,!1,t),wh(n,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Oa]||(i[Oa]=!0,wh("selectionchange",!1,i))}}function mm(t,i,n,r){switch(Gm(i)){case 2:var h=Dy;break;case 8:h=Oy;break;default:h=Hh}n=h.bind(null,i,n,t),h=void 0,!Gr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),r?h!==void 0?t.addEventListener(i,n,{capture:!0,passive:h}):t.addEventListener(i,n,!0):h!==void 0?t.addEventListener(i,n,{passive:h}):t.addEventListener(i,n,!1)}function _h(t,i,n,r,h){var o=r;if((i&1)===0&&(i&2)===0&&r!==null)t:for(;;){if(r===null)return;var v=r.tag;if(v===3||v===4){var b=r.stateNode.containerInfo;if(b===h)break;if(v===4)for(v=r.return;v!==null;){var M=v.tag;if((M===3||M===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;b!==null;){if(v=ws(b),v===null)return;if(M=v.tag,M===5||M===6||M===26||M===27){r=o=v;continue t}b=b.parentNode}}r=r.return}yo(function(){var R=o,H=qr(n),q=[];t:{var O=Ko.get(t);if(O!==void 0){var U=Ql,W=t;switch(t){case"keypress":if(Gl(n)===0)break t;case"keydown":case"keyup":U=Wg;break;case"focusin":W="focus",U=Jr;break;case"focusout":W="blur",U=Jr;break;case"beforeblur":case"afterblur":U=Jr;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=So;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=Vg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=ev;break;case ko:case Go:case Xo:U=Gg;break;case Qo:U=sv;break;case"scroll":case"scrollend":U=Hg;break;case"wheel":U=lv;break;case"copy":case"cut":case"paste":U=Qg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Mo;break;case"toggle":case"beforetoggle":U=rv}var at=(i&4)!==0,Tt=!at&&(t==="scroll"||t==="scrollend"),C=at?O!==null?O+"Capture":null:O;at=[];for(var N=R,z;N!==null;){var Y=N;if(z=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||z===null||C===null||(Y=jn(N,C),Y!=null&&at.push(al(N,Y,z))),Tt)break;N=N.return}0<at.length&&(O=new U(O,W,null,n,H),q.push({event:O,listeners:at}))}}if((i&7)===0){t:{if(O=t==="mouseover"||t==="pointerover",U=t==="mouseout"||t==="pointerout",O&&n!==Vr&&(W=n.relatedTarget||n.fromElement)&&(ws(W)||W[Ss]))break t;if((U||O)&&(O=H.window===H?H:(O=H.ownerDocument)?O.defaultView||O.parentWindow:window,U?(W=n.relatedTarget||n.toElement,U=R,W=W?ws(W):null,W!==null&&(Tt=c(W),at=W.tag,W!==Tt||at!==5&&at!==27&&at!==6)&&(W=null)):(U=null,W=R),U!==W)){if(at=So,Y="onMouseLeave",C="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(at=Mo,Y="onPointerLeave",C="onPointerEnter",N="pointer"),Tt=U==null?O:En(U),z=W==null?O:En(W),O=new at(Y,N+"leave",U,n,H),O.target=Tt,O.relatedTarget=z,Y=null,ws(H)===R&&(at=new at(C,N+"enter",W,n,H),at.target=z,at.relatedTarget=Tt,Y=at),Tt=Y,U&&W)e:{for(at=ay,C=U,N=W,z=0,Y=C;Y;Y=at(Y))z++;Y=0;for(var et=N;et;et=at(et))Y++;for(;0<z-Y;)C=at(C),z--;for(;0<Y-z;)N=at(N),Y--;for(;z--;){if(C===N||N!==null&&C===N.alternate){at=C;break e}C=at(C),N=at(N)}at=null}else at=null;U!==null&&pm(q,O,U,at,!1),W!==null&&Tt!==null&&pm(q,Tt,W,at,!0)}}t:{if(O=R?En(R):window,U=O.nodeName&&O.nodeName.toLowerCase(),U==="select"||U==="input"&&O.type==="file")var wt=Ro;else if(To(O))if(Ao)wt=vv;else{wt=pv;var I=mv}else U=O.nodeName,!U||U.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?R&&Yr(R.elementType)&&(wt=Ro):wt=gv;if(wt&&(wt=wt(t,R))){zo(q,wt,n,H);break t}I&&I(t,O,R),t==="focusout"&&R&&O.type==="number"&&R.memoizedProps.value!=null&&Hr(O,"number",O.value)}switch(I=R?En(R):window,t){case"focusin":(To(I)||I.contentEditable==="true")&&(Rs=I,Ir=R,Ln=null);break;case"focusout":Ln=Ir=Rs=null;break;case"mousedown":tu=!0;break;case"contextmenu":case"mouseup":case"dragend":tu=!1,Vo(q,n,H);break;case"selectionchange":if(xv)break;case"keydown":case"keyup":Vo(q,n,H)}var ct;if($r)t:{switch(t){case"compositionstart":var gt="onCompositionStart";break t;case"compositionend":gt="onCompositionEnd";break t;case"compositionupdate":gt="onCompositionUpdate";break t}gt=void 0}else zs?jo(t,n)&&(gt="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(gt="onCompositionStart");gt&&(_o&&n.locale!=="ko"&&(zs||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&zs&&(ct=xo()):(wi=H,Xr="value"in wi?wi.value:wi.textContent,zs=!0)),I=La(R,gt),0<I.length&&(gt=new wo(gt,t,null,n,H),q.push({event:gt,listeners:I}),ct?gt.data=ct:(ct=Co(n),ct!==null&&(gt.data=ct)))),(ct=hv?cv(t,n):ov(t,n))&&(gt=La(R,"onBeforeInput"),0<gt.length&&(I=new wo("onBeforeInput","beforeinput",null,n,H),q.push({event:I,listeners:gt}),I.data=ct)),iy(q,t,R,n,H)}dm(q,i)})}function al(t,i,n){return{instance:t,listener:i,currentTarget:n}}function La(t,i){for(var n=i+"Capture",r=[];t!==null;){var h=t,o=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||o===null||(h=jn(t,n),h!=null&&r.unshift(al(t,h,o)),h=jn(t,i),h!=null&&r.push(al(t,h,o))),t.tag===3)return r;t=t.return}return[]}function ay(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function pm(t,i,n,r,h){for(var o=i._reactName,v=[];n!==null&&n!==r;){var b=n,M=b.alternate,R=b.stateNode;if(b=b.tag,M!==null&&M===r)break;b!==5&&b!==26&&b!==27||R===null||(M=R,h?(R=jn(n,o),R!=null&&v.unshift(al(n,R,M))):h||(R=jn(n,o),R!=null&&v.push(al(n,R,M)))),n=n.return}v.length!==0&&t.push({event:i,listeners:v})}var ry=/\r\n?/g,uy=/\u0000|\uFFFD/g;function gm(t){return(typeof t=="string"?t:""+t).replace(ry,`
`).replace(uy,"")}function vm(t,i){return i=gm(i),gm(t)===i}function Ct(t,i,n,r,h,o){switch(n){case"children":typeof r=="string"?i==="body"||i==="textarea"&&r===""||js(t,r):(typeof r=="number"||typeof r=="bigint")&&i!=="body"&&js(t,""+r);break;case"className":Yl(t,"class",r);break;case"tabIndex":Yl(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Yl(t,n,r);break;case"style":go(t,r,o);break;case"data":if(i!=="object"){Yl(t,"data",r);break}case"src":case"href":if(r===""&&(i!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=ql(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(i!=="input"&&Ct(t,i,"name",h.name,h,null),Ct(t,i,"formEncType",h.formEncType,h,null),Ct(t,i,"formMethod",h.formMethod,h,null),Ct(t,i,"formTarget",h.formTarget,h,null)):(Ct(t,i,"encType",h.encType,h,null),Ct(t,i,"method",h.method,h,null),Ct(t,i,"target",h.target,h,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=ql(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=We);break;case"onScroll":r!=null&&mt("scroll",t);break;case"onScrollEnd":r!=null&&mt("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(n=r.__html,n!=null){if(h.children!=null)throw Error(l(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=ql(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":mt("beforetoggle",t),mt("toggle",t),Hl(t,"popover",r);break;case"xlinkActuate":Pe(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Pe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Pe(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Pe(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Pe(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Pe(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Pe(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Pe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Pe(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Hl(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Ug.get(n)||n,Hl(t,n,r))}}function Nh(t,i,n,r,h,o){switch(n){case"style":go(t,r,o);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(n=r.__html,n!=null){if(h.children!=null)throw Error(l(60));t.innerHTML=n}}break;case"children":typeof r=="string"?js(t,r):(typeof r=="number"||typeof r=="bigint")&&js(t,""+r);break;case"onScroll":r!=null&&mt("scroll",t);break;case"onScrollEnd":r!=null&&mt("scrollend",t);break;case"onClick":r!=null&&(t.onclick=We);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ao.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(h=n.endsWith("Capture"),i=n.slice(2,h?n.length-7:void 0),o=t[ue]||null,o=o!=null?o[n]:null,typeof o=="function"&&t.removeEventListener(i,o,h),typeof r=="function")){typeof o!="function"&&o!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(i,r,h);break t}n in t?t[n]=r:r===!0?t.setAttribute(n,""):Hl(t,n,r)}}}function te(t,i,n){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mt("error",t),mt("load",t);var r=!1,h=!1,o;for(o in n)if(n.hasOwnProperty(o)){var v=n[o];if(v!=null)switch(o){case"src":r=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:Ct(t,i,o,v,n,null)}}h&&Ct(t,i,"srcSet",n.srcSet,n,null),r&&Ct(t,i,"src",n.src,n,null);return;case"input":mt("invalid",t);var b=o=v=h=null,M=null,R=null;for(r in n)if(n.hasOwnProperty(r)){var H=n[r];if(H!=null)switch(r){case"name":h=H;break;case"type":v=H;break;case"checked":M=H;break;case"defaultChecked":R=H;break;case"value":o=H;break;case"defaultValue":b=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(l(137,i));break;default:Ct(t,i,r,H,n,null)}}oo(t,o,b,M,R,v,h,!1);return;case"select":mt("invalid",t),r=v=o=null;for(h in n)if(n.hasOwnProperty(h)&&(b=n[h],b!=null))switch(h){case"value":o=b;break;case"defaultValue":v=b;break;case"multiple":r=b;default:Ct(t,i,h,b,n,null)}i=o,n=v,t.multiple=!!r,i!=null?Es(t,!!r,i,!1):n!=null&&Es(t,!!r,n,!0);return;case"textarea":mt("invalid",t),o=h=r=null;for(v in n)if(n.hasOwnProperty(v)&&(b=n[v],b!=null))switch(v){case"value":r=b;break;case"defaultValue":h=b;break;case"children":o=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(l(91));break;default:Ct(t,i,v,b,n,null)}mo(t,r,h,o);return;case"option":for(M in n)n.hasOwnProperty(M)&&(r=n[M],r!=null)&&(M==="selected"?t.selected=r&&typeof r!="function"&&typeof r!="symbol":Ct(t,i,M,r,n,null));return;case"dialog":mt("beforetoggle",t),mt("toggle",t),mt("cancel",t),mt("close",t);break;case"iframe":case"object":mt("load",t);break;case"video":case"audio":for(r=0;r<ll.length;r++)mt(ll[r],t);break;case"image":mt("error",t),mt("load",t);break;case"details":mt("toggle",t);break;case"embed":case"source":case"link":mt("error",t),mt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in n)if(n.hasOwnProperty(R)&&(r=n[R],r!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:Ct(t,i,R,r,n,null)}return;default:if(Yr(i)){for(H in n)n.hasOwnProperty(H)&&(r=n[H],r!==void 0&&Nh(t,i,H,r,n,void 0));return}}for(b in n)n.hasOwnProperty(b)&&(r=n[b],r!=null&&Ct(t,i,b,r,n,null))}function hy(t,i,n,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,o=null,v=null,b=null,M=null,R=null,H=null;for(U in n){var q=n[U];if(n.hasOwnProperty(U)&&q!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":M=q;default:r.hasOwnProperty(U)||Ct(t,i,U,null,r,q)}}for(var O in r){var U=r[O];if(q=n[O],r.hasOwnProperty(O)&&(U!=null||q!=null))switch(O){case"type":o=U;break;case"name":h=U;break;case"checked":R=U;break;case"defaultChecked":H=U;break;case"value":v=U;break;case"defaultValue":b=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(l(137,i));break;default:U!==q&&Ct(t,i,O,U,r,q)}}Br(t,v,b,M,R,H,o,h);return;case"select":U=v=b=O=null;for(o in n)if(M=n[o],n.hasOwnProperty(o)&&M!=null)switch(o){case"value":break;case"multiple":U=M;default:r.hasOwnProperty(o)||Ct(t,i,o,null,r,M)}for(h in r)if(o=r[h],M=n[h],r.hasOwnProperty(h)&&(o!=null||M!=null))switch(h){case"value":O=o;break;case"defaultValue":b=o;break;case"multiple":v=o;default:o!==M&&Ct(t,i,h,o,r,M)}i=b,n=v,r=U,O!=null?Es(t,!!n,O,!1):!!r!=!!n&&(i!=null?Es(t,!!n,i,!0):Es(t,!!n,n?[]:"",!1));return;case"textarea":U=O=null;for(b in n)if(h=n[b],n.hasOwnProperty(b)&&h!=null&&!r.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ct(t,i,b,null,r,h)}for(v in r)if(h=r[v],o=n[v],r.hasOwnProperty(v)&&(h!=null||o!=null))switch(v){case"value":O=h;break;case"defaultValue":U=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(l(91));break;default:h!==o&&Ct(t,i,v,h,r,o)}fo(t,O,U);return;case"option":for(var W in n)O=n[W],n.hasOwnProperty(W)&&O!=null&&!r.hasOwnProperty(W)&&(W==="selected"?t.selected=!1:Ct(t,i,W,null,r,O));for(M in r)O=r[M],U=n[M],r.hasOwnProperty(M)&&O!==U&&(O!=null||U!=null)&&(M==="selected"?t.selected=O&&typeof O!="function"&&typeof O!="symbol":Ct(t,i,M,O,r,U));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var at in n)O=n[at],n.hasOwnProperty(at)&&O!=null&&!r.hasOwnProperty(at)&&Ct(t,i,at,null,r,O);for(R in r)if(O=r[R],U=n[R],r.hasOwnProperty(R)&&O!==U&&(O!=null||U!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(l(137,i));break;default:Ct(t,i,R,O,r,U)}return;default:if(Yr(i)){for(var Tt in n)O=n[Tt],n.hasOwnProperty(Tt)&&O!==void 0&&!r.hasOwnProperty(Tt)&&Nh(t,i,Tt,void 0,r,O);for(H in r)O=r[H],U=n[H],!r.hasOwnProperty(H)||O===U||O===void 0&&U===void 0||Nh(t,i,H,O,r,U);return}}for(var C in n)O=n[C],n.hasOwnProperty(C)&&O!=null&&!r.hasOwnProperty(C)&&Ct(t,i,C,null,r,O);for(q in r)O=r[q],U=n[q],!r.hasOwnProperty(q)||O===U||O==null&&U==null||Ct(t,i,q,O,r,U)}function ym(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cy(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var h=n[r],o=h.transferSize,v=h.initiatorType,b=h.duration;if(o&&b&&ym(v)){for(v=0,b=h.responseEnd,r+=1;r<n.length;r++){var M=n[r],R=M.startTime;if(R>b)break;var H=M.transferSize,q=M.initiatorType;H&&ym(q)&&(M=M.responseEnd,v+=H*(M<b?1:(b-R)/(M-R)))}if(--r,i+=8*(o+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Eh=null,jh=null;function Ua(t){return t.nodeType===9?t:t.ownerDocument}function xm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bm(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Ch(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Th=null;function oy(){var t=window.event;return t&&t.type==="popstate"?t===Th?!1:(Th=t,!0):(Th=null,!1)}var Sm=typeof setTimeout=="function"?setTimeout:void 0,fy=typeof clearTimeout=="function"?clearTimeout:void 0,wm=typeof Promise=="function"?Promise:void 0,dy=typeof queueMicrotask=="function"?queueMicrotask:typeof wm<"u"?function(t){return wm.resolve(null).then(t).catch(my)}:Sm;function my(t){setTimeout(function(){throw t})}function Yi(t){return t==="head"}function Mm(t,i){var n=i,r=0;do{var h=n.nextSibling;if(t.removeChild(n),h&&h.nodeType===8)if(n=h.data,n==="/$"||n==="/&"){if(r===0){t.removeChild(h),ln(i);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")rl(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,rl(n);for(var o=n.firstChild;o;){var v=o.nextSibling,b=o.nodeName;o[Nn]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=v}}else n==="body"&&rl(t.ownerDocument.body);n=h}while(n);ln(i)}function _m(t,i){var n=t;t=0;do{var r=n.nextSibling;if(n.nodeType===1?i?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(i?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=r}while(n)}function zh(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var n=i;switch(i=i.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":zh(n),Lr(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function py(t,i,n,r){for(;t.nodeType===1;){var h=n;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Nn])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(o=t.getAttribute("rel"),o==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(o!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(o=t.getAttribute("src"),(o!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&o&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var o=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===o)return t}else return t;if(t=Ve(t.nextSibling),t===null)break}return null}function gy(t,i,n){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Ve(t.nextSibling),t===null))return null;return t}function Nm(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Ve(t.nextSibling),t===null))return null;return t}function Rh(t){return t.data==="$?"||t.data==="$~"}function Ah(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function vy(t,i){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||n.readyState!=="loading")i();else{var r=function(){i(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Ve(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Dh=null;function Em(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(i===0)return Ve(t.nextSibling);i--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||i++}t=t.nextSibling}return null}function jm(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(i===0)return t;i--}else n!=="/$"&&n!=="/&"||i++}t=t.previousSibling}return null}function Cm(t,i,n){switch(i=Ua(n),t){case"html":if(t=i.documentElement,!t)throw Error(l(452));return t;case"head":if(t=i.head,!t)throw Error(l(453));return t;case"body":if(t=i.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function rl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Lr(t)}var qe=new Map,Tm=new Set;function Ba(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var mi=J.d;J.d={f:yy,r:xy,D:by,C:Sy,L:wy,m:My,X:Ny,S:_y,M:Ey};function yy(){var t=mi.f(),i=Ca();return t||i}function xy(t){var i=Ms(t);i!==null&&i.tag===5&&i.type==="form"?Kf(i):mi.r(t)}var en=typeof document>"u"?null:document;function zm(t,i,n){var r=en;if(r&&typeof i=="string"&&i){var h=De(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof n=="string"&&(h+='[crossorigin="'+n+'"]'),Tm.has(h)||(Tm.add(h),t={rel:t,crossOrigin:n,href:i},r.querySelector(h)===null&&(i=r.createElement("link"),te(i,"link",t),Zt(i),r.head.appendChild(i)))}}function by(t){mi.D(t),zm("dns-prefetch",t,null)}function Sy(t,i){mi.C(t,i),zm("preconnect",t,i)}function wy(t,i,n){mi.L(t,i,n);var r=en;if(r&&t&&i){var h='link[rel="preload"][as="'+De(i)+'"]';i==="image"&&n&&n.imageSrcSet?(h+='[imagesrcset="'+De(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(h+='[imagesizes="'+De(n.imageSizes)+'"]')):h+='[href="'+De(t)+'"]';var o=h;switch(i){case"style":o=sn(t);break;case"script":o=nn(t)}qe.has(o)||(t=y({rel:"preload",href:i==="image"&&n&&n.imageSrcSet?void 0:t,as:i},n),qe.set(o,t),r.querySelector(h)!==null||i==="style"&&r.querySelector(ul(o))||i==="script"&&r.querySelector(hl(o))||(i=r.createElement("link"),te(i,"link",t),Zt(i),r.head.appendChild(i)))}}function My(t,i){mi.m(t,i);var n=en;if(n&&t){var r=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+De(r)+'"][href="'+De(t)+'"]',o=h;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=nn(t)}if(!qe.has(o)&&(t=y({rel:"modulepreload",href:t},i),qe.set(o,t),n.querySelector(h)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(hl(o)))return}r=n.createElement("link"),te(r,"link",t),Zt(r),n.head.appendChild(r)}}}function _y(t,i,n){mi.S(t,i,n);var r=en;if(r&&t){var h=_s(r).hoistableStyles,o=sn(t);i=i||"default";var v=h.get(o);if(!v){var b={loading:0,preload:null};if(v=r.querySelector(ul(o)))b.loading=5;else{t=y({rel:"stylesheet",href:t,"data-precedence":i},n),(n=qe.get(o))&&Oh(t,n);var M=v=r.createElement("link");Zt(M),te(M,"link",t),M._p=new Promise(function(R,H){M.onload=R,M.onerror=H}),M.addEventListener("load",function(){b.loading|=1}),M.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Ha(v,i,r)}v={type:"stylesheet",instance:v,count:1,state:b},h.set(o,v)}}}function Ny(t,i){mi.X(t,i);var n=en;if(n&&t){var r=_s(n).hoistableScripts,h=nn(t),o=r.get(h);o||(o=n.querySelector(hl(h)),o||(t=y({src:t,async:!0},i),(i=qe.get(h))&&Lh(t,i),o=n.createElement("script"),Zt(o),te(o,"link",t),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(h,o))}}function Ey(t,i){mi.M(t,i);var n=en;if(n&&t){var r=_s(n).hoistableScripts,h=nn(t),o=r.get(h);o||(o=n.querySelector(hl(h)),o||(t=y({src:t,async:!0,type:"module"},i),(i=qe.get(h))&&Lh(t,i),o=n.createElement("script"),Zt(o),te(o,"link",t),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(h,o))}}function Rm(t,i,n,r){var h=(h=ot.current)?Ba(h):null;if(!h)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(i=sn(n.href),n=_s(h).hoistableStyles,r=n.get(i),r||(r={type:"style",instance:null,count:0,state:null},n.set(i,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=sn(n.href);var o=_s(h).hoistableStyles,v=o.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(t,v),(o=h.querySelector(ul(t)))&&!o._p&&(v.instance=o,v.state.loading=5),qe.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},qe.set(t,n),o||jy(h,t,n,v.state))),i&&r===null)throw Error(l(528,""));return v}if(i&&r!==null)throw Error(l(529,""));return null;case"script":return i=n.async,n=n.src,typeof n=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=nn(n),n=_s(h).hoistableScripts,r=n.get(i),r||(r={type:"script",instance:null,count:0,state:null},n.set(i,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function sn(t){return'href="'+De(t)+'"'}function ul(t){return'link[rel="stylesheet"]['+t+"]"}function Am(t){return y({},t,{"data-precedence":t.precedence,precedence:null})}function jy(t,i,n,r){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?r.loading=1:(i=t.createElement("link"),r.preload=i,i.addEventListener("load",function(){return r.loading|=1}),i.addEventListener("error",function(){return r.loading|=2}),te(i,"link",n),Zt(i),t.head.appendChild(i))}function nn(t){return'[src="'+De(t)+'"]'}function hl(t){return"script[async]"+t}function Dm(t,i,n){if(i.count++,i.instance===null)switch(i.type){case"style":var r=t.querySelector('style[data-href~="'+De(n.href)+'"]');if(r)return i.instance=r,Zt(r),r;var h=y({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),Zt(r),te(r,"style",h),Ha(r,n.precedence,t),i.instance=r;case"stylesheet":h=sn(n.href);var o=t.querySelector(ul(h));if(o)return i.state.loading|=4,i.instance=o,Zt(o),o;r=Am(n),(h=qe.get(h))&&Oh(r,h),o=(t.ownerDocument||t).createElement("link"),Zt(o);var v=o;return v._p=new Promise(function(b,M){v.onload=b,v.onerror=M}),te(o,"link",r),i.state.loading|=4,Ha(o,n.precedence,t),i.instance=o;case"script":return o=nn(n.src),(h=t.querySelector(hl(o)))?(i.instance=h,Zt(h),h):(r=n,(h=qe.get(o))&&(r=y({},n),Lh(r,h)),t=t.ownerDocument||t,h=t.createElement("script"),Zt(h),te(h,"link",r),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(l(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(r=i.instance,i.state.loading|=4,Ha(r,n.precedence,t));return i.instance}function Ha(t,i,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=r.length?r[r.length-1]:null,o=h,v=0;v<r.length;v++){var b=r[v];if(b.dataset.precedence===i)o=b;else if(o!==h)break}o?o.parentNode.insertBefore(t,o.nextSibling):(i=n.nodeType===9?n.head:n,i.insertBefore(t,i.firstChild))}function Oh(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Lh(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Ya=null;function Om(t,i,n){if(Ya===null){var r=new Map,h=Ya=new Map;h.set(n,r)}else h=Ya,r=h.get(n),r||(r=new Map,h.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),h=0;h<n.length;h++){var o=n[h];if(!(o[Nn]||o[Ft]||t==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var v=o.getAttribute(i)||"";v=t+v;var b=r.get(v);b?b.push(o):r.set(v,[o])}}return r}function Lm(t,i,n){t=t.ownerDocument||t,t.head.insertBefore(n,i==="title"?t.querySelector("head > title"):null)}function Cy(t,i,n){if(n===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Um(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Ty(t,i,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=sn(r.href),o=i.querySelector(ul(h));if(o){i=o._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Va.bind(t),i.then(t,t)),n.state.loading|=4,n.instance=o,Zt(o);return}o=i.ownerDocument||i,r=Am(r),(h=qe.get(h))&&Oh(r,h),o=o.createElement("link"),Zt(o);var v=o;v._p=new Promise(function(b,M){v.onload=b,v.onerror=M}),te(o,"link",r),n.instance=o}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,i),(i=n.state.preload)&&(n.state.loading&3)===0&&(t.count++,n=Va.bind(t),i.addEventListener("load",n),i.addEventListener("error",n))}}var Uh=0;function zy(t,i){return t.stylesheets&&t.count===0&&ka(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var r=setTimeout(function(){if(t.stylesheets&&ka(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4+i);0<t.imgBytes&&Uh===0&&(Uh=62500*cy());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ka(t,t.stylesheets),t.unsuspend)){var o=t.unsuspend;t.unsuspend=null,o()}},(t.imgBytes>Uh?50:800)+i);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(h)}}:null}function Va(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ka(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var qa=null;function ka(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,qa=new Map,i.forEach(Ry,t),qa=null,Va.call(t))}function Ry(t,i){if(!(i.state.loading&4)){var n=qa.get(t);if(n)var r=n.get(null);else{n=new Map,qa.set(t,n);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<h.length;o++){var v=h[o];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(n.set(v.dataset.precedence,v),r=v)}r&&n.set(null,r)}h=i.instance,v=h.getAttribute("data-precedence"),o=n.get(v)||r,o===r&&n.set(null,h),n.set(v,h),this.count++,r=Va.bind(this),h.addEventListener("load",r),h.addEventListener("error",r),o?o.parentNode.insertBefore(h,o.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var cl={$$typeof:K,Provider:null,Consumer:null,_currentValue:it,_currentValue2:it,_threadCount:0};function Ay(t,i,n,r,h,o,v,b,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rr(0),this.hiddenUpdates=Rr(null),this.identifierPrefix=r,this.onUncaughtError=h,this.onCaughtError=o,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function Bm(t,i,n,r,h,o,v,b,M,R,H,q){return t=new Ay(t,i,n,v,M,R,H,q,b),i=1,o===!0&&(i|=24),o=we(3,null,null,i),t.current=o,o.stateNode=t,i=pu(),i.refCount++,t.pooledCache=i,i.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:i},xu(o),t}function Hm(t){return t?(t=Os,t):Os}function Ym(t,i,n,r,h,o){h=Hm(h),r.context===null?r.context=h:r.pendingContext=h,r=Ci(i),r.payload={element:n},o=o===void 0?null:o,o!==null&&(r.callback=o),n=Ti(t,r,i),n!==null&&(me(n,t,i),kn(n,t,i))}function Vm(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<i?n:i}}function Bh(t,i){Vm(t,i),(t=t.alternate)&&Vm(t,i)}function qm(t){if(t.tag===13||t.tag===31){var i=es(t,67108864);i!==null&&me(i,t,67108864),Bh(t,67108864)}}function km(t){if(t.tag===13||t.tag===31){var i=je();i=Ar(i);var n=es(t,i);n!==null&&me(n,t,i),Bh(t,i)}}var Ga=!0;function Dy(t,i,n,r){var h=B.T;B.T=null;var o=J.p;try{J.p=2,Hh(t,i,n,r)}finally{J.p=o,B.T=h}}function Oy(t,i,n,r){var h=B.T;B.T=null;var o=J.p;try{J.p=8,Hh(t,i,n,r)}finally{J.p=o,B.T=h}}function Hh(t,i,n,r){if(Ga){var h=Yh(r);if(h===null)_h(t,i,r,Xa,n),Xm(t,r);else if(Uy(h,t,i,n,r))r.stopPropagation();else if(Xm(t,r),i&4&&-1<Ly.indexOf(t)){for(;h!==null;){var o=Ms(h);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var v=Fi(o.pendingLanes);if(v!==0){var b=o;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var M=1<<31-be(v);b.entanglements[1]|=M,v&=~M}$e(o),(_t&6)===0&&(Ea=ye()+500,nl(0))}}break;case 31:case 13:b=es(o,2),b!==null&&me(b,o,2),Ca(),Bh(o,2)}if(o=Yh(r),o===null&&_h(t,i,r,Xa,n),o===h)break;h=o}h!==null&&r.stopPropagation()}else _h(t,i,r,null,n)}}function Yh(t){return t=qr(t),Vh(t)}var Xa=null;function Vh(t){if(Xa=null,t=ws(t),t!==null){var i=c(t);if(i===null)t=null;else{var n=i.tag;if(n===13){if(t=f(i),t!==null)return t;t=null}else if(n===31){if(t=m(i),t!==null)return t;t=null}else if(n===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Xa=t,null}function Gm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bg()){case $c:return 2;case Fc:return 8;case Dl:case Sg:return 32;case Pc:return 268435456;default:return 32}default:return 32}}var qh=!1,Vi=null,qi=null,ki=null,ol=new Map,fl=new Map,Gi=[],Ly="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xm(t,i){switch(t){case"focusin":case"focusout":Vi=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":ki=null;break;case"pointerover":case"pointerout":ol.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(i.pointerId)}}function dl(t,i,n,r,h,o){return t===null||t.nativeEvent!==o?(t={blockedOn:i,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[h]},i!==null&&(i=Ms(i),i!==null&&qm(i)),t):(t.eventSystemFlags|=r,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Uy(t,i,n,r,h){switch(i){case"focusin":return Vi=dl(Vi,t,i,n,r,h),!0;case"dragenter":return qi=dl(qi,t,i,n,r,h),!0;case"mouseover":return ki=dl(ki,t,i,n,r,h),!0;case"pointerover":var o=h.pointerId;return ol.set(o,dl(ol.get(o)||null,t,i,n,r,h)),!0;case"gotpointercapture":return o=h.pointerId,fl.set(o,dl(fl.get(o)||null,t,i,n,r,h)),!0}return!1}function Qm(t){var i=ws(t.target);if(i!==null){var n=c(i);if(n!==null){if(i=n.tag,i===13){if(i=f(n),i!==null){t.blockedOn=i,so(t.priority,function(){km(n)});return}}else if(i===31){if(i=m(n),i!==null){t.blockedOn=i,so(t.priority,function(){km(n)});return}}else if(i===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qa(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var n=Yh(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Vr=r,n.target.dispatchEvent(r),Vr=null}else return i=Ms(n),i!==null&&qm(i),t.blockedOn=n,!1;i.shift()}return!0}function Km(t,i,n){Qa(t)&&n.delete(i)}function By(){qh=!1,Vi!==null&&Qa(Vi)&&(Vi=null),qi!==null&&Qa(qi)&&(qi=null),ki!==null&&Qa(ki)&&(ki=null),ol.forEach(Km),fl.forEach(Km)}function Ka(t,i){t.blockedOn===i&&(t.blockedOn=null,qh||(qh=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,By)))}var Ja=null;function Jm(t){Ja!==t&&(Ja=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Ja===t&&(Ja=null);for(var i=0;i<t.length;i+=3){var n=t[i],r=t[i+1],h=t[i+2];if(typeof r!="function"){if(Vh(r||n)===null)continue;break}var o=Ms(n);o!==null&&(t.splice(i,3),i-=3,Yu(o,{pending:!0,data:h,method:n.method,action:r},r,h))}}))}function ln(t){function i(M){return Ka(M,t)}Vi!==null&&Ka(Vi,t),qi!==null&&Ka(qi,t),ki!==null&&Ka(ki,t),ol.forEach(i),fl.forEach(i);for(var n=0;n<Gi.length;n++){var r=Gi[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Gi.length&&(n=Gi[0],n.blockedOn===null);)Qm(n),n.blockedOn===null&&Gi.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var h=n[r],o=n[r+1],v=h[ue]||null;if(typeof o=="function")v||Jm(n);else if(v){var b=null;if(o&&o.hasAttribute("formAction")){if(h=o,v=o[ue]||null)b=v.formAction;else if(Vh(h)!==null)continue}else b=v.action;typeof b=="function"?n[r+1]=b:(n.splice(r,3),r-=3),Jm(n)}}}function Zm(){function t(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function kh(t){this._internalRoot=t}Za.prototype.render=kh.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(l(409));var n=i.current,r=je();Ym(n,r,t,i,null,null)},Za.prototype.unmount=kh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Ym(t.current,2,null,t,null,null),Ca(),i[Ss]=null}};function Za(t){this._internalRoot=t}Za.prototype.unstable_scheduleHydration=function(t){if(t){var i=io();t={blockedOn:null,target:t,priority:i};for(var n=0;n<Gi.length&&i!==0&&i<Gi[n].priority;n++);Gi.splice(n,0,t),n===0&&Qm(t)}};var $m=e.version;if($m!=="19.2.3")throw Error(l(527,$m,"19.2.3"));J.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=d(i),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var Hy={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$a.isDisabled&&$a.supportsFiber)try{wn=$a.inject(Hy),xe=$a}catch{}}return pl.createRoot=function(t,i){if(!u(t))throw Error(l(299));var n=!1,r="",h=id,o=sd,v=nd;return i!=null&&(i.unstable_strictMode===!0&&(n=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(o=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=Bm(t,1,!1,null,null,n,r,null,h,o,v,Zm),t[Ss]=i.current,Mh(t),new kh(i)},pl.hydrateRoot=function(t,i,n){if(!u(t))throw Error(l(299));var r=!1,h="",o=id,v=sd,b=nd,M=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(h=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(v=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError),n.formState!==void 0&&(M=n.formState)),i=Bm(t,1,!0,i,n??null,r,h,M,o,v,b,Zm),i.context=Hm(null),n=i.current,r=je(),r=Ar(r),h=Ci(r),h.callback=null,Ti(n,h,r),n=r,i.current.lanes=n,_n(i,n),$e(i),t[Ss]=i.current,Mh(t),new Za(i)},pl.version="19.2.3",pl}var l0;function $y(){if(l0)return Qh.exports;l0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Qh.exports=Zy(),Qh.exports}var Fy=$y();var a0="popstate";function Py(a={}){function e(l,u){let{pathname:c,search:f,hash:m}=l.location;return Sc("",{pathname:c,search:f,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function s(l,u){return typeof u=="string"?u:Ml(u)}return Iy(e,s,null,a)}function Ut(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function Te(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Wy(){return Math.random().toString(36).substring(2,10)}function r0(a,e){return{usr:a.state,key:a.key,idx:e}}function Sc(a,e,s=null,l){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?vn(e):e,state:s,key:e&&e.key||l||Wy()}}function Ml({pathname:a="/",search:e="",hash:s=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),s&&s!=="#"&&(a+=s.charAt(0)==="#"?s:"#"+s),a}function vn(a){let e={};if(a){let s=a.indexOf("#");s>=0&&(e.hash=a.substring(s),a=a.substring(0,s));let l=a.indexOf("?");l>=0&&(e.search=a.substring(l),a=a.substring(0,l)),a&&(e.pathname=a)}return e}function Iy(a,e,s,l={}){let{window:u=document.defaultView,v5Compat:c=!1}=l,f=u.history,m="POP",p=null,d=x();d==null&&(d=0,f.replaceState({...f.state,idx:d},""));function x(){return(f.state||{idx:null}).idx}function y(){m="POP";let L=x(),D=L==null?null:L-d;d=L,p&&p({action:m,location:A.location,delta:D})}function S(L,D){m="PUSH";let V=Sc(A.location,L,D);d=x()+1;let K=r0(V,d),Z=A.createHref(V);try{f.pushState(K,"",Z)}catch(tt){if(tt instanceof DOMException&&tt.name==="DataCloneError")throw tt;u.location.assign(Z)}c&&p&&p({action:m,location:A.location,delta:1})}function _(L,D){m="REPLACE";let V=Sc(A.location,L,D);d=x();let K=r0(V,d),Z=A.createHref(V);f.replaceState(K,"",Z),c&&p&&p({action:m,location:A.location,delta:0})}function w(L){return tx(L)}let A={get action(){return m},get location(){return a(u,f)},listen(L){if(p)throw new Error("A history only accepts one active listener");return u.addEventListener(a0,y),p=L,()=>{u.removeEventListener(a0,y),p=null}},createHref(L){return e(u,L)},createURL:w,encodeLocation(L){let D=w(L);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:S,replace:_,go(L){return f.go(L)}};return A}function tx(a,e=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Ut(s,"No window.location.(origin|href) available to create URL");let l=typeof a=="string"?a:Ml(a);return l=l.replace(/ $/,"%20"),!e&&l.startsWith("//")&&(l=s+l),new URL(l,s)}function Sp(a,e,s="/"){return ex(a,e,s,!1)}function ex(a,e,s,l){let u=typeof e=="string"?vn(e):e,c=yi(u.pathname||"/",s);if(c==null)return null;let f=wp(a);ix(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let d=dx(c);m=ox(f[p],d,l)}return m}function wp(a,e=[],s=[],l="",u=!1){let c=(f,m,p=u,d)=>{let x={relativePath:d===void 0?f.path||"":d,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(l)&&p)return;Ut(x.relativePath.startsWith(l),`Absolute route path "${x.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(l.length)}let y=vi([l,x.relativePath]),S=s.concat(x);f.children&&f.children.length>0&&(Ut(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),wp(f.children,e,S,y,p)),!(f.path==null&&!f.index)&&e.push({path:y,score:hx(y,f.index),routesMeta:S})};return a.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))c(f,m);else for(let p of Mp(f.path))c(f,m,!0,p)}),e}function Mp(a){let e=a.split("/");if(e.length===0)return[];let[s,...l]=e,u=s.endsWith("?"),c=s.replace(/\?$/,"");if(l.length===0)return u?[c,""]:[c];let f=Mp(l.join("/")),m=[];return m.push(...f.map(p=>p===""?c:[c,p].join("/"))),u&&m.push(...f),m.map(p=>a.startsWith("/")&&p===""?"/":p)}function ix(a){a.sort((e,s)=>e.score!==s.score?s.score-e.score:cx(e.routesMeta.map(l=>l.childrenIndex),s.routesMeta.map(l=>l.childrenIndex)))}var sx=/^:[\w-]+$/,nx=3,lx=2,ax=1,rx=10,ux=-2,u0=a=>a==="*";function hx(a,e){let s=a.split("/"),l=s.length;return s.some(u0)&&(l+=ux),e&&(l+=lx),s.filter(u=>!u0(u)).reduce((u,c)=>u+(sx.test(c)?nx:c===""?ax:rx),l)}function cx(a,e){return a.length===e.length&&a.slice(0,-1).every((l,u)=>l===e[u])?a[a.length-1]-e[e.length-1]:0}function ox(a,e,s=!1){let{routesMeta:l}=a,u={},c="/",f=[];for(let m=0;m<l.length;++m){let p=l[m],d=m===l.length-1,x=c==="/"?e:e.slice(c.length)||"/",y=fr({path:p.relativePath,caseSensitive:p.caseSensitive,end:d},x),S=p.route;if(!y&&d&&s&&!l[l.length-1].route.index&&(y=fr({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},x)),!y)return null;Object.assign(u,y.params),f.push({params:u,pathname:vi([c,y.pathname]),pathnameBase:vx(vi([c,y.pathnameBase])),route:S}),y.pathnameBase!=="/"&&(c=vi([c,y.pathnameBase]))}return f}function fr(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[s,l]=fx(a.path,a.caseSensitive,a.end),u=e.match(s);if(!u)return null;let c=u[0],f=c.replace(/(.)\/+$/,"$1"),m=u.slice(1);return{params:l.reduce((d,{paramName:x,isOptional:y},S)=>{if(x==="*"){let w=m[S]||"";f=c.slice(0,c.length-w.length).replace(/(.)\/+$/,"$1")}const _=m[S];return y&&!_?d[x]=void 0:d[x]=(_||"").replace(/%2F/g,"/"),d},{}),pathname:c,pathnameBase:f,pattern:a}}function fx(a,e=!1,s=!0){Te(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let l=[],u="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(l.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(l.push({paramName:"*"}),u+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?u+="\\/*$":a!==""&&a!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,e?void 0:"i"),l]}function dx(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Te(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function yi(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,l=a.charAt(s);return l&&l!=="/"?null:a.slice(s)||"/"}var _p=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mx=a=>_p.test(a);function px(a,e="/"){let{pathname:s,search:l="",hash:u=""}=typeof a=="string"?vn(a):a,c;if(s)if(mx(s))c=s;else{if(s.includes("//")){let f=s;s=s.replace(/\/\/+/g,"/"),Te(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${s}`)}s.startsWith("/")?c=h0(s.substring(1),"/"):c=h0(s,e)}else c=e;return{pathname:c,search:yx(l),hash:xx(u)}}function h0(a,e){let s=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(u=>{u===".."?s.length>1&&s.pop():u!=="."&&s.push(u)}),s.length>1?s.join("/"):"/"}function $h(a,e,s,l){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gx(a){return a.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function Tc(a){let e=gx(a);return e.map((s,l)=>l===e.length-1?s.pathname:s.pathnameBase)}function zc(a,e,s,l=!1){let u;typeof a=="string"?u=vn(a):(u={...a},Ut(!u.pathname||!u.pathname.includes("?"),$h("?","pathname","search",u)),Ut(!u.pathname||!u.pathname.includes("#"),$h("#","pathname","hash",u)),Ut(!u.search||!u.search.includes("#"),$h("#","search","hash",u)));let c=a===""||u.pathname==="",f=c?"/":u.pathname,m;if(f==null)m=s;else{let y=e.length-1;if(!l&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),y-=1;u.pathname=S.join("/")}m=y>=0?e[y]:"/"}let p=px(u,m),d=f&&f!=="/"&&f.endsWith("/"),x=(c||f===".")&&s.endsWith("/");return!p.pathname.endsWith("/")&&(d||x)&&(p.pathname+="/"),p}var vi=a=>a.join("/").replace(/\/\/+/g,"/"),vx=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),yx=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,xx=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a,bx=class{constructor(a,e,s,l=!1){this.status=a,this.statusText=e||"",this.internal=l,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function Sx(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}function wx(a){return a.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Np=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ep(a,e){let s=a;if(typeof s!="string"||!_p.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let l=s,u=!1;if(Np)try{let c=new URL(window.location.href),f=s.startsWith("//")?new URL(c.protocol+s):new URL(s),m=yi(f.pathname,e);f.origin===c.origin&&m!=null?s=m+f.search+f.hash:u=!0}catch{Te(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:l,isExternal:u,to:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var jp=["POST","PUT","PATCH","DELETE"];new Set(jp);var Mx=["GET",...jp];new Set(Mx);var yn=j.createContext(null);yn.displayName="DataRouter";var gr=j.createContext(null);gr.displayName="DataRouterState";var _x=j.createContext(!1),Cp=j.createContext({isTransitioning:!1});Cp.displayName="ViewTransition";var Nx=j.createContext(new Map);Nx.displayName="Fetchers";var Ex=j.createContext(null);Ex.displayName="Await";var ze=j.createContext(null);ze.displayName="Navigation";var Tl=j.createContext(null);Tl.displayName="Location";var Qe=j.createContext({outlet:null,matches:[],isDataRoute:!1});Qe.displayName="Route";var Rc=j.createContext(null);Rc.displayName="RouteError";var Tp="REACT_ROUTER_ERROR",jx="REDIRECT",Cx="ROUTE_ERROR_RESPONSE";function Tx(a){if(a.startsWith(`${Tp}:${jx}:{`))try{let e=JSON.parse(a.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function zx(a){if(a.startsWith(`${Tp}:${Cx}:{`))try{let e=JSON.parse(a.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new bx(e.status,e.statusText,e.data)}catch{}}function Rx(a,{relative:e}={}){Ut(xn(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:l}=j.useContext(ze),{hash:u,pathname:c,search:f}=zl(a,{relative:e}),m=c;return s!=="/"&&(m=c==="/"?s:vi([s,c])),l.createHref({pathname:m,search:f,hash:u})}function xn(){return j.useContext(Tl)!=null}function xi(){return Ut(xn(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Tl).location}var zp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Rp(a){j.useContext(ze).static||j.useLayoutEffect(a)}function Ac(){let{isDataRoute:a}=j.useContext(Qe);return a?Xx():Ax()}function Ax(){Ut(xn(),"useNavigate() may be used only in the context of a <Router> component.");let a=j.useContext(yn),{basename:e,navigator:s}=j.useContext(ze),{matches:l}=j.useContext(Qe),{pathname:u}=xi(),c=JSON.stringify(Tc(l)),f=j.useRef(!1);return Rp(()=>{f.current=!0}),j.useCallback((p,d={})=>{if(Te(f.current,zp),!f.current)return;if(typeof p=="number"){s.go(p);return}let x=zc(p,JSON.parse(c),u,d.relative==="path");a==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:vi([e,x.pathname])),(d.replace?s.replace:s.push)(x,d.state,d)},[e,s,c,u,a])}j.createContext(null);function Ap(){let{matches:a}=j.useContext(Qe),e=a[a.length-1];return e?e.params:{}}function zl(a,{relative:e}={}){let{matches:s}=j.useContext(Qe),{pathname:l}=xi(),u=JSON.stringify(Tc(s));return j.useMemo(()=>zc(a,JSON.parse(u),l,e==="path"),[a,u,l,e])}function Dx(a,e){return Dp(a,e)}function Dp(a,e,s,l,u){Ut(xn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=j.useContext(ze),{matches:f}=j.useContext(Qe),m=f[f.length-1],p=m?m.params:{},d=m?m.pathname:"/",x=m?m.pathnameBase:"/",y=m&&m.route;{let V=y&&y.path||"";Lp(d,!y||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let S=xi(),_;if(e){let V=typeof e=="string"?vn(e):e;Ut(x==="/"||V.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${V.pathname}" was given in the \`location\` prop.`),_=V}else _=S;let w=_.pathname||"/",A=w;if(x!=="/"){let V=x.replace(/^\//,"").split("/");A="/"+w.replace(/^\//,"").split("/").slice(V.length).join("/")}let L=Sp(a,{pathname:A});Te(y||L!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Te(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=Hx(L&&L.map(V=>Object.assign({},V,{params:Object.assign({},p,V.params),pathname:vi([x,c.encodeLocation?c.encodeLocation(V.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?x:vi([x,c.encodeLocation?c.encodeLocation(V.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:V.pathnameBase])})),f,s,l,u);return e&&D?j.createElement(Tl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},D):D}function Ox(){let a=Gx(),e=Sx(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),s=a instanceof Error?a.stack:null,l="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:l},c={padding:"2px 4px",backgroundColor:l},f=null;return console.error("Error handled by React Router default ErrorBoundary:",a),f=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:c},"ErrorBoundary")," or"," ",j.createElement("code",{style:c},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),s?j.createElement("pre",{style:u},s):null,f)}var Lx=j.createElement(Ox,null),Op=class extends j.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){this.props.onError?this.props.onError(a,e):console.error("React Router caught the following error during render",a)}render(){let a=this.state.error;if(this.context&&typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){const s=zx(a.digest);s&&(a=s)}let e=a!==void 0?j.createElement(Qe.Provider,{value:this.props.routeContext},j.createElement(Rc.Provider,{value:a,children:this.props.component})):this.props.children;return this.context?j.createElement(Ux,{error:a},e):e}};Op.contextType=_x;var Fh=new WeakMap;function Ux({children:a,error:e}){let{basename:s}=j.useContext(ze);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let l=Tx(e.digest);if(l){let u=Fh.get(e);if(u)throw u;let c=Ep(l.location,s);if(Np&&!Fh.get(e))if(c.isExternal||l.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:l.replace}));throw Fh.set(e,f),f}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return a}function Bx({routeContext:a,match:e,children:s}){let l=j.useContext(yn);return l&&l.static&&l.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Qe.Provider,{value:a},s)}function Hx(a,e=[],s=null,l=null,u=null){if(a==null){if(!s)return null;if(s.errors)a=s.matches;else if(e.length===0&&!s.initialized&&s.matches.length>0)a=s.matches;else return null}let c=a,f=s?.errors;if(f!=null){let x=c.findIndex(y=>y.route.id&&f?.[y.route.id]!==void 0);Ut(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,x+1))}let m=!1,p=-1;if(s)for(let x=0;x<c.length;x++){let y=c[x];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=x),y.route.id){let{loaderData:S,errors:_}=s,w=y.route.loader&&!S.hasOwnProperty(y.route.id)&&(!_||_[y.route.id]===void 0);if(y.route.lazy||w){m=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}let d=s&&l?(x,y)=>{l(x,{location:s.location,params:s.matches?.[0]?.params??{},unstable_pattern:wx(s.matches),errorInfo:y})}:void 0;return c.reduceRight((x,y,S)=>{let _,w=!1,A=null,L=null;s&&(_=f&&y.route.id?f[y.route.id]:void 0,A=y.route.errorElement||Lx,m&&(p<0&&S===0?(Lp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,L=null):p===S&&(w=!0,L=y.route.hydrateFallbackElement||null)));let D=e.concat(c.slice(0,S+1)),V=()=>{let K;return _?K=A:w?K=L:y.route.Component?K=j.createElement(y.route.Component,null):y.route.element?K=y.route.element:K=x,j.createElement(Bx,{match:y,routeContext:{outlet:x,matches:D,isDataRoute:s!=null},children:K})};return s&&(y.route.ErrorBoundary||y.route.errorElement||S===0)?j.createElement(Op,{location:s.location,revalidation:s.revalidation,component:A,error:_,children:V(),routeContext:{outlet:null,matches:D,isDataRoute:!0},onError:d}):V()},null)}function Dc(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yx(a){let e=j.useContext(yn);return Ut(e,Dc(a)),e}function Vx(a){let e=j.useContext(gr);return Ut(e,Dc(a)),e}function qx(a){let e=j.useContext(Qe);return Ut(e,Dc(a)),e}function Oc(a){let e=qx(a),s=e.matches[e.matches.length-1];return Ut(s.route.id,`${a} can only be used on routes that contain a unique "id"`),s.route.id}function kx(){return Oc("useRouteId")}function Gx(){let a=j.useContext(Rc),e=Vx("useRouteError"),s=Oc("useRouteError");return a!==void 0?a:e.errors?.[s]}function Xx(){let{router:a}=Yx("useNavigate"),e=Oc("useNavigate"),s=j.useRef(!1);return Rp(()=>{s.current=!0}),j.useCallback(async(u,c={})=>{Te(s.current,zp),s.current&&(typeof u=="number"?await a.navigate(u):await a.navigate(u,{fromRouteId:e,...c}))},[a,e])}var c0={};function Lp(a,e,s){!e&&!c0[a]&&(c0[a]=!0,Te(!1,s))}j.memo(Qx);function Qx({routes:a,future:e,state:s,onError:l}){return Dp(a,void 0,s,l,e)}function an({to:a,replace:e,state:s,relative:l}){Ut(xn(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=j.useContext(ze);Te(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=j.useContext(Qe),{pathname:f}=xi(),m=Ac(),p=zc(a,Tc(c),f,l==="path"),d=JSON.stringify(p);return j.useEffect(()=>{m(JSON.parse(d),{replace:e,state:s,relative:l})},[m,d,l,e,s]),null}function ge(a){Ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Kx({basename:a="/",children:e=null,location:s,navigationType:l="POP",navigator:u,static:c=!1,unstable_useTransitions:f}){Ut(!xn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=a.replace(/^\/*/,"/"),p=j.useMemo(()=>({basename:m,navigator:u,static:c,unstable_useTransitions:f,future:{}}),[m,u,c,f]);typeof s=="string"&&(s=vn(s));let{pathname:d="/",search:x="",hash:y="",state:S=null,key:_="default"}=s,w=j.useMemo(()=>{let A=yi(d,m);return A==null?null:{location:{pathname:A,search:x,hash:y,state:S,key:_},navigationType:l}},[m,d,x,y,S,_,l]);return Te(w!=null,`<Router basename="${m}"> is not able to match the URL "${d}${x}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:j.createElement(ze.Provider,{value:p},j.createElement(Tl.Provider,{children:e,value:w}))}function Jx({children:a,location:e}){return Dx(wc(a),e)}function wc(a,e=[]){let s=[];return j.Children.forEach(a,(l,u)=>{if(!j.isValidElement(l))return;let c=[...e,u];if(l.type===j.Fragment){s.push.apply(s,wc(l.props.children,c));return}Ut(l.type===ge,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ut(!l.props.index||!l.props.children,"An index route cannot have child routes.");let f={id:l.props.id||c.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(f.children=wc(l.props.children,c)),s.push(f)}),s}var rr="get",ur="application/x-www-form-urlencoded";function vr(a){return typeof HTMLElement<"u"&&a instanceof HTMLElement}function Zx(a){return vr(a)&&a.tagName.toLowerCase()==="button"}function $x(a){return vr(a)&&a.tagName.toLowerCase()==="form"}function Fx(a){return vr(a)&&a.tagName.toLowerCase()==="input"}function Px(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function Wx(a,e){return a.button===0&&(!e||e==="_self")&&!Px(a)}function Mc(a=""){return new URLSearchParams(typeof a=="string"||Array.isArray(a)||a instanceof URLSearchParams?a:Object.keys(a).reduce((e,s)=>{let l=a[s];return e.concat(Array.isArray(l)?l.map(u=>[s,u]):[[s,l]])},[]))}function Ix(a,e){let s=Mc(a);return e&&e.forEach((l,u)=>{s.has(u)||e.getAll(u).forEach(c=>{s.append(u,c)})}),s}var Pa=null;function tb(){if(Pa===null)try{new FormData(document.createElement("form"),0),Pa=!1}catch{Pa=!0}return Pa}var eb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ph(a){return a!=null&&!eb.has(a)?(Te(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ur}"`),null):a}function ib(a,e){let s,l,u,c,f;if($x(a)){let m=a.getAttribute("action");l=m?yi(m,e):null,s=a.getAttribute("method")||rr,u=Ph(a.getAttribute("enctype"))||ur,c=new FormData(a)}else if(Zx(a)||Fx(a)&&(a.type==="submit"||a.type==="image")){let m=a.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=a.getAttribute("formaction")||m.getAttribute("action");if(l=p?yi(p,e):null,s=a.getAttribute("formmethod")||m.getAttribute("method")||rr,u=Ph(a.getAttribute("formenctype"))||Ph(m.getAttribute("enctype"))||ur,c=new FormData(m,a),!tb()){let{name:d,type:x,value:y}=a;if(x==="image"){let S=d?`${d}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else d&&c.append(d,y)}}else{if(vr(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=rr,l=null,u=ur,f=a}return c&&u==="text/plain"&&(f=c,c=void 0),{action:l,method:s.toLowerCase(),encType:u,formData:c,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Lc(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function sb(a,e,s){let l=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return l.pathname==="/"?l.pathname=`_root.${s}`:e&&yi(l.pathname,e)==="/"?l.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${s}`,l}async function nb(a,e){if(a.id in e)return e[a.id];try{let s=await import(a.module);return e[a.id]=s,s}catch(s){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lb(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function ab(a,e,s){let l=await Promise.all(a.map(async u=>{let c=e.routes[u.route.id];if(c){let f=await nb(c,s);return f.links?f.links():[]}return[]}));return cb(l.flat(1).filter(lb).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function o0(a,e,s,l,u,c){let f=(p,d)=>s[d]?p.route.id!==s[d].route.id:!0,m=(p,d)=>s[d].pathname!==p.pathname||s[d].route.path?.endsWith("*")&&s[d].params["*"]!==p.params["*"];return c==="assets"?e.filter((p,d)=>f(p,d)||m(p,d)):c==="data"?e.filter((p,d)=>{let x=l.routes[p.route.id];if(!x||!x.hasLoader)return!1;if(f(p,d)||m(p,d))return!0;if(p.route.shouldRevalidate){let y=p.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function rb(a,e,{includeHydrateFallback:s}={}){return ub(a.map(l=>{let u=e.routes[l.route.id];if(!u)return[];let c=[u.module];return u.clientActionModule&&(c=c.concat(u.clientActionModule)),u.clientLoaderModule&&(c=c.concat(u.clientLoaderModule)),s&&u.hydrateFallbackModule&&(c=c.concat(u.hydrateFallbackModule)),u.imports&&(c=c.concat(u.imports)),c}).flat(1))}function ub(a){return[...new Set(a)]}function hb(a){let e={},s=Object.keys(a).sort();for(let l of s)e[l]=a[l];return e}function cb(a,e){let s=new Set;return new Set(e),a.reduce((l,u)=>{let c=JSON.stringify(hb(u));return s.has(c)||(s.add(c),l.push({key:c,link:u})),l},[])}function Up(){let a=j.useContext(yn);return Lc(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function ob(){let a=j.useContext(gr);return Lc(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Uc=j.createContext(void 0);Uc.displayName="FrameworkContext";function Bp(){let a=j.useContext(Uc);return Lc(a,"You must render this element inside a <HydratedRouter> element"),a}function fb(a,e){let s=j.useContext(Uc),[l,u]=j.useState(!1),[c,f]=j.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:d,onMouseLeave:x,onTouchStart:y}=e,S=j.useRef(null);j.useEffect(()=>{if(a==="render"&&f(!0),a==="viewport"){let A=D=>{D.forEach(V=>{f(V.isIntersecting)})},L=new IntersectionObserver(A,{threshold:.5});return S.current&&L.observe(S.current),()=>{L.disconnect()}}},[a]),j.useEffect(()=>{if(l){let A=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(A)}}},[l]);let _=()=>{u(!0)},w=()=>{u(!1),f(!1)};return s?a!=="intent"?[c,S,{}]:[c,S,{onFocus:gl(m,_),onBlur:gl(p,w),onMouseEnter:gl(d,_),onMouseLeave:gl(x,w),onTouchStart:gl(y,_)}]:[!1,S,{}]}function gl(a,e){return s=>{a&&a(s),s.defaultPrevented||e(s)}}function db({page:a,...e}){let{router:s}=Up(),l=j.useMemo(()=>Sp(s.routes,a,s.basename),[s.routes,a,s.basename]);return l?j.createElement(pb,{page:a,matches:l,...e}):null}function mb(a){let{manifest:e,routeModules:s}=Bp(),[l,u]=j.useState([]);return j.useEffect(()=>{let c=!1;return ab(a,e,s).then(f=>{c||u(f)}),()=>{c=!0}},[a,e,s]),l}function pb({page:a,matches:e,...s}){let l=xi(),{manifest:u,routeModules:c}=Bp(),{basename:f}=Up(),{loaderData:m,matches:p}=ob(),d=j.useMemo(()=>o0(a,e,p,u,l,"data"),[a,e,p,u,l]),x=j.useMemo(()=>o0(a,e,p,u,l,"assets"),[a,e,p,u,l]),y=j.useMemo(()=>{if(a===l.pathname+l.search+l.hash)return[];let w=new Set,A=!1;if(e.forEach(D=>{let V=u.routes[D.route.id];!V||!V.hasLoader||(!d.some(K=>K.route.id===D.route.id)&&D.route.id in m&&c[D.route.id]?.shouldRevalidate||V.hasClientLoader?A=!0:w.add(D.route.id))}),w.size===0)return[];let L=sb(a,f,"data");return A&&w.size>0&&L.searchParams.set("_routes",e.filter(D=>w.has(D.route.id)).map(D=>D.route.id).join(",")),[L.pathname+L.search]},[f,m,l,u,d,e,a,c]),S=j.useMemo(()=>rb(x,u),[x,u]),_=mb(x);return j.createElement(j.Fragment,null,y.map(w=>j.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...s})),S.map(w=>j.createElement("link",{key:w,rel:"modulepreload",href:w,...s})),_.map(({key:w,link:A})=>j.createElement("link",{key:w,nonce:s.nonce,...A})))}function gb(...a){return e=>{a.forEach(s=>{typeof s=="function"?s(e):s!=null&&(s.current=e)})}}var vb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vb&&(window.__reactRouterVersion="7.11.0")}catch{}function yb({basename:a,children:e,unstable_useTransitions:s,window:l}){let u=j.useRef();u.current==null&&(u.current=Py({window:l,v5Compat:!0}));let c=u.current,[f,m]=j.useState({action:c.action,location:c.location}),p=j.useCallback(d=>{s===!1?m(d):j.startTransition(()=>m(d))},[s]);return j.useLayoutEffect(()=>c.listen(p),[c,p]),j.createElement(Kx,{basename:a,children:e,location:f.location,navigationType:f.action,navigator:c,unstable_useTransitions:s})}var Hp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bn=j.forwardRef(function({onClick:e,discover:s="render",prefetch:l="none",relative:u,reloadDocument:c,replace:f,state:m,target:p,to:d,preventScrollReset:x,viewTransition:y,unstable_defaultShouldRevalidate:S,..._},w){let{basename:A,unstable_useTransitions:L}=j.useContext(ze),D=typeof d=="string"&&Hp.test(d),V=Ep(d,A);d=V.to;let K=Rx(d,{relative:u}),[Z,tt,F]=fb(l,_),P=Sb(d,{replace:f,state:m,target:p,preventScrollReset:x,relative:u,viewTransition:y,unstable_defaultShouldRevalidate:S,unstable_useTransitions:L});function G(nt){e&&e(nt),nt.defaultPrevented||P(nt)}let st=j.createElement("a",{..._,...F,href:V.absoluteURL||K,onClick:V.isExternal||c?e:G,ref:gb(w,tt),target:p,"data-discover":!D&&s==="render"?"true":void 0});return Z&&!D?j.createElement(j.Fragment,null,st,j.createElement(db,{page:K})):st});bn.displayName="Link";var yl=j.forwardRef(function({"aria-current":e="page",caseSensitive:s=!1,className:l="",end:u=!1,style:c,to:f,viewTransition:m,children:p,...d},x){let y=zl(f,{relative:d.relative}),S=xi(),_=j.useContext(gr),{navigator:w,basename:A}=j.useContext(ze),L=_!=null&&Eb(y)&&m===!0,D=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,V=S.pathname,K=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;s||(V=V.toLowerCase(),K=K?K.toLowerCase():null,D=D.toLowerCase()),K&&A&&(K=yi(K,A)||K);const Z=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let tt=V===D||!u&&V.startsWith(D)&&V.charAt(Z)==="/",F=K!=null&&(K===D||!u&&K.startsWith(D)&&K.charAt(D.length)==="/"),P={isActive:tt,isPending:F,isTransitioning:L},G=tt?e:void 0,st;typeof l=="function"?st=l(P):st=[l,tt?"active":null,F?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let nt=typeof c=="function"?c(P):c;return j.createElement(bn,{...d,"aria-current":G,className:st,ref:x,style:nt,to:f,viewTransition:m},typeof p=="function"?p(P):p)});yl.displayName="NavLink";var xb=j.forwardRef(({discover:a="render",fetcherKey:e,navigate:s,reloadDocument:l,replace:u,state:c,method:f=rr,action:m,onSubmit:p,relative:d,preventScrollReset:x,viewTransition:y,unstable_defaultShouldRevalidate:S,..._},w)=>{let{unstable_useTransitions:A}=j.useContext(ze),L=_b(),D=Nb(m,{relative:d}),V=f.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&Hp.test(m),Z=tt=>{if(p&&p(tt),tt.defaultPrevented)return;tt.preventDefault();let F=tt.nativeEvent.submitter,P=F?.getAttribute("formmethod")||f,G=()=>L(F||tt.currentTarget,{fetcherKey:e,method:P,navigate:s,replace:u,state:c,relative:d,preventScrollReset:x,viewTransition:y,unstable_defaultShouldRevalidate:S});A&&s!==!1?j.startTransition(()=>G()):G()};return j.createElement("form",{ref:w,method:V,action:D,onSubmit:l?p:Z,..._,"data-discover":!K&&a==="render"?"true":void 0})});xb.displayName="Form";function bb(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yp(a){let e=j.useContext(yn);return Ut(e,bb(a)),e}function Sb(a,{target:e,replace:s,state:l,preventScrollReset:u,relative:c,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let d=Ac(),x=xi(),y=zl(a,{relative:c});return j.useCallback(S=>{if(Wx(S,e)){S.preventDefault();let _=s!==void 0?s:Ml(x)===Ml(y),w=()=>d(a,{replace:_,state:l,preventScrollReset:u,relative:c,viewTransition:f,unstable_defaultShouldRevalidate:m});p?j.startTransition(()=>w()):w()}},[x,d,y,s,l,e,a,u,c,f,m,p])}function Bc(a){Te(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=j.useRef(Mc(a)),s=j.useRef(!1),l=xi(),u=j.useMemo(()=>Ix(l.search,s.current?null:e.current),[l.search]),c=Ac(),f=j.useCallback((m,p)=>{const d=Mc(typeof m=="function"?m(new URLSearchParams(u)):m);s.current=!0,c("?"+d,p)},[c,u]);return[u,f]}var wb=0,Mb=()=>`__${String(++wb)}__`;function _b(){let{router:a}=Yp("useSubmit"),{basename:e}=j.useContext(ze),s=kx(),l=a.fetch,u=a.navigate;return j.useCallback(async(c,f={})=>{let{action:m,method:p,encType:d,formData:x,body:y}=ib(c,e);if(f.navigate===!1){let S=f.fetcherKey||Mb();await l(S,s,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:x,body:y,formMethod:f.method||p,formEncType:f.encType||d,flushSync:f.flushSync})}else await u(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:x,body:y,formMethod:f.method||p,formEncType:f.encType||d,replace:f.replace,state:f.state,fromRouteId:s,flushSync:f.flushSync,viewTransition:f.viewTransition})},[l,u,e,s])}function Nb(a,{relative:e}={}){let{basename:s}=j.useContext(ze),l=j.useContext(Qe);Ut(l,"useFormAction must be used inside a RouteContext");let[u]=l.matches.slice(-1),c={...zl(a||".",{relative:e})},f=xi();if(a==null){c.search=f.search;let m=new URLSearchParams(c.search),p=m.getAll("index");if(p.some(x=>x==="")){m.delete("index"),p.filter(y=>y).forEach(y=>m.append("index",y));let x=m.toString();c.search=x?`?${x}`:""}}return(!a||a===".")&&u.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(c.pathname=c.pathname==="/"?s:vi([s,c.pathname])),Ml(c)}function Eb(a,{relative:e}={}){let s=j.useContext(Cp);Ut(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=Yp("useViewTransitionState"),u=zl(a,{relative:e});if(!s.isTransitioning)return!1;let c=yi(s.currentLocation.pathname,l)||s.currentLocation.pathname,f=yi(s.nextLocation.pathname,l)||s.nextLocation.pathname;return fr(u.pathname,f)!=null||fr(u.pathname,c)!=null}const f0=a=>{let e;const s=new Set,l=(d,x)=>{const y=typeof d=="function"?d(e):d;if(!Object.is(y,e)){const S=e;e=x??(typeof y!="object"||y===null)?y:Object.assign({},e,y),s.forEach(_=>_(e,S))}},u=()=>e,m={setState:l,getState:u,getInitialState:()=>p,subscribe:d=>(s.add(d),()=>s.delete(d))},p=e=a(l,u,m);return m},jb=(a=>a?f0(a):f0),Cb=a=>a;function Tb(a,e=Cb){const s=Fa.useSyncExternalStore(a.subscribe,Fa.useCallback(()=>e(a.getState()),[a,e]),Fa.useCallback(()=>e(a.getInitialState()),[a,e]));return Fa.useDebugValue(s),s}const d0=a=>{const e=jb(a),s=l=>Tb(e,l);return Object.assign(s,e),s},zb=(a=>a?d0(a):d0),yr=zb((a,e)=>({activeStrategies:[],summaryStats:null,selectedNewsId:null,setActiveStrategies:s=>a({activeStrategies:s}),setSummaryStats:s=>a({summaryStats:s}),setSelectedNewsId:s=>a({selectedNewsId:s}),getActiveStrategiesArray:()=>e().activeStrategies,getActiveCount:()=>e().activeStrategies.length}));function _l(a){if(!a)return"never";const e=Date.now(),s=new Date(a).getTime(),l=e-s;if(l<0)return"just now";const u=Math.floor(l/1e3);if(u<60)return`${u}s ago`;const c=Math.floor(u/60);if(c<60)return`${c}m ago`;const f=Math.floor(c/60);return f<24?`${f}h ago`:`${Math.floor(f/24)}d ago`}function Rb(a){if(a<=0)return"0:00";const e=Math.floor(a/60),s=a%60;return`${e}:${s.toString().padStart(2,"0")}`}function se(a,e=!1){const s=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(Math.abs(a));return e&&a!==0?a>0?`+${s}`:`-${s}`:a<0?`-${s}`:s}function on(a,e=!1){const s=`${Math.abs(a).toFixed(2)}%`;return e&&a!==0?a>0?`+${s}`:`-${s}`:a<0?`-${s}`:s}function hr(a){return new Date(a).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}function Hc(a){return new Date(a).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}function Ab(a){return a>0?"text-green-400":a<0?"text-red-400":"text-gray-400"}function Db(a){switch(a){case"processing":case"pending_entry":return"text-yellow-400";case"triggered":case"in_position":case"active":return"text-green-400";case"skipped":case"cancelled":return"text-gray-500";case"pending_exit":case"pending_close":return"text-orange-400";case"completed":return"text-blue-400";default:return"text-gray-400"}}function Ob(a){switch(a){case"processing":return"border-yellow-500/50";case"triggered":return"border-green-500/50";case"skipped":return"border-slate-600";default:return"border-slate-600"}}function Vp(a){switch(a){case"processing":case"pending":return"";case"triggered":case"complete":case"completed":return"";case"active":case"in_position":return"";case"skipped":return"";case"pending_exit":case"pending_close":return"";case"error":return"";default:return""}}function Yc(a,e){return a.length<=e?a:a.slice(0,e-3)+"..."}const Lb="",Ub="pako-trader-2024";async function Re(a,e={}){const s=`${Lb}${a}`,l={"Content-Type":"application/json","X-API-Key":Ub,...e.headers},u=await fetch(s,{...e,headers:l});if(!u.ok){const c=await u.text();throw new Error(`API Error ${u.status}: ${c}`)}return u.json()}async function Bb(){return Re("/health")}async function Hb(a){const e=new URLSearchParams;e.set("limit",String(a.limit)),a?.triggered_only&&e.set("triggered_only","true"),a?.from_date&&e.set("from_date",a.from_date),a?.to_date&&e.set("to_date",a.to_date),a?.symbol&&e.set("symbol",a.symbol);const s=e.toString();return Re(`/news${s?`?${s}`:""}`)}async function Yb(a){const e=new URLSearchParams;e.set("limit",String(a.limit)),a?.from_date&&e.set("from_date",a.from_date),a?.to_date&&e.set("to_date",a.to_date),a?.ticker&&e.set("ticker",a.ticker);const s=e.toString();return Re(`/trades${s?`?${s}`:""}`)}async function Vb(a){return Re(`/news/detail/${a}`)}async function qb(a){return Re(`/news/${a}/strategies`)}async function qp(a){return Re(`/news/${a}/events`)}async function kb(){return Re("/strategies/active")}async function Gb(a){return Re(`/strategies/${a}/exit`,{method:"POST"})}async function Xb(a,e){const s=new URLSearchParams({minutes:String(e)});return Re(`/strategies/${a}/extend?${s}`,{method:"POST"})}async function Qb(a){return Re(`/strategies/${a}/cancel`,{method:"POST"})}async function kp(a){const e=new URLSearchParams;a&&e.set("days",String(a));const s=e.toString();return Re(`/stats/summary${s?`?${s}`:""}`)}async function Kb(a){return Re(`/strategies/${a}`)}async function Gp(a,e,s,l="1",u="second"){const c=new URLSearchParams({from_ts:String(e),to_ts:String(s),timeframe:l,timespan:u});return Re(`/market/bars/${a}?${c}`)}function Jb(){const{getActiveStrategiesArray:a}=yr(),e=a(),[,s]=j.useState(0);return j.useEffect(()=>{const l=setInterval(()=>s(u=>u+1),1e3);return()=>clearInterval(l)},[]),e.length===0?g.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[g.jsx("div",{className:"text-4xl mb-4",children:""}),g.jsx("h2",{className:"text-xl font-bold text-white",children:"No Active Strategies"}),g.jsx("p",{className:"mt-2 text-gray-400",children:"Strategies will appear here when news triggers a trade"})]}):g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("h2",{className:"text-lg font-semibold text-white",children:["Active Strategies (",e.length,")"]}),g.jsx("div",{className:"flex items-center gap-4 text-sm",children:g.jsx(Zb,{strategies:e})})]}),g.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(l=>g.jsx($b,{strategy:l},l.id))})]})}function Zb({strategies:a}){const e=a.reduce((l,u)=>l+(u.unrealized_pnl||0),0),s=e>=0?"text-green-400":"text-red-400";return g.jsxs("span",{children:["Total Unrealized:"," ",g.jsx("strong",{className:s,children:se(e,!0)})]})}function $b({strategy:a}){const[e,s]=j.useState(!1),[l,u]=j.useState(null),c=async()=>{if(confirm("Are you sure you want to exit this position early?")){s(!0),u(null);try{await Gb(a.id)}catch(y){u(y instanceof Error?y.message:"Failed to request exit")}s(!1)}},f=async()=>{s(!0),u(null);try{await Xb(a.id,2)}catch(y){u(y instanceof Error?y.message:"Failed to extend timer")}s(!1)},m=async()=>{if(confirm("Are you sure you want to cancel this order?")){s(!0),u(null);try{await Qb(a.id)}catch(y){u(y instanceof Error?y.message:"Failed to cancel order")}s(!1)}},p=Db(a.status),d=(a.unrealized_pnl||0)>=0?"text-green-400":"text-red-400",x=Fb(a);return g.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-800 p-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-lg font-bold text-blue-400",children:a.ticker}),g.jsx("span",{className:`rounded px-2 py-0.5 text-xs font-medium ${p} bg-slate-700`,children:a.status.replace("_"," ").toUpperCase()})]}),g.jsx("span",{className:"text-sm text-gray-500",children:a.strategy_type||"volume"})]}),g.jsx("p",{className:"mt-2 text-sm text-gray-400",children:Yc(a.headline,80)}),g.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[g.jsxs("div",{children:[g.jsx("span",{className:"text-gray-500",children:"Side:"})," ",g.jsx("span",{className:"text-white",children:a.side.toUpperCase()})]}),g.jsxs("div",{children:[g.jsx("span",{className:"text-gray-500",children:"Size:"})," ",g.jsx("span",{className:"text-white",children:se(a.position_size_usd||0)})]}),g.jsxs("div",{children:[g.jsx("span",{className:"text-gray-500",children:"Entry:"})," ",g.jsxs("span",{className:"text-white",children:["$",a.entry_fill_price?.toFixed(2)||a.entry_limit_price?.toFixed(2)||"-"]})]}),g.jsxs("div",{children:[g.jsx("span",{className:"text-gray-500",children:"Qty:"})," ",g.jsx("span",{className:"text-white",children:a.qty||"-"})]})]}),a.status==="in_position"&&g.jsx("div",{className:"mt-3 border-t border-slate-700 pt-3",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("span",{className:"text-gray-500",children:"Unrealized P&L:"}),g.jsxs("span",{className:`font-semibold ${d}`,children:[se(a.unrealized_pnl||0,!0)," ","(",on(a.unrealized_pnl_percent||0,!0),")"]})]})}),x!==null&&a.status==="in_position"&&g.jsxs("div",{className:"mt-3 flex items-center justify-between text-sm",children:[g.jsx("span",{className:"text-gray-500",children:"Exit in:"}),g.jsx("span",{className:"font-mono text-yellow-400",children:Rb(x)})]}),g.jsxs("div",{className:"mt-4 flex gap-2",children:[a.status==="pending_entry"&&g.jsx("button",{onClick:m,disabled:e,className:"flex-1 rounded bg-red-600/20 px-3 py-1.5 text-sm text-red-400 hover:bg-red-600/30 disabled:opacity-50",children:"Cancel"}),a.status==="in_position"&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:f,disabled:e,className:"flex-1 rounded bg-slate-700 px-3 py-1.5 text-sm hover:bg-slate-600 disabled:opacity-50",children:"+2 min"}),g.jsx("button",{onClick:c,disabled:e,className:"flex-1 rounded bg-red-600/20 px-3 py-1.5 text-sm text-red-400 hover:bg-red-600/30 disabled:opacity-50",children:"Exit Now"})]})]}),l&&g.jsx("p",{className:"mt-2 text-xs text-red-400",children:l}),g.jsxs("div",{className:"mt-3 text-xs text-gray-600",children:["Started ",_l(a.spawned_at)]})]})}function Fb(a){if(!a.entry_filled_at||!a.exit_delay_seconds)return null;const s=new Date(a.entry_filled_at).getTime()+a.exit_delay_seconds*1e3,l=Date.now();return Math.max(0,Math.floor((s-l)/1e3))}function Xp({items:a}){return g.jsx("nav",{className:"flex items-center gap-2 text-sm",children:a.map((e,s)=>g.jsxs("span",{className:"flex items-center gap-2",children:[s>0&&g.jsx("span",{className:"text-gray-600",children:"/"}),e.to?g.jsx(bn,{to:e.to,className:"text-gray-400 hover:text-white transition-colors",children:e.label}):g.jsx("span",{className:"text-white font-medium",children:e.label})]},s))})}function Rt(a){var e=a.width,s=a.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(s<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:s}}function ps(a,e){return a.width===e.width&&a.height===e.height}var Pb=(function(){function a(e){var s=this;this._resolutionListener=function(){return s._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=e,this._installResolutionListener()}return a.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(a.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),a.prototype.subscribe=function(e){var s=this,l={next:e};return this._observers.push(l),{unsubscribe:function(){s._observers=s._observers.filter(function(u){return u!==l})}}},a.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var e=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(e,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},a.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},a.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},a.prototype._onResolutionChanged=function(){var e=this;this._observers.forEach(function(s){return s.next(e._window.devicePixelRatio)}),this._reinstallResolutionListener()},a})();function Wb(a){return new Pb(a)}var Ib=(function(){function a(e,s,l){var u;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=e,this._canvasElementClientSize=Rt({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=s??(function(c){return c}),this._allowResizeObserver=(u=l?.allowResizeObserver)!==null&&u!==void 0?u:!0,this._chooseAndInitObserver()}return a.prototype.dispose=function(){var e,s;if(this._canvasElement===null)throw new Error("Object is disposed");(e=this._canvasElementResizeObserver)===null||e===void 0||e.disconnect(),this._canvasElementResizeObserver=null,(s=this._devicePixelRatioObservable)===null||s===void 0||s.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(a.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"bitmapSize",{get:function(){return Rt({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),a.prototype.resizeCanvasElement=function(e){this._canvasElementClientSize=Rt(e),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},a.prototype.subscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners.push(e)},a.prototype.unsubscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(s){return s!==e})},Object.defineProperty(a.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),a.prototype.subscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners.push(e)},a.prototype.unsubscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(s){return s!==e})},a.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var e=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(e),this._emitSuggestedBitmapSizeChanged(e,this._suggestedBitmapSize)}},a.prototype._resizeBitmap=function(e){var s=this.bitmapSize;ps(s,e)||(this.canvasElement.width=e.width,this.canvasElement.height=e.height,this._emitBitmapSizeChanged(s,e))},a.prototype._emitBitmapSizeChanged=function(e,s){var l=this;this._bitmapSizeChangedListeners.forEach(function(u){return u.call(l,e,s)})},a.prototype._suggestNewBitmapSize=function(e){var s=this._suggestedBitmapSize,l=Rt(this._transformBitmapSize(e,this._canvasElementClientSize)),u=ps(this.bitmapSize,l)?null:l;s===null&&u===null||s!==null&&u!==null&&ps(s,u)||(this._suggestedBitmapSize=u,this._emitSuggestedBitmapSizeChanged(s,u))},a.prototype._emitSuggestedBitmapSizeChanged=function(e,s){var l=this;this._suggestedBitmapSizeChangedListeners.forEach(function(u){return u.call(l,e,s)})},a.prototype._chooseAndInitObserver=function(){var e=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}e1().then(function(s){return s?e._initResizeObserver():e._initDevicePixelRatioObservable()})},a.prototype._initDevicePixelRatioObservable=function(){var e=this;if(this._canvasElement!==null){var s=m0(this._canvasElement);if(s===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=Wb(s),this._devicePixelRatioObservable.subscribe(function(){return e._invalidateBitmapSize()}),this._invalidateBitmapSize()}},a.prototype._invalidateBitmapSize=function(){var e,s;if(this._canvasElement!==null){var l=m0(this._canvasElement);if(l!==null){var u=(s=(e=this._devicePixelRatioObservable)===null||e===void 0?void 0:e.value)!==null&&s!==void 0?s:l.devicePixelRatio,c=this._canvasElement.getClientRects(),f=c[0]!==void 0?i1(c[0],u):Rt({width:this._canvasElementClientSize.width*u,height:this._canvasElementClientSize.height*u});this._suggestNewBitmapSize(f)}}},a.prototype._initResizeObserver=function(){var e=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(s){var l=s.find(function(f){return f.target===e._canvasElement});if(!(!l||!l.devicePixelContentBoxSize||!l.devicePixelContentBoxSize[0])){var u=l.devicePixelContentBoxSize[0],c=Rt({width:u.inlineSize,height:u.blockSize});e._suggestNewBitmapSize(c)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},a})();function t1(a,e){return new Ib(a,e.transform,e.options)}function m0(a){return a.ownerDocument.defaultView}function e1(){return new Promise(function(a){var e=new ResizeObserver(function(s){a(s.every(function(l){return"devicePixelContentBoxSize"in l})),e.disconnect()});e.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function i1(a,e){return Rt({width:Math.round(a.left*e+a.width*e)-Math.round(a.left*e),height:Math.round(a.top*e+a.height*e)-Math.round(a.top*e)})}var s1=(function(){function a(e,s,l){if(s.width===0||s.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=s,l.width===0||l.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=l,this._context=e}return a.prototype.useMediaCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),e({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},a.prototype.useBitmapCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),e({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(a.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),a})();function gs(a,e){var s=a.canvasElementClientSize;if(s.width===0||s.height===0)return null;var l=a.bitmapSize;if(l.width===0||l.height===0)return null;var u=a.canvasElement.getContext("2d",e);return u===null?null:new s1(u,s,l)}const Qp={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var p0,g0;function vs(a,e){const s={0:[],1:[a.lineWidth,a.lineWidth],2:[2*a.lineWidth,2*a.lineWidth],3:[6*a.lineWidth,6*a.lineWidth],4:[a.lineWidth,4*a.lineWidth]}[e];a.setLineDash(s)}function Kp(a,e,s,l){a.beginPath();const u=a.lineWidth%2?.5:0;a.moveTo(s,e+u),a.lineTo(l,e+u),a.stroke()}function ie(a,e){if(!a)throw new Error("Assertion failed"+(e?": "+e:""))}function ve(a){if(a===void 0)throw new Error("Value is undefined");return a}function X(a){if(a===null)throw new Error("Value is null");return a}function Ji(a){return X(ve(a))}(function(a){a[a.Simple=0]="Simple",a[a.WithSteps=1]="WithSteps",a[a.Curved=2]="Curved"})(p0||(p0={})),(function(a){a[a.Solid=0]="Solid",a[a.Dotted=1]="Dotted",a[a.Dashed=2]="Dashed",a[a.LargeDashed=3]="LargeDashed",a[a.SparseDotted=4]="SparseDotted"})(g0||(g0={}));class kt{constructor(){this.t=[]}i(e,s,l){const u={h:e,l:s,o:l===!0};this.t.push(u)}_(e){const s=this.t.findIndex((l=>e===l.h));s>-1&&this.t.splice(s,1)}u(e){this.t=this.t.filter((s=>s.l!==e))}p(e,s,l){const u=[...this.t];this.t=this.t.filter((c=>!c.o)),u.forEach((c=>c.h(e,s,l)))}v(){return this.t.length>0}m(){this.t=[]}}function Ce(a,...e){for(const s of e)for(const l in s)s[l]!==void 0&&Object.prototype.hasOwnProperty.call(s,l)&&!["__proto__","constructor","prototype"].includes(l)&&(typeof s[l]!="object"||a[l]===void 0||Array.isArray(s[l])?a[l]=s[l]:Ce(a[l],s[l]));return a}function ys(a){return typeof a=="number"&&isFinite(a)}function Nl(a){return typeof a=="number"&&a%1==0}function Rl(a){return typeof a=="string"}function Wa(a){return typeof a=="boolean"}function pi(a){const e=a;if(!e||typeof e!="object")return e;let s,l,u;for(l in s=Array.isArray(e)?[]:{},e)e.hasOwnProperty(l)&&(u=e[l],s[l]=u&&typeof u=="object"?pi(u):u);return s}function v0(a){return a!==null}function El(a){return a===null?void 0:a}const Jp="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function jl(a,e,s){return e===void 0&&(e=Jp),`${s=s!==void 0?`${s} `:""}${a}px ${e}`}class n1{constructor(e){this.M={S:1,C:5,k:NaN,P:"",T:"",R:"",D:"",I:0,V:0,B:0,A:0,L:0},this.O=e}N(){const e=this.M,s=this.F(),l=this.W();return e.k===s&&e.T===l||(e.k=s,e.T=l,e.P=jl(s,l),e.A=2.5/12*s,e.I=e.A,e.V=s/12*e.C,e.B=s/12*e.C,e.L=0),e.R=this.H(),e.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}F(){return this.O.N().layout.fontSize}W(){return this.O.N().layout.fontFamily}}function Wh(a){return a<0?0:a>255?255:Math.round(a)||0}function y0(a){return .199*a[0]+.687*a[1]+.114*a[2]}class l1{constructor(e,s){this.q=new Map,this.j=e,s&&(this.q=s)}Y(e,s){if(e==="transparent")return e;const l=this.K(e),u=l[3];return`rgba(${l[0]}, ${l[1]}, ${l[2]}, ${s*u})`}Z(e){const s=this.K(e);return{G:`rgb(${s[0]}, ${s[1]}, ${s[2]})`,X:y0(s)>160?"black":"white"}}J(e){return y0(this.K(e))}tt(e,s,l){const[u,c,f,m]=this.K(e),[p,d,x,y]=this.K(s),S=[Wh(u+l*(p-u)),Wh(c+l*(d-c)),Wh(f+l*(x-f)),(_=m+l*(y-m),_<=0||_>1?Math.min(Math.max(_,0),1):Math.round(1e4*_)/1e4)];var _;return`rgba(${S[0]}, ${S[1]}, ${S[2]}, ${S[3]})`}K(e){const s=this.q.get(e);if(s)return s;const l=(function(f){const m=document.createElement("div");m.style.display="none",document.body.appendChild(m),m.style.color=f;const p=window.getComputedStyle(m).color;return document.body.removeChild(m),p})(e),u=l.match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!u){if(this.j.length)for(const f of this.j){const m=f(e);if(m)return this.q.set(e,m),m}throw new Error(`Failed to parse color: ${e}`)}const c=[parseInt(u[1],10),parseInt(u[2],10),parseInt(u[3],10),u[4]?parseFloat(u[4]):1];return this.q.set(e,c),c}}class a1{constructor(){this.it=[]}st(e){this.it=e}nt(e,s,l){this.it.forEach((u=>{u.nt(e,s,l)}))}}class Zi{nt(e,s,l){e.useBitmapCoordinateSpace((u=>this.et(u,s,l)))}}class r1 extends Zi{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et({context:e,horizontalPixelRatio:s,verticalPixelRatio:l}){if(this.rt===null||this.rt.lt===null)return;const u=this.rt.lt,c=this.rt,f=Math.max(1,Math.floor(s))%2/2,m=p=>{e.beginPath();for(let d=u.to-1;d>=u.from;--d){const x=c.ot[d],y=Math.round(x._t*s)+f,S=x.ut*l,_=p*l+f;e.moveTo(y,S),e.arc(y,S,_,0,2*Math.PI)}e.fill()};c.ct>0&&(e.fillStyle=c.dt,m(c.ft+c.ct)),e.fillStyle=c.vt,m(c.ft)}}function u1(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const h1={from:0,to:1};class c1{constructor(e,s,l){this.Mt=new a1,this.bt=[],this.St=[],this.xt=!0,this.O=e,this.Ct=s,this.yt=l,this.Mt.st(this.bt)}kt(e){this.Pt(),this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Mt}Pt(){const e=this.yt.Dt();e.length!==this.bt.length&&(this.St=e.map(u1),this.bt=this.St.map((s=>{const l=new r1;return l.ht(s),l})),this.Mt.st(this.bt))}Rt(){const e=this.Ct.N().mode===2||!this.Ct.It(),s=this.yt.Vt(),l=this.Ct.Bt(),u=this.O.Et();this.Pt(),s.forEach(((c,f)=>{const m=this.St[f],p=c.At(l),d=c.Lt();!e&&p!==null&&c.It()&&d!==null?(m.vt=p.zt,m.ft=p.ft,m.ct=p.Ot,m.ot[0].gt=p.gt,m.ot[0].ut=c.Ft().Nt(p.gt,d.Wt),m.dt=p.Ht??this.O.Ut(m.ot[0].ut/c.Ft().$t()),m.ot[0].wt=l,m.ot[0]._t=u.qt(l),m.lt=h1):m.lt=null}))}}class o1 extends Zi{constructor(e){super(),this.jt=e}et({context:e,bitmapSize:s,horizontalPixelRatio:l,verticalPixelRatio:u}){if(this.jt===null)return;const c=this.jt.Yt.It,f=this.jt.Kt.It;if(!c&&!f)return;const m=Math.round(this.jt._t*l),p=Math.round(this.jt.ut*u);e.lineCap="butt",c&&m>=0&&(e.lineWidth=Math.floor(this.jt.Yt.ct*l),e.strokeStyle=this.jt.Yt.R,e.fillStyle=this.jt.Yt.R,vs(e,this.jt.Yt.Zt),(function(d,x,y,S){d.beginPath();const _=d.lineWidth%2?.5:0;d.moveTo(x+_,y),d.lineTo(x+_,S),d.stroke()})(e,m,0,s.height)),f&&p>=0&&(e.lineWidth=Math.floor(this.jt.Kt.ct*u),e.strokeStyle=this.jt.Kt.R,e.fillStyle=this.jt.Kt.R,vs(e,this.jt.Kt.Zt),Kp(e,p,0,s.width))}}class f1{constructor(e,s){this.xt=!0,this.Gt={Yt:{ct:1,Zt:0,R:"",It:!1},Kt:{ct:1,Zt:0,R:"",It:!1},_t:0,ut:0},this.Xt=new o1(this.Gt),this.Jt=e,this.yt=s}kt(){this.xt=!0}Tt(e){return this.xt&&(this.Rt(),this.xt=!1),this.Xt}Rt(){const e=this.Jt.It(),s=this.yt.Qt().N().crosshair,l=this.Gt;if(s.mode===2)return l.Kt.It=!1,void(l.Yt.It=!1);l.Kt.It=e&&this.Jt.ti(this.yt),l.Yt.It=e&&this.Jt.ii(),l.Kt.ct=s.horzLine.width,l.Kt.Zt=s.horzLine.style,l.Kt.R=s.horzLine.color,l.Yt.ct=s.vertLine.width,l.Yt.Zt=s.vertLine.style,l.Yt.R=s.vertLine.color,l._t=this.Jt.si(),l.ut=this.Jt.ni()}}function d1(a,e,s,l,u,c){a.fillRect(e+c,s,l-2*c,c),a.fillRect(e+c,s+u-c,l-2*c,c),a.fillRect(e,s,c,u),a.fillRect(e+l-c,s,c,u)}function xr(a,e,s,l,u,c){a.save(),a.globalCompositeOperation="copy",a.fillStyle=c,a.fillRect(e,s,l,u),a.restore()}function x0(a,e,s,l,u,c){a.beginPath(),a.roundRect?a.roundRect(e,s,l,u,c):(a.lineTo(e+l-c[1],s),c[1]!==0&&a.arcTo(e+l,s,e+l,s+c[1],c[1]),a.lineTo(e+l,s+u-c[2]),c[2]!==0&&a.arcTo(e+l,s+u,e+l-c[2],s+u,c[2]),a.lineTo(e+c[3],s+u),c[3]!==0&&a.arcTo(e,s+u,e,s+u-c[3],c[3]),a.lineTo(e,s+c[0]),c[0]!==0&&a.arcTo(e,s,e+c[0],s,c[0]))}function b0(a,e,s,l,u,c,f=0,m=[0,0,0,0],p=""){if(a.save(),!f||!p||p===c)return x0(a,e,s,l,u,m),a.fillStyle=c,a.fill(),void a.restore();const d=f/2;var x;x0(a,e+d,s+d,l-f,u-f,(x=-d,m.map((y=>y===0?y:y+x)))),c!=="transparent"&&(a.fillStyle=c,a.fill()),p!=="transparent"&&(a.lineWidth=f,a.strokeStyle=p,a.closePath(),a.stroke()),a.restore()}function Zp(a,e,s,l,u,c,f){a.save(),a.globalCompositeOperation="copy";const m=a.createLinearGradient(0,0,0,u);m.addColorStop(0,c),m.addColorStop(1,f),a.fillStyle=m,a.fillRect(e,s,l,u),a.restore()}class S0{constructor(e,s){this.ht(e,s)}ht(e,s){this.jt=e,this.ei=s}$t(e,s){return this.jt.It?e.k+e.A+e.I:0}nt(e,s,l,u){if(!this.jt.It||this.jt.ri.length===0)return;const c=this.jt.R,f=this.ei.G,m=e.useBitmapCoordinateSpace((p=>{const d=p.context;d.font=s.P;const x=this.hi(p,s,l,u),y=x.ai;return x.li?b0(d,y.oi,y._i,y.ui,y.ci,f,y.di,[y.ft,0,0,y.ft],f):b0(d,y.fi,y._i,y.ui,y.ci,f,y.di,[0,y.ft,y.ft,0],f),this.jt.pi&&(d.fillStyle=c,d.fillRect(y.fi,y.mi,y.wi-y.fi,y.gi)),this.jt.Mi&&(d.fillStyle=s.D,d.fillRect(x.li?y.bi-y.di:0,y._i,y.di,y.Si-y._i)),x}));e.useMediaCoordinateSpace((({context:p})=>{const d=m.xi;p.font=s.P,p.textAlign=m.li?"right":"left",p.textBaseline="middle",p.fillStyle=c,p.fillText(this.jt.ri,d.Ci,(d._i+d.Si)/2+d.yi)}))}hi(e,s,l,u){const{context:c,bitmapSize:f,mediaSize:m,horizontalPixelRatio:p,verticalPixelRatio:d}=e,x=this.jt.pi||!this.jt.ki?s.C:0,y=this.jt.Pi?s.S:0,S=s.A+this.ei.Ti,_=s.I+this.ei.Ri,w=s.V,A=s.B,L=this.jt.ri,D=s.k,V=l.Di(c,L),K=Math.ceil(l.Ii(c,L)),Z=D+S+_,tt=s.S+w+A+K+x,F=Math.max(1,Math.floor(d));let P=Math.round(Z*d);P%2!=F%2&&(P+=1);const G=y>0?Math.max(1,Math.floor(y*p)):0,st=Math.round(tt*p),nt=Math.round(x*p),ft=this.ei.Vi??this.ei.Bi??this.ei.Ei,Q=Math.round(ft*d)-Math.floor(.5*d),lt=Math.floor(Q+F/2-P/2),At=lt+P,xt=u==="right",B=xt?m.width-y:y,J=xt?f.width-G:G;let it,vt,bt;return xt?(it=J-st,vt=J-nt,bt=B-x-w-y):(it=J+st,vt=J+nt,bt=B+x+w),{li:xt,ai:{_i:lt,mi:Q,Si:At,ui:st,ci:P,ft:2*p,di:G,oi:it,fi:J,wi:vt,gi:F,bi:f.width},xi:{_i:lt/d,Si:At/d,Ci:bt,yi:V}}}}class br{constructor(e){this.Ai={Ei:0,G:"#000",Ri:0,Ti:0},this.Li={ri:"",It:!1,pi:!0,ki:!1,Ht:"",R:"#FFF",Mi:!1,Pi:!1},this.zi={ri:"",It:!1,pi:!1,ki:!0,Ht:"",R:"#FFF",Mi:!0,Pi:!0},this.xt=!0,this.Oi=new(e||S0)(this.Li,this.Ai),this.Ni=new(e||S0)(this.zi,this.Ai)}ri(){return this.Fi(),this.Li.ri}Ei(){return this.Fi(),this.Ai.Ei}kt(){this.xt=!0}$t(e,s=!1){return Math.max(this.Oi.$t(e,s),this.Ni.$t(e,s))}Wi(){return this.Ai.Vi??null}Hi(){return this.Ai.Vi??this.Ai.Bi??this.Ei()}Ui(e){this.Ai.Bi=e??void 0}$i(){return this.Fi(),this.Li.It||this.zi.It}qi(){return this.Fi(),this.Li.It}Tt(e){return this.Fi(),this.Li.pi=this.Li.pi&&e.N().ticksVisible,this.zi.pi=this.zi.pi&&e.N().ticksVisible,this.Oi.ht(this.Li,this.Ai),this.Ni.ht(this.zi,this.Ai),this.Oi}ji(){return this.Fi(),this.Oi.ht(this.Li,this.Ai),this.Ni.ht(this.zi,this.Ai),this.Ni}Fi(){this.xt&&(this.Li.pi=!0,this.zi.pi=!1,this.Yi(this.Li,this.zi,this.Ai))}}class m1 extends br{constructor(e,s,l){super(),this.Jt=e,this.Ki=s,this.Zi=l}Yi(e,s,l){if(e.It=!1,this.Jt.N().mode===2)return;const u=this.Jt.N().horzLine;if(!u.labelVisible)return;const c=this.Ki.Lt();if(!this.Jt.It()||this.Ki.Gi()||c===null)return;const f=this.Ki.Xi().Z(u.labelBackgroundColor);l.G=f.G,e.R=f.X;const m=2/12*this.Ki.k();l.Ti=m,l.Ri=m;const p=this.Zi(this.Ki);l.Ei=p.Ei,e.ri=this.Ki.Ji(p.gt,c),e.It=!0}}const p1=/[1-9]/g;class $p{constructor(){this.jt=null}ht(e){this.jt=e}nt(e,s){if(this.jt===null||this.jt.It===!1||this.jt.ri.length===0)return;const l=e.useMediaCoordinateSpace((({context:S})=>(S.font=s.P,Math.round(s.Qi.Ii(S,X(this.jt).ri,p1)))));if(l<=0)return;const u=s.ts,c=l+2*u,f=c/2,m=this.jt.ss;let p=this.jt.Ei,d=Math.floor(p-f)+.5;d<0?(p+=Math.abs(0-d),d=Math.floor(p-f)+.5):d+c>m&&(p-=Math.abs(m-(d+c)),d=Math.floor(p-f)+.5);const x=d+c,y=Math.ceil(0+s.S+s.C+s.A+s.k+s.I);e.useBitmapCoordinateSpace((({context:S,horizontalPixelRatio:_,verticalPixelRatio:w})=>{const A=X(this.jt);S.fillStyle=A.G;const L=Math.round(d*_),D=Math.round(0*w),V=Math.round(x*_),K=Math.round(y*w),Z=Math.round(2*_);if(S.beginPath(),S.moveTo(L,D),S.lineTo(L,K-Z),S.arcTo(L,K,L+Z,K,Z),S.lineTo(V-Z,K),S.arcTo(V,K,V,K-Z,Z),S.lineTo(V,D),S.fill(),A.pi){const tt=Math.round(A.Ei*_),F=D,P=Math.round((F+s.C)*w);S.fillStyle=A.R;const G=Math.max(1,Math.floor(_)),st=Math.floor(.5*_);S.fillRect(tt-st,F,G,P-F)}})),e.useMediaCoordinateSpace((({context:S})=>{const _=X(this.jt),w=0+s.S+s.C+s.A+s.k/2;S.font=s.P,S.textAlign="left",S.textBaseline="middle",S.fillStyle=_.R;const A=s.Qi.Di(S,"Apr0");S.translate(d+u,w+A),S.fillText(_.ri,0,0)}))}}class g1{constructor(e,s,l){this.xt=!0,this.Xt=new $p,this.Gt={It:!1,G:"#4c525e",R:"white",ri:"",ss:0,Ei:NaN,pi:!0},this.Ct=e,this.ns=s,this.Zi=l}kt(){this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Xt.ht(this.Gt),this.Xt}Rt(){const e=this.Gt;if(e.It=!1,this.Ct.N().mode===2)return;const s=this.Ct.N().vertLine;if(!s.labelVisible)return;const l=this.ns.Et();if(l.Gi())return;e.ss=l.ss();const u=this.Zi();if(u===null)return;e.Ei=u.Ei;const c=l.es(this.Ct.Bt());e.ri=l.rs(X(c)),e.It=!0;const f=this.ns.Xi().Z(s.labelBackgroundColor);e.G=f.G,e.R=f.X,e.pi=l.N().ticksVisible}}class Fp{constructor(){this.hs=null,this.ls=0}_s(){return this.ls}us(e){this.ls=e}Ft(){return this.hs}cs(e){this.hs=e}ds(e){return[]}fs(){return[]}It(){return!0}}var w0;(function(a){a[a.Normal=0]="Normal",a[a.Magnet=1]="Magnet",a[a.Hidden=2]="Hidden",a[a.MagnetOHLC=3]="MagnetOHLC"})(w0||(w0={}));class v1 extends Fp{constructor(e,s){super(),this.yt=null,this.ps=NaN,this.vs=0,this.ws=!1,this.gs=new Map,this.Ms=!1,this.bs=new WeakMap,this.Ss=new WeakMap,this.xs=NaN,this.Cs=NaN,this.ys=NaN,this.ks=NaN,this.ns=e,this.Ps=s,this.Ts=((u,c)=>f=>{const m=c(),p=u();if(f===X(this.yt).Rs())return{gt:p,Ei:m};{const d=X(f.Lt());return{gt:f.Ds(m,d),Ei:m}}})((()=>this.ps),(()=>this.Cs));const l=((u,c)=>()=>{const f=this.ns.Et().Is(u()),m=c();return f&&Number.isFinite(m)?{wt:f,Ei:m}:null})((()=>this.vs),(()=>this.si()));this.Vs=new g1(this,e,l)}N(){return this.Ps}Bs(e,s){this.ys=e,this.ks=s}Es(){this.ys=NaN,this.ks=NaN}As(){return this.ys}Ls(){return this.ks}zs(e,s,l){this.Ms||(this.Ms=!0),this.ws=!0,this.Os(e,s,l)}Bt(){return this.vs}si(){return this.xs}ni(){return this.Cs}It(){return this.ws}Ns(){this.ws=!1,this.Fs(),this.ps=NaN,this.xs=NaN,this.Cs=NaN,this.yt=null,this.Es(),this.Ws()}Hs(e){if(!this.Ps.doNotSnapToHiddenSeriesIndices)return e;const s=this.ns,l=s.Et();let u=null,c=null;for(const d of s.Us()){const x=d.qs().$s(e,-1);if(x){if(x.js===e)return e;(u===null||x.js>u)&&(u=x.js)}const y=d.qs().$s(e,1);if(y){if(y.js===e)return e;(c===null||y.js<c)&&(c=y.js)}}const f=[u,c].filter(v0);if(f.length===0)return e;const m=l.qt(e),p=f.map((d=>Math.abs(m-l.qt(d))));return f[p.indexOf(Math.min(...p))]}Ys(e){let s=this.bs.get(e);s||(s=new f1(this,e),this.bs.set(e,s));let l=this.Ss.get(e);return l||(l=new c1(this.ns,this,e),this.Ss.set(e,l)),[s,l]}ti(e){return e===this.yt&&this.Ps.horzLine.visible}ii(){return this.Ps.vertLine.visible}Ks(e,s){this.ws&&this.yt===e||this.gs.clear();const l=[];return this.yt===e&&l.push(this.Zs(this.gs,s,this.Ts)),l}fs(){return this.ws?[this.Vs]:[]}Gs(){return this.yt}Ws(){this.ns.Xs().forEach((e=>{this.bs.get(e)?.kt(),this.Ss.get(e)?.kt()})),this.gs.forEach((e=>e.kt())),this.Vs.kt()}Js(e){return e&&!e.Rs().Gi()?e.Rs():null}Os(e,s,l){this.Qs(e,s,l)&&this.Ws()}Qs(e,s,l){const u=this.xs,c=this.Cs,f=this.ps,m=this.vs,p=this.yt,d=this.Js(l);this.vs=e,this.xs=isNaN(e)?NaN:this.ns.Et().qt(e),this.yt=l;const x=d!==null?d.Lt():null;return d!==null&&x!==null?(this.ps=s,this.Cs=d.Nt(s,x)):(this.ps=NaN,this.Cs=NaN),u!==this.xs||c!==this.Cs||m!==this.vs||f!==this.ps||p!==this.yt}Fs(){const e=this.ns.tn().map((l=>l.qs().sn())).filter(v0),s=e.length===0?null:Math.max(...e);this.vs=s!==null?s:NaN}Zs(e,s,l){let u=e.get(s);return u===void 0&&(u=new m1(this,s,l),e.set(s,u)),u}}function Sr(a){return a==="left"||a==="right"}class ee{constructor(e){this.nn=new Map,this.en=[],this.rn=e}hn(e,s){const l=(function(u,c){return u===void 0?c:{an:Math.max(u.an,c.an),ln:u.ln||c.ln}})(this.nn.get(e),s);this.nn.set(e,l)}_n(){return this.rn}un(e){const s=this.nn.get(e);return s===void 0?{an:this.rn}:{an:Math.max(this.rn,s.an),ln:s.ln}}cn(){this.dn(),this.en=[{fn:0}]}pn(e){this.dn(),this.en=[{fn:1,Wt:e}]}vn(e){this.mn(),this.en.push({fn:5,Wt:e})}dn(){this.mn(),this.en.push({fn:6})}wn(){this.dn(),this.en=[{fn:4}]}gn(e){this.dn(),this.en.push({fn:2,Wt:e})}Mn(e){this.dn(),this.en.push({fn:3,Wt:e})}bn(){return this.en}Sn(e){for(const s of e.en)this.xn(s);this.rn=Math.max(this.rn,e.rn),e.nn.forEach(((s,l)=>{this.hn(l,s)}))}static Cn(){return new ee(2)}static yn(){return new ee(3)}xn(e){switch(e.fn){case 0:this.cn();break;case 1:this.pn(e.Wt);break;case 2:this.gn(e.Wt);break;case 3:this.Mn(e.Wt);break;case 4:this.wn();break;case 5:this.vn(e.Wt);break;case 6:this.mn()}}mn(){const e=this.en.findIndex((s=>s.fn===5));e!==-1&&this.en.splice(e,1)}}class Pp{formatTickmarks(e){return e.map((s=>this.format(s)))}}const M0=".";function gi(a,e){if(!ys(a))return"n/a";if(!Nl(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return e===0?a.toString():("0000000000000000"+a.toString()).slice(-e)}class wr extends Pp{constructor(e,s){if(super(),s||(s=1),ys(e)&&Nl(e)||(e=100),e<0)throw new TypeError("invalid base");this.Ki=e,this.kn=s,this.Pn()}format(e){const s=e<0?"":"";return e=Math.abs(e),s+this.Tn(e)}Pn(){if(this.Rn=0,this.Ki>0&&this.kn>0){let e=this.Ki;for(;e>1;)e/=10,this.Rn++}}Tn(e){const s=this.Ki/this.kn;let l=Math.floor(e),u="";const c=this.Rn!==void 0?this.Rn:NaN;if(s>1){let f=+(Math.round(e*s)-l*s).toFixed(this.Rn);f>=s&&(f-=s,l+=1),u=M0+gi(+f.toFixed(this.Rn)*this.kn,c)}else l=Math.round(l*s)/s,c>0&&(u=M0+gi(0,c));return l.toFixed(0)+u}}class Wp extends wr{constructor(e=100){super(e)}format(e){return`${super.format(e)}%`}}class y1 extends Pp{constructor(e){super(),this.Dn=e}format(e){let s="";return e<0&&(s="-",e=-e),e<995?s+this.In(e):e<999995?s+this.In(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),s+this.In(e/1e6)+"M"):(e=1e6*Math.round(e/1e6),s+this.In(e/1e9)+"B")}In(e){let s;const l=Math.pow(10,this.Dn);return s=(e=Math.round(e*l)/l)>=1e-15&&e<1?e.toFixed(this.Dn).replace(/\.?0+$/,""):String(e),s.replace(/(\.[1-9]*)0+$/,((u,c)=>c))}}const x1=/[2-9]/g;class Cl{constructor(e=50){this.Vn=0,this.Bn=1,this.En=1,this.An={},this.Ln=new Map,this.zn=e}On(){this.Vn=0,this.Ln.clear(),this.Bn=1,this.En=1,this.An={}}Ii(e,s,l){return this.Nn(e,s,l).width}Di(e,s,l){const u=this.Nn(e,s,l);return((u.actualBoundingBoxAscent||0)-(u.actualBoundingBoxDescent||0))/2}Nn(e,s,l){const u=l||x1,c=String(s).replace(u,"0");if(this.Ln.has(c))return ve(this.Ln.get(c)).Fn;if(this.Vn===this.zn){const m=this.An[this.En];delete this.An[this.En],this.Ln.delete(m),this.En++,this.Vn--}e.save(),e.textBaseline="middle";const f=e.measureText(c);return e.restore(),f.width===0&&s.length||(this.Ln.set(c,{Fn:f,Wn:this.Bn}),this.An[this.Bn]=c,this.Vn++,this.Bn++),f}}class b1{constructor(e){this.Hn=null,this.M=null,this.Un="right",this.$n=e}qn(e,s,l){this.Hn=e,this.M=s,this.Un=l}nt(e){this.M!==null&&this.Hn!==null&&this.Hn.nt(e,this.M,this.$n,this.Un)}}class Ip{constructor(e,s,l){this.jn=e,this.$n=new Cl(50),this.Yn=s,this.O=l,this.F=-1,this.Xt=new b1(this.$n)}Tt(){const e=this.O.Kn(this.Yn);if(e===null)return null;const s=e.Zn(this.Yn)?e.Gn():this.Yn.Ft();if(s===null)return null;const l=e.Xn(s);if(l==="overlay")return null;const u=this.O.Jn();return u.k!==this.F&&(this.F=u.k,this.$n.On()),this.Xt.qn(this.jn.ji(),u,l),this.Xt}}class S1 extends Zi{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}Qn(e,s){if(!this.jt?.It)return null;const{ut:l,ct:u,te:c}=this.jt;return s>=l-u-7&&s<=l+u+7?{ie:this.jt,te:c}:null}et({context:e,bitmapSize:s,horizontalPixelRatio:l,verticalPixelRatio:u}){if(this.jt===null||this.jt.It===!1)return;const c=Math.round(this.jt.ut*u);c<0||c>s.height||(e.lineCap="butt",e.strokeStyle=this.jt.R,e.lineWidth=Math.floor(this.jt.ct*l),vs(e,this.jt.Zt),Kp(e,c,0,s.width))}}class Vc{constructor(e){this.se={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Zt:0,It:!1},this.ne=new S1,this.xt=!0,this.ee=e,this.re=e.Qt(),this.ne.ht(this.se)}kt(){this.xt=!0}Tt(){return this.ee.It()?(this.xt&&(this.he(),this.xt=!1),this.ne):null}}class w1 extends Vc{constructor(e){super(e)}he(){this.se.It=!1;const e=this.ee.Ft(),s=e.ae().ae;if(s!==2&&s!==3)return;const l=this.ee.N();if(!l.baseLineVisible||!this.ee.It())return;const u=this.ee.Lt();u!==null&&(this.se.It=!0,this.se.ut=e.Nt(u.Wt,u.Wt),this.se.R=l.baseLineColor,this.se.ct=l.baseLineWidth,this.se.Zt=l.baseLineStyle)}}class M1 extends Zi{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}le(){return this.jt}et({context:e,horizontalPixelRatio:s,verticalPixelRatio:l}){const u=this.jt;if(u===null)return;const c=Math.max(1,Math.floor(s)),f=c%2/2,m=Math.round(u.oe.x*s)+f,p=u.oe.y*l;e.fillStyle=u._e,e.beginPath();const d=Math.max(2,1.5*u.ue)*s;e.arc(m,p,d,0,2*Math.PI,!1),e.fill(),e.fillStyle=u.ce,e.beginPath(),e.arc(m,p,u.ft*s,0,2*Math.PI,!1),e.fill(),e.lineWidth=c,e.strokeStyle=u.de,e.beginPath(),e.arc(m,p,u.ft*s+c/2,0,2*Math.PI,!1),e.stroke()}}const _1=[{fe:0,pe:.25,ve:4,me:10,we:.25,ge:0,Me:.4,be:.8},{fe:.25,pe:.525,ve:10,me:14,we:0,ge:0,Me:.8,be:0},{fe:.525,pe:1,ve:14,me:14,we:0,ge:0,Me:0,be:0}];class N1{constructor(e){this.Xt=new M1,this.xt=!0,this.Se=!0,this.xe=performance.now(),this.Ce=this.xe-1,this.ye=e}ke(){this.Ce=this.xe-1,this.kt()}Pe(){if(this.kt(),this.ye.N().lastPriceAnimation===2){const e=performance.now(),s=this.Ce-e;if(s>0)return void(s<650&&(this.Ce+=2600));this.xe=e,this.Ce=e+2600}}kt(){this.xt=!0}Te(){this.Se=!0}It(){return this.ye.N().lastPriceAnimation!==0}Re(){switch(this.ye.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Ce}}Tt(){return this.xt?(this.Rt(),this.xt=!1,this.Se=!1):this.Se&&(this.De(),this.Se=!1),this.Xt}Rt(){this.Xt.ht(null);const e=this.ye.Qt().Et(),s=e.Ie(),l=this.ye.Lt();if(s===null||l===null)return;const u=this.ye.Ve(!0);if(u.Be||!s.Ee(u.js))return;const c={x:e.qt(u.js),y:this.ye.Ft().Nt(u.gt,l.Wt)},f=u.R,m=this.ye.N().lineWidth,p=this.Ae(this.Le(),f);this.Xt.ht({_e:f,ue:m,ce:p.ce,de:p.de,ft:p.ft,oe:c})}De(){const e=this.Xt.le();if(e!==null){const s=this.Ae(this.Le(),e._e);e.ce=s.ce,e.de=s.de,e.ft=s.ft}}Le(){return this.Re()?performance.now()-this.xe:2599}ze(e,s,l,u){const c=l+(u-l)*s;return this.ye.Qt().Xi().Y(e,c)}Ae(e,s){const l=e%2600/2600;let u;for(const d of _1)if(l>=d.fe&&l<=d.pe){u=d;break}ie(u!==void 0,"Last price animation internal logic error");const c=(l-u.fe)/(u.pe-u.fe);return{ce:this.ze(s,c,u.we,u.ge),de:this.ze(s,c,u.Me,u.be),ft:(f=c,m=u.ve,p=u.me,m+(p-m)*f)};var f,m,p}}class E1 extends Vc{constructor(e){super(e)}he(){const e=this.se;e.It=!1;const s=this.ee.N();if(!s.priceLineVisible||!this.ee.It())return;const l=this.ee.Ve(s.priceLineSource===0);l.Be||(e.It=!0,e.ut=l.Ei,e.R=this.ee.Oe(l.R),e.ct=s.priceLineWidth,e.Zt=s.priceLineStyle)}}class j1 extends br{constructor(e){super(),this.Jt=e}Yi(e,s,l){e.It=!1,s.It=!1;const u=this.Jt;if(!u.It())return;const c=u.N(),f=c.lastValueVisible,m=u.Ne()!=="",p=c.seriesLastValueMode===0,d=u.Ve(!1);if(d.Be)return;f&&(e.ri=this.Fe(d,f,p),e.It=e.ri.length!==0),(m||p)&&(s.ri=this.We(d,f,m,p),s.It=s.ri.length>0);const x=u.Oe(d.R),y=this.Jt.Qt().Xi().Z(x);l.G=y.G,l.Ei=d.Ei,s.Ht=u.Qt().Ut(d.Ei/u.Ft().$t()),e.Ht=x,e.R=y.X,s.R=y.X}We(e,s,l,u){let c="";const f=this.Jt.Ne();return l&&f.length!==0&&(c+=`${f} `),s&&u&&(c+=this.Jt.Ft().He()?e.Ue:e.$e),c.trim()}Fe(e,s,l){return s?l?this.Jt.Ft().He()?e.$e:e.Ue:e.ri:""}}function _0(a,e,s,l){const u=Number.isFinite(e),c=Number.isFinite(s);return u&&c?a(e,s):u||c?u?e:s:l}class re{constructor(e,s){this.qe=e,this.je=s}Ye(e){return e!==null&&this.qe===e.qe&&this.je===e.je}Ke(){return new re(this.qe,this.je)}Ze(){return this.qe}Ge(){return this.je}Xe(){return this.je-this.qe}Gi(){return this.je===this.qe||Number.isNaN(this.je)||Number.isNaN(this.qe)}Sn(e){return e===null?this:new re(_0(Math.min,this.Ze(),e.Ze(),-1/0),_0(Math.max,this.Ge(),e.Ge(),1/0))}Je(e){if(!ys(e)||this.je-this.qe===0)return;const s=.5*(this.je+this.qe);let l=this.je-s,u=this.qe-s;l*=e,u*=e,this.je=s+l,this.qe=s+u}Qe(e){ys(e)&&(this.je+=e,this.qe+=e)}tr(){return{minValue:this.qe,maxValue:this.je}}static ir(e){return e===null?null:new re(e.minValue,e.maxValue)}}class dr{constructor(e,s){this.sr=e,this.nr=s||null}er(){return this.sr}rr(){return this.nr}tr(){return{priceRange:this.sr===null?null:this.sr.tr(),margins:this.nr||void 0}}static ir(e){return e===null?null:new dr(re.ir(e.priceRange),e.margins)}}const C1=[2,4,8,16,32,64,128,256,512],T1="Custom series with conflation reducer must have a priceValueBuilder method";class z1 extends Vc{constructor(e,s){super(e),this.hr=s}he(){const e=this.se;e.It=!1;const s=this.hr.N();if(!this.ee.It()||!s.lineVisible)return;const l=this.hr.ar();l!==null&&(e.It=!0,e.ut=l,e.R=s.color,e.ct=s.lineWidth,e.Zt=s.lineStyle,e.te=this.hr.N().id)}}class R1 extends br{constructor(e,s){super(),this.ye=e,this.hr=s}Yi(e,s,l){e.It=!1,s.It=!1;const u=this.hr.N(),c=u.axisLabelVisible,f=u.title!=="",m=this.ye;if(!c||!m.It())return;const p=this.hr.ar();if(p===null)return;f&&(s.ri=u.title,s.It=!0),s.Ht=m.Qt().Ut(p/m.Ft().$t()),e.ri=this.lr(u.price),e.It=!0;const d=this.ye.Qt().Xi().Z(u.axisLabelColor||u.color);l.G=d.G;const x=u.axisLabelTextColor||d.X;e.R=x,s.R=x,l.Ei=p}lr(e){const s=this.ye.Lt();return s===null?"":this.ye.Ft().Ji(e,s.Wt)}}class A1{constructor(e,s){this.ye=e,this.Ps=s,this._r=new z1(e,this),this.jn=new R1(e,this),this.ur=new Ip(this.jn,e,e.Qt())}cr(e){Ce(this.Ps,e),this.kt(),this.ye.Qt().dr()}N(){return this.Ps}pr(){return this._r}vr(){return this.ur}mr(){return this.jn}kt(){this._r.kt(),this.jn.kt()}ar(){const e=this.ye,s=e.Ft();if(e.Qt().Et().Gi()||s.Gi())return null;const l=e.Lt();return l===null?null:s.Nt(this.Ps.price,l.Wt)}}class D1{constructor(){this.wr=new WeakMap}gr(e,s,l){const u=1/s*l;if(e>=u)return 1;const c=u/e,f=Math.pow(2,Math.floor(Math.log2(c)));return Math.min(f,512)}Mr(e,s,l,u=!1,c){if(e.length===0||s<=1)return e;const f=this.br(s);if(f<=1)return e;const m=this.Sr(e);let p=m.Cr.get(f);return p!==void 0||(p=this.yr(e,f,l,u,c,m.Cr),m.Cr.set(f,p)),p}kr(e,s,l,u,c=!1,f){if(l<1||e.length===0)return e;const m=this.Sr(e),p=m.Cr.get(l);if(!p)return this.Mr(e,l,u,c,f);const d=this.Pr(e,s,l,p,c,u,f);return m.Cr.set(l,d),d}br(e){if(e<=2)return 2;for(const s of C1)if(e<=s)return s;return 512}Tr(e){if(e.length===0)return 0;const s=e[0],l=e[e.length-1];return 31*e.length+17*s.js+13*l.js}yr(e,s,l,u=!1,c,f=new Map){if(s===2)return this.Rr(e,2,l,u,c);const m=s/2;let p=f.get(m);return p||(p=this.yr(e,m,l,u,c,f),f.set(m,p)),this.Dr(p,l,u,c)}Rr(e,s,l,u=!1,c){const f=this.Ir(e,s,l,u,c);return this.Vr(f,u)}Dr(e,s,l=!1,u){const c=this.Ir(e,2,s,l,u);return this.Vr(c,l)}Ir(e,s,l,u=!1,c){const f=[];for(let m=0;m<e.length;m+=s)if(e.length-m>=s){const p=this.Br(e[m],e[m+1],l,u,c);p.Er=!1,f.push(p)}else if(f.length===0)f.push(this.Ar(e[m],!0));else{const p=f[f.length-1];f[f.length-1]=this.Lr(p,e[m],l,u,c)}return f}zr(e,s){return(e??1)+(s??1)}Br(e,s,l,u=!1,c){if(!u||!l||!c){const d=e.Wt[1]>s.Wt[1]?e.Wt[1]:s.Wt[1],x=e.Wt[2]<s.Wt[2]?e.Wt[2]:s.Wt[2];return{Or:e.js,Nr:s.js,Fr:e.wt,Wr:s.wt,Hr:e.Wt[0],Ur:d,$r:x,qr:s.Wt[3],jr:this.zr(e.jr,s.jr),Yr:void 0,Er:!1}}const f=l(this.Kr(e,c),this.Kr(s,c)),m=c(f),p=m.length?m[m.length-1]:0;return{Or:e.js,Nr:s.js,Fr:e.wt,Wr:s.wt,Hr:e.Wt[0],Ur:Math.max(e.Wt[1],p),$r:Math.min(e.Wt[2],p),qr:p,jr:this.zr(e.jr,s.jr),Yr:f,Er:!1}}Lr(e,s,l,u=!1,c){if(!u||!l||!c)return{Or:e.Or,Nr:s.js,Fr:e.Fr,Wr:s.wt,Hr:e.Hr,Ur:e.Ur>s.Wt[1]?e.Ur:s.Wt[1],$r:e.$r<s.Wt[2]?e.$r:s.Wt[2],qr:s.Wt[3],jr:e.jr+(s.jr??1),Yr:e.Yr,Er:!1};const f=e.Yr,m=this.Kr(s,c),p=f?{data:f,index:e.Or,originalTime:e.Fr,time:e.Fr,priceValues:c(f)}:null,d=p?l(p,m):m.data,x=p?c(d):m.priceValues,y=x.length?x[x.length-1]:0;return{Or:e.Or,Nr:s.js,Fr:e.Fr,Wr:s.wt,Hr:e.Hr,Ur:Math.max(e.Ur,y),$r:Math.min(e.$r,y),qr:y,jr:e.jr+(s.jr??1),Yr:d,Er:!1}}Zr(e,s,l,u,c,f,m=!1,p){const d=s===u?c:e[s];if(l-s==1)return this.Ar(d,!0);const x=s+1===u?c:e[s+1];let y=this.Br(d,x,f,m,p);for(let S=s+2;S<l;S++){const _=S===u?c:e[S];y=this.Lr(y,_,f,m,p)}return y}Kr(e,s){const l=e.le??{};return{data:e.le,index:e.js,originalTime:e.Gr,time:e.wt,priceValues:s(l)}}Xr(e,s=!1){const l=s===!0,u=!!e.Yr;return{js:e.Or,wt:e.Fr,Gr:e.Fr,Wt:[l?e.qr:e.Hr,e.Ur,e.$r,e.qr],jr:e.jr,le:l?u?e.Yr:{wt:e.Fr}:void 0}}Vr(e,s=!1){return e.map((l=>this.Xr(l,s)))}Pr(e,s,l,u,c=!1,f,m){if(u.length===0)return u;const p=e.length-1,d=Math.floor(p/l)*l;if(Math.min(d+l,e.length)-d<l&&e.length>l){const x=e.slice();return x[x.length-1]=s,this.Mr(x,l,f,c,m)}if(Math.floor((p-1)/l)===Math.floor(p/l)||u.length===1){const x=Math.min(d+l,e.length),y=x-d;if(y<=0)return u;const S=y===1?this.Ar(d===p?s:e[d],!0):this.Zr(e,d,x,p,s,f,c,m);return u[u.length-1]=this.Xr(S,c),u}{const x=e.slice();return x[x.length-1]=s,this.Mr(x,l,f,c,m)}}Ar(e,s=!1){return{Or:e.js,Nr:e.js,Fr:e.wt,Wr:e.wt,Hr:e.Wt[0],Ur:e.Wt[1],$r:e.Wt[2],qr:e.Wt[3],jr:e.jr??1,Yr:e.le,Er:s}}Sr(e){const s=this.Jr(e),l=this.Tr(e);return s.Qr!==l&&(s.Cr.clear(),s.Qr=l),s}Jr(e){let s=this.wr.get(e);return s===void 0&&(s={Qr:this.Tr(e),Cr:new Map},this.wr.set(e,s)),s}}class O1 extends Fp{constructor(e){super(),this.ns=e}Qt(){return this.ns}}const L1={Bar:(a,e,s,l)=>{const u=e.upColor,c=e.downColor,f=X(a(s,l)),m=Ji(f.Wt[0])<=Ji(f.Wt[3]);return{th:f.R??(m?u:c)}},Candlestick:(a,e,s,l)=>{const u=e.upColor,c=e.downColor,f=e.borderUpColor,m=e.borderDownColor,p=e.wickUpColor,d=e.wickDownColor,x=X(a(s,l)),y=Ji(x.Wt[0])<=Ji(x.Wt[3]);return{th:x.R??(y?u:c),ih:x.Ht??(y?f:m),sh:x.nh??(y?p:d)}},Custom:(a,e,s,l)=>({th:X(a(s,l)).R??e.color}),Area:(a,e,s,l)=>{const u=X(a(s,l));return{th:u.vt??e.lineColor,vt:u.vt??e.lineColor,eh:u.eh??e.topColor,rh:u.rh??e.bottomColor}},Baseline:(a,e,s,l)=>{const u=X(a(s,l));return{th:u.Wt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,hh:u.hh??e.topLineColor,ah:u.ah??e.bottomLineColor,oh:u.oh??e.topFillColor1,_h:u._h??e.topFillColor2,uh:u.uh??e.bottomFillColor1,dh:u.dh??e.bottomFillColor2}},Line:(a,e,s,l)=>{const u=X(a(s,l));return{th:u.R??e.color,vt:u.R??e.color}},Histogram:(a,e,s,l)=>({th:X(a(s,l)).R??e.color})};class U1{constructor(e){this.fh=(s,l)=>l!==void 0?l.Wt:this.ye.qs().ph(s),this.ye=e,this.mh=L1[e.wh()]}gh(e,s){return this.mh(this.fh,this.ye.N(),e,s)}}function tg(a,e,s,l,u=0,c=e.length){let f=c-u;for(;0<f;){const m=f>>1,p=u+m;l(e[p],s)===a?(u=p+1,f-=m+1):f=m}return u}const mn=tg.bind(null,!0),eg=tg.bind(null,!1);var N0;(function(a){a[a.NearestLeft=-1]="NearestLeft",a[a.None=0]="None",a[a.NearestRight=1]="NearestRight"})(N0||(N0={}));const Qi=30;class B1{constructor(){this.Mh=[],this.bh=new Map,this.Sh=new Map,this.xh=[]}Ch(){return this.yh()>0?this.Mh[this.Mh.length-1]:null}kh(){return this.yh()>0?this.Ph(0):null}sn(){return this.yh()>0?this.Ph(this.Mh.length-1):null}yh(){return this.Mh.length}Gi(){return this.yh()===0}Ee(e){return this.Th(e,0)!==null}ph(e){return this.$s(e)}$s(e,s=0){const l=this.Th(e,s);return l===null?null:{...this.Rh(l),js:this.Ph(l)}}Dh(){return this.Mh}Ih(e,s,l){if(this.Gi())return null;let u=null;for(const c of l)u=Ia(u,this.Vh(e,s,c));return u}ht(e){this.Sh.clear(),this.bh.clear(),this.Mh=e,this.xh=e.map((s=>s.js))}Bh(){return this.xh}Ph(e){return this.Mh[e].js}Rh(e){return this.Mh[e]}Th(e,s){const l=this.Eh(e);if(l===null&&s!==0)switch(s){case-1:return this.Ah(e);case 1:return this.Lh(e);default:throw new TypeError("Unknown search mode")}return l}Ah(e){let s=this.zh(e);return s>0&&(s-=1),s!==this.Mh.length&&this.Ph(s)<e?s:null}Lh(e){const s=this.Oh(e);return s!==this.Mh.length&&e<this.Ph(s)?s:null}Eh(e){const s=this.zh(e);return s===this.Mh.length||e<this.Mh[s].js?null:s}zh(e){return mn(this.Mh,e,((s,l)=>s.js<l))}Oh(e){return eg(this.Mh,e,((s,l)=>s.js>l))}Nh(e,s,l){let u=null;for(let c=e;c<s;c++){const f=this.Mh[c].Wt[l];Number.isNaN(f)||(u===null?u={Fh:f,Wh:f}:(f<u.Fh&&(u.Fh=f),f>u.Wh&&(u.Wh=f)))}return u}Vh(e,s,l){if(this.Gi())return null;let u=null;const c=X(this.kh()),f=X(this.sn()),m=Math.max(e,c),p=Math.min(s,f),d=Math.ceil(m/Qi)*Qi,x=Math.max(d,Math.floor(p/Qi)*Qi);{const S=this.zh(m),_=this.Oh(Math.min(p,d,s));u=Ia(u,this.Nh(S,_,l))}let y=this.bh.get(l);y===void 0&&(y=new Map,this.bh.set(l,y));for(let S=Math.max(d+1,m);S<x;S+=Qi){const _=Math.floor(S/Qi);let w=y.get(_);if(w===void 0){const A=this.zh(_*Qi),L=this.Oh((_+1)*Qi-1);w=this.Nh(A,L,l),y.set(_,w)}u=Ia(u,w)}{const S=this.zh(x),_=this.Oh(p);u=Ia(u,this.Nh(S,_,l))}return u}}function Ia(a,e){return a===null?e:e===null?a:{Fh:Math.min(a.Fh,e.Fh),Wh:Math.max(a.Wh,e.Wh)}}function Ih(){return new B1}const mr={setLineStyle:vs};class H1{constructor(e){this.Hh=e}nt(e,s,l){this.Hh.draw(e,mr)}Uh(e,s,l){this.Hh.drawBackground?.(e,mr)}}class Y1{constructor(e){this.Ln=null,this.$h=e}Tt(){const e=this.$h.renderer();if(e===null)return null;if(this.Ln?.qh===e)return this.Ln.jh;const s=new H1(e);return this.Ln={qh:e,jh:s},s}Yh(){return this.$h.zOrder?.()??"normal"}}class ig{constructor(e){this.Kh=null,this.Zh=e}Gh(){return this.Zh}Ws(){this.Zh.updateAllViews?.()}Ys(){const e=this.Zh.paneViews?.()??[];if(this.Kh?.qh===e)return this.Kh.jh;const s=e.map((l=>new Y1(l)));return this.Kh={qh:e,jh:s},s}Qn(e,s){return this.Zh.hitTest?.(e,s)??null}}let V1=class extends ig{ds(){return[]}};class q1{constructor(e){this.Hh=e}nt(e,s,l){this.Hh.draw(e,mr)}Uh(e,s,l){this.Hh.drawBackground?.(e,mr)}}class E0{constructor(e){this.Ln=null,this.$h=e}Tt(){const e=this.$h.renderer();if(e===null)return null;if(this.Ln?.qh===e)return this.Ln.jh;const s=new q1(e);return this.Ln={qh:e,jh:s},s}Yh(){return this.$h.zOrder?.()??"normal"}}function sg(a){return{ri:a.text(),Ei:a.coordinate(),Vi:a.fixedCoordinate?.(),R:a.textColor(),G:a.backColor(),It:a.visible?.()??!0,pi:a.tickVisible?.()??!0}}class k1{constructor(e,s){this.Xt=new $p,this.Xh=e,this.Jh=s}Tt(){return this.Xt.ht({ss:this.Jh.ss(),...sg(this.Xh)}),this.Xt}}class G1 extends br{constructor(e,s){super(),this.Xh=e,this.Ki=s}Yi(e,s,l){const u=sg(this.Xh);l.G=u.G,e.R=u.R;const c=2/12*this.Ki.k();l.Ti=c,l.Ri=c,l.Ei=u.Ei,l.Vi=u.Vi,e.ri=u.ri,e.It=u.It,e.pi=u.pi}}class X1 extends ig{constructor(e,s){super(e),this.Qh=null,this.ta=null,this.ia=null,this.sa=null,this.ye=s}fs(){const e=this.Zh.timeAxisViews?.()??[];if(this.Qh?.qh===e)return this.Qh.jh;const s=this.ye.Qt().Et(),l=e.map((u=>new k1(u,s)));return this.Qh={qh:e,jh:l},l}Ks(){const e=this.Zh.priceAxisViews?.()??[];if(this.ta?.qh===e)return this.ta.jh;const s=this.ye.Ft(),l=e.map((u=>new G1(u,s)));return this.ta={qh:e,jh:l},l}na(){const e=this.Zh.priceAxisPaneViews?.()??[];if(this.ia?.qh===e)return this.ia.jh;const s=e.map((l=>new E0(l)));return this.ia={qh:e,jh:s},s}ea(){const e=this.Zh.timeAxisPaneViews?.()??[];if(this.sa?.qh===e)return this.sa.jh;const s=e.map((l=>new E0(l)));return this.sa={qh:e,jh:s},s}ra(e,s){return this.Zh.autoscaleInfo?.(e,s)??null}}function tc(a,e,s,l){a.forEach((u=>{e(u).forEach((c=>{c.Yh()===s&&l.push(c)}))}))}function ec(a){return a.Ys()}function Q1(a){return a.na()}function K1(a){return a.ea()}const J1=["Area","Line","Baseline"];class Mr extends O1{constructor(e,s,l,u,c){super(e),this.jt=Ih(),this._r=new E1(this),this.ha=[],this.aa=new w1(this),this.la=null,this.oa=null,this._a=null,this.ua=[],this.ca=new D1,this.da=new Map,this.fa=null,this.Ps=l,this.pa=s;const f=new j1(this);if(this.gs=[f],this.ur=new Ip(f,this,e),J1.includes(this.pa)&&(this.la=new N1(this)),this.va(),this.$h=u(this,this.Qt(),c),this.pa==="Custom"){const m=this.$h;m.ma&&this.wa(m.ma)}}m(){this._a!==null&&clearTimeout(this._a)}Oe(e){return this.Ps.priceLineColor||e}Ve(e){const s={Be:!0},l=this.Ft();if(this.Qt().Et().Gi()||l.Gi()||this.jt.Gi())return s;const u=this.Qt().Et().Ie(),c=this.Lt();if(u===null||c===null)return s;let f,m;if(e){const y=this.jt.Ch();if(y===null)return s;f=y,m=y.js}else{const y=this.jt.$s(u.bi(),-1);if(y===null||(f=this.jt.ph(y.js),f===null))return s;m=y.js}const p=f.Wt[3],d=this.ga().gh(m,{Wt:f}),x=l.Nt(p,c.Wt);return{Be:!1,gt:p,ri:l.Ji(p,c.Wt),Ue:l.Ma(p),$e:l.ba(p,c.Wt),R:d.th,Ei:x,js:m}}ga(){return this.oa!==null||(this.oa=new U1(this)),this.oa}N(){return this.Ps}cr(e){const s=this.Qt(),{priceScaleId:l,visible:u,priceFormat:c}=e;l!==void 0&&l!==this.Ps.priceScaleId&&s.Sa(this,l),u!==void 0&&u!==this.Ps.visible&&s.xa();const f=e.conflationThresholdFactor!==void 0;Ce(this.Ps,e),f&&(this.da.clear(),this.Qt().dr()),c!==void 0&&(this.va(),s.Ca()),s.ya(this),s.ka(),this.$h.kt("options")}ht(e,s){this.jt.ht(e),this.da.clear();const l=this.Qt().Et().N();l.enableConflation&&l.precomputeConflationOnInit&&this.Pa(l.precomputeConflationPriority),this.$h.kt("data"),this.la!==null&&(s&&s.Ta?this.la.Pe():e.length===0&&this.la.ke());const u=this.Qt().Kn(this);this.Qt().Ra(u),this.Qt().ya(this),this.Qt().ka(),this.Qt().dr()}Da(e){const s=new A1(this,e);return this.ha.push(s),this.Qt().ya(this),s}Ia(e){const s=this.ha.indexOf(e);s!==-1&&this.ha.splice(s,1),this.Qt().ya(this)}Va(){return this.ha}wh(){return this.pa}Lt(){const e=this.Ba();return e===null?null:{Wt:e.Wt[3],Ea:e.wt}}Ba(){const e=this.Qt().Et().Ie();if(e===null)return null;const s=e.Aa();return this.jt.$s(s,1)}qs(){return this.jt}wa(e){this.fa=e,this.da.clear()}La(){return!!this.Qt().Et().N().enableConflation&&this.za()>1}kr(e){if(!this.La())return;const s=this.za();if(!this.da.has(s))return;const l=this.pa==="Custom",u=l&&this.fa||void 0,c=l&&this.$h.Oa?p=>{const d=p,x=this.$h.Oa(d);return Array.isArray(x)?x:[typeof x=="number"?x:0]}:void 0,f=this.ca.kr(this.jt.Dh(),e,s,u,l,c),m=Ih();m.ht(f),this.da.set(s,m)}Na(){const e=this.Qt().Et().N().enableConflation;if(this.pa==="Custom"&&this.fa===null)return this.jt;if(!e)return this.jt;const s=this.za(),l=this.da.get(s);return l||(this.Fa(s),this.da.get(s)??this.jt)}Wa(e){const s=this.jt.ph(e);return s===null?null:this.pa==="Bar"||this.pa==="Candlestick"||this.pa==="Custom"?{Hr:s.Wt[0],Ur:s.Wt[1],$r:s.Wt[2],qr:s.Wt[3]}:s.Wt[3]}Ha(e){const s=[];tc(this.ua,ec,"top",s);const l=this.la;return l!==null&&l.It()&&(this._a===null&&l.Re()&&(this._a=setTimeout((()=>{this._a=null,this.Qt().Ua()}),0)),l.Te(),s.unshift(l)),s}Ys(){const e=[];this.$a()||e.push(this.aa),e.push(this.$h,this._r);const s=this.ha.map((l=>l.pr()));return e.push(...s),tc(this.ua,ec,"normal",e),e}qa(){return this.ja(ec,"bottom")}Ya(e){return this.ja(Q1,e)}Ka(e){return this.ja(K1,e)}Za(e,s){return this.ua.map((l=>l.Qn(e,s))).filter((l=>l!==null))}ds(){return[this.ur,...this.ha.map((e=>e.vr()))]}Ks(e,s){if(s!==this.hs&&!this.$a())return[];const l=[...this.gs];for(const u of this.ha)l.push(u.mr());return this.ua.forEach((u=>{l.push(...u.Ks())})),l}fs(){const e=[];return this.ua.forEach((s=>{e.push(...s.fs())})),e}ra(e,s){if(this.Ps.autoscaleInfoProvider!==void 0){const l=this.Ps.autoscaleInfoProvider((()=>{const u=this.Ga(e,s);return u===null?null:u.tr()}));return dr.ir(l)}return this.Ga(e,s)}qh(){const e=this.Ps.priceFormat;return e.base??1/e.minMove}Xa(){return this.Ja}Ws(){this.$h.kt();for(const e of this.gs)e.kt();for(const e of this.ha)e.kt();this._r.kt(),this.aa.kt(),this.la?.kt(),this.ua.forEach((e=>e.Ws()))}Ft(){return X(super.Ft())}At(e){if(!((this.pa==="Line"||this.pa==="Area"||this.pa==="Baseline")&&this.Ps.crosshairMarkerVisible))return null;const s=this.jt.ph(e);return s===null?null:{gt:s.Wt[3],ft:this.Qa(),Ht:this.tl(),Ot:this.il(),zt:this.sl(e)}}Ne(){return this.Ps.title}It(){return this.Ps.visible}nl(e){this.ua.push(new X1(e,this))}el(e){this.ua=this.ua.filter((s=>s.Gh()!==e))}rl(){if(this.pa==="Custom")return e=>this.$h.Oa(e)}hl(){if(this.pa==="Custom")return e=>this.$h.al(e)}ll(){return this.jt.Bh()}$a(){return!Sr(this.Ft().ol())}Ga(e,s){if(!Nl(e)||!Nl(s)||this.jt.Gi())return null;const l=this.pa==="Line"||this.pa==="Area"||this.pa==="Baseline"||this.pa==="Histogram"?[3]:[2,1],u=this.jt.Ih(e,s,l);let c=u!==null?new re(u.Fh,u.Wh):null,f=null;if(this.wh()==="Histogram"){const m=this.Ps.base,p=new re(m,m);c=c!==null?c.Sn(p):p}return this.ua.forEach((m=>{const p=m.ra(e,s);if(p?.priceRange){const d=new re(p.priceRange.minValue,p.priceRange.maxValue);c=c!==null?c.Sn(d):d}p?.margins&&(f=p.margins)})),new dr(c,f)}Qa(){switch(this.pa){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerRadius}return 0}tl(){switch(this.pa){case"Line":case"Area":case"Baseline":{const e=this.Ps.crosshairMarkerBorderColor;if(e.length!==0)return e}}return null}il(){switch(this.pa){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerBorderWidth}return 0}sl(e){switch(this.pa){case"Line":case"Area":case"Baseline":{const s=this.Ps.crosshairMarkerBackgroundColor;if(s.length!==0)return s}}return this.ga().gh(e).th}va(){switch(this.Ps.priceFormat.type){case"custom":{const e=this.Ps.priceFormat.formatter;this.Ja={format:e,formatTickmarks:this.Ps.priceFormat.tickmarksFormatter??(s=>s.map(e))};break}case"volume":this.Ja=new y1(this.Ps.priceFormat.precision);break;case"percent":this.Ja=new Wp(this.Ps.priceFormat.precision);break;default:{const e=Math.pow(10,this.Ps.priceFormat.precision);this.Ja=new wr(e,this.Ps.priceFormat.minMove*e)}}this.hs!==null&&this.hs._l()}ja(e,s){const l=[];return tc(this.ua,e,s,l),l}za(){const{ul:e,cl:s,dl:l}=this.fl();return this.ca.gr(e,s,l)}fl(){const e=this.Qt().Et(),s=e.ul(),l=window.devicePixelRatio||1,u=e.N().conflationThresholdFactor;return{ul:s,cl:l,dl:this.Ps.conflationThresholdFactor??u??1}}pl(e){const s=this.jt.Dh();let l;if(this.pa==="Custom"&&this.fa!==null){const c=this.rl();if(!c)throw new Error(T1);l=this.ca.Mr(s,e,this.fa,!0,(f=>c(f)))}else l=this.ca.Mr(s,e);const u=Ih();return u.ht(l),u}Fa(e){const s=this.pl(e);this.da.set(e,s)}Pa(e){if(this.pa==="Custom"&&(this.fa===null||!this.rl()))return;this.da.clear();const s=this.Qt().Et().vl();for(const l of s){const u=()=>{this.ml(l)},c=typeof window=="object"&&window||typeof self=="object"&&self;c?.gl?.wl?c.gl.wl((()=>{u()}),{Ml:e}):Promise.resolve().then((()=>u()))}}ml(e){if(this.da.has(e)||this.jt.Dh().length===0)return;const s=this.pl(e);this.da.set(e,s)}}const Z1=[3],$1=[0,1,2,3];class F1{constructor(e){this.Ps=e}bl(e,s,l){let u=e;if(this.Ps.mode===0)return u;const c=l.Rs(),f=c.Lt();if(f===null)return u;const m=c.Nt(e,f),p=l.Sl().filter((x=>x instanceof Mr)).reduce(((x,y)=>{if(l.Zn(y)||!y.It())return x;const S=y.Ft(),_=y.qs();if(S.Gi()||!_.Ee(s))return x;const w=_.ph(s);if(w===null)return x;const A=Ji(y.Lt()),L=this.Ps.mode===3?$1:Z1;return x.concat(L.map((D=>S.Nt(w.Wt[D],A.Wt))))}),[]);if(p.length===0)return u;p.sort(((x,y)=>Math.abs(x-m)-Math.abs(y-m)));const d=p[0];return u=c.Ds(d,f),u}}function xl(a,e,s){return Math.min(Math.max(a,e),s)}function tr(a,e,s){return e-a<=s}function qc(a){const e=Math.ceil(a);return e%2==0?e-1:e}class P1 extends Zi{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}et({context:e,bitmapSize:s,horizontalPixelRatio:l,verticalPixelRatio:u}){if(this.jt===null)return;const c=Math.max(1,Math.floor(l));e.lineWidth=c,(function(f,m){f.save(),f.lineWidth%2&&f.translate(.5,.5),m(),f.restore()})(e,(()=>{const f=X(this.jt);if(f.xl){e.strokeStyle=f.Cl,vs(e,f.yl),e.beginPath();for(const m of f.kl){const p=Math.round(m.Pl*l);e.moveTo(p,-c),e.lineTo(p,s.height+c)}e.stroke()}if(f.Tl){e.strokeStyle=f.Rl,vs(e,f.Dl),e.beginPath();for(const m of f.Il){const p=Math.round(m.Pl*u);e.moveTo(-c,p),e.lineTo(s.width+c,p)}e.stroke()}}))}}class W1{constructor(e){this.Xt=new P1,this.xt=!0,this.yt=e}kt(){this.xt=!0}Tt(){if(this.xt){const e=this.yt.Qt().N().grid,s={Tl:e.horzLines.visible,xl:e.vertLines.visible,Rl:e.horzLines.color,Cl:e.vertLines.color,Dl:e.horzLines.style,yl:e.vertLines.style,Il:this.yt.Rs().Vl(),kl:(this.yt.Qt().Et().Vl()||[]).map((l=>({Pl:l.coord})))};this.Xt.ht(s),this.xt=!1}return this.Xt}}class I1{constructor(e){this.$h=new W1(e)}pr(){return this.$h}}const ic={Bl:4,El:1e-4};function hn(a,e){const s=100*(a-e)/e;return e<0?-s:s}function tS(a,e){const s=hn(a.Ze(),e),l=hn(a.Ge(),e);return new re(s,l)}function bl(a,e){const s=100*(a-e)/e+100;return e<0?-s:s}function eS(a,e){const s=bl(a.Ze(),e),l=bl(a.Ge(),e);return new re(s,l)}function pr(a,e){const s=Math.abs(a);if(s<1e-15)return 0;const l=Math.log10(s+e.El)+e.Bl;return a<0?-l:l}function Sl(a,e){const s=Math.abs(a);if(s<1e-15)return 0;const l=Math.pow(10,s-e.Bl)-e.El;return a<0?-l:l}function vl(a,e){if(a===null)return null;const s=pr(a.Ze(),e),l=pr(a.Ge(),e);return new re(s,l)}function cn(a,e){if(a===null)return null;const s=Sl(a.Ze(),e),l=Sl(a.Ge(),e);return new re(s,l)}function sc(a){if(a===null)return ic;const e=Math.abs(a.Ge()-a.Ze());if(e>=1||e<1e-15)return ic;const s=Math.ceil(Math.abs(Math.log10(e))),l=ic.Bl+s;return{Bl:l,El:1/Math.pow(10,l)}}class nc{constructor(e,s){if(this.Al=e,this.Ll=s,(function(l){if(l<0)return!1;if(l>1e18)return!0;for(let u=l;u>1;u/=10)if(u%10!=0)return!1;return!0})(this.Al))this.zl=[2,2.5,2];else{this.zl=[];for(let l=this.Al;l!==1;){if(l%2==0)this.zl.push(2),l/=2;else{if(l%5!=0)throw new Error("unexpected base");this.zl.push(2,2.5),l/=5}if(this.zl.length>100)throw new Error("something wrong with base")}}}Ol(e,s,l){const u=this.Al===0?0:1/this.Al;let c=Math.pow(10,Math.max(0,Math.ceil(Math.log10(e-s)))),f=0,m=this.Ll[0];for(;;){const y=tr(c,u,1e-14)&&c>u+1e-14,S=tr(c,l*m,1e-14),_=tr(c,1,1e-14);if(!(y&&S&&_))break;c/=m,m=this.Ll[++f%this.Ll.length]}if(c<=u+1e-14&&(c=u),c=Math.max(1,c),this.zl.length>0&&(p=c,d=1,x=1e-14,Math.abs(p-d)<x))for(f=0,m=this.zl[0];tr(c,l*m,1e-14)&&c>u+1e-14;)c/=m,m=this.zl[++f%this.zl.length];var p,d,x;return c}}class j0{constructor(e,s,l,u){this.Nl=[],this.Ki=e,this.Al=s,this.Fl=l,this.Wl=u}Ol(e,s){if(e<s)throw new Error("high < low");const l=this.Ki.$t(),u=(e-s)*this.Hl()/l,c=new nc(this.Al,[2,2.5,2]),f=new nc(this.Al,[2,2,2.5]),m=new nc(this.Al,[2.5,2,2]),p=[];return p.push(c.Ol(e,s,u),f.Ol(e,s,u),m.Ol(e,s,u)),(function(d){if(d.length<1)throw Error("array is empty");let x=d[0];for(let y=1;y<d.length;++y)d[y]<x&&(x=d[y]);return x})(p)}Ul(){const e=this.Ki,s=e.Lt();if(s===null)return void(this.Nl=[]);const l=e.$t(),u=this.Fl(l-1,s),c=this.Fl(0,s),f=this.Ki.N().entireTextOnly?this.$l()/2:0,m=f,p=l-1-f,d=Math.max(u,c),x=Math.min(u,c);if(d===x)return void(this.Nl=[]);const y=this.Ol(d,x);if(this.ql(s,y,d,x,m,p),e.jl()&&this.Yl(y,x,d)){const w=this.Ki.Kl();this.Zl(s,y,m,p,w,2*w)}const S=this.Nl.map((w=>w.Gl)),_=this.Ki.Xl(S);for(let w=0;w<this.Nl.length;w++)this.Nl[w].Jl=_[w]}Vl(){return this.Nl}$l(){return this.Ki.k()}Hl(){return Math.ceil(2.5*this.$l())}ql(e,s,l,u,c,f){const m=this.Nl,p=this.Ki;let d=l%s;d+=d<0?s:0;const x=l>=u?1:-1;let y=null,S=0;for(let _=l-d;_>u;_-=s){const w=this.Wl(_,e,!0);y!==null&&Math.abs(w-y)<this.Hl()||w<c||w>f||(S<m.length?(m[S].Pl=w,m[S].Jl=p.Ql(_),m[S].Gl=_):m.push({Pl:w,Jl:p.Ql(_),Gl:_}),S++,y=w,p.io()&&(s=this.Ol(_*x,u)))}m.length=S}Zl(e,s,l,u,c,f){const m=this.Nl,p=this.so(e,l,c,f),d=this.so(e,u,-f,-c),x=this.Wl(0,e,!0)-this.Wl(s,e,!0);m.length>0&&m[0].Pl-p.Pl<x/2&&m.shift(),m.length>0&&d.Pl-m[m.length-1].Pl<x/2&&m.pop(),m.unshift(p),m.push(d)}so(e,s,l,u){const c=(l+u)/2,f=this.Fl(s+l,e),m=this.Fl(s+u,e),p=Math.min(f,m),d=Math.max(f,m),x=Math.max(.1,this.Ol(d,p)),y=this.Fl(s+c,e),S=y-y%x,_=this.Wl(S,e,!0);return{Jl:this.Ki.Ql(S),Pl:_,Gl:S}}Yl(e,s,l){let u=Ji(this.Ki.er());return this.Ki.io()&&(u=cn(u,this.Ki.no())),u.Ze()-s<e&&l-u.Ge()<e}}function ng(a){return a.slice().sort(((e,s)=>X(e._s())-X(s._s())))}var C0;(function(a){a[a.Normal=0]="Normal",a[a.Logarithmic=1]="Logarithmic",a[a.Percentage=2]="Percentage",a[a.IndexedTo100=3]="IndexedTo100"})(C0||(C0={}));const T0=new Wp,z0=new wr(100,1);class iS{constructor(e,s,l,u,c){this.eo=0,this.ro=null,this.sr=null,this.ho=null,this.ao={lo:!1,oo:null},this._o=!1,this.uo=0,this.co=0,this.do=new kt,this.fo=new kt,this.po=[],this.vo=null,this.mo=null,this.wo=null,this.Mo=null,this.bo=null,this.Ja=z0,this.So=sc(null),this.xo=e,this.Ps=s,this.Co=l,this.yo=u,this.ko=c,this.Po=new j0(this,100,this.To.bind(this),this.Ro.bind(this))}ol(){return this.xo}N(){return this.Ps}cr(e){if(Ce(this.Ps,e),this._l(),e.mode!==void 0&&this.Do({ae:e.mode}),e.scaleMargins!==void 0){const s=ve(e.scaleMargins.top),l=ve(e.scaleMargins.bottom);if(s<0||s>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${s}`);if(l<0||l>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${l}`);if(s+l>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${s+l}`);this.Io(),this.wo=null}}Vo(){return this.Ps.autoScale}Bo(){return this._o}io(){return this.Ps.mode===1}He(){return this.Ps.mode===2}Eo(){return this.Ps.mode===3}no(){return this.So}ae(){return{ln:this.Ps.autoScale,Ao:this.Ps.invertScale,ae:this.Ps.mode}}Do(e){const s=this.ae();let l=null;e.ln!==void 0&&(this.Ps.autoScale=e.ln),e.ae!==void 0&&(this.Ps.mode=e.ae,e.ae!==2&&e.ae!==3||(this.Ps.autoScale=!0),this.ao.lo=!1),s.ae===1&&e.ae!==s.ae&&((function(c,f){if(c===null)return!1;const m=Sl(c.Ze(),f),p=Sl(c.Ge(),f);return isFinite(m)&&isFinite(p)})(this.sr,this.So)?(l=cn(this.sr,this.So),l!==null&&this.Lo(l)):this.Ps.autoScale=!0),e.ae===1&&e.ae!==s.ae&&(l=vl(this.sr,this.So),l!==null&&this.Lo(l));const u=s.ae!==this.Ps.mode;u&&(s.ae===2||this.He())&&this._l(),u&&(s.ae===3||this.Eo())&&this._l(),e.Ao!==void 0&&s.Ao!==e.Ao&&(this.Ps.invertScale=e.Ao,this.zo()),this.fo.p(s,this.ae())}Oo(){return this.fo}k(){return this.Co.fontSize}$t(){return this.eo}No(e){this.eo!==e&&(this.eo=e,this.Io(),this.wo=null)}Fo(){if(this.ro)return this.ro;const e=this.$t()-this.Wo()-this.Ho();return this.ro=e,e}er(){return this.Uo(),this.sr}Lo(e,s){const l=this.sr;(s||l===null&&e!==null||l!==null&&!l.Ye(e))&&(this.wo=null,this.sr=e)}$o(e){this.Lo(e),this.qo(e!==null)}Gi(){return this.Uo(),this.eo===0||!this.sr||this.sr.Gi()}jo(e){return this.Ao()?e:this.$t()-1-e}Nt(e,s){return this.He()?e=hn(e,s):this.Eo()&&(e=bl(e,s)),this.Ro(e,s)}Yo(e,s,l){this.Uo();const u=this.Ho(),c=X(this.er()),f=c.Ze(),m=c.Ge(),p=this.Fo()-1,d=this.Ao(),x=p/(m-f),y=l===void 0?0:l.from,S=l===void 0?e.length:l.to,_=this.Ko();for(let w=y;w<S;w++){const A=e[w],L=A.gt;if(isNaN(L))continue;let D=L;_!==null&&(D=_(A.gt,s));const V=u+x*(D-f),K=d?V:this.eo-1-V;A.ut=K}}Zo(e,s,l){this.Uo();const u=this.Ho(),c=X(this.er()),f=c.Ze(),m=c.Ge(),p=this.Fo()-1,d=this.Ao(),x=p/(m-f),y=l===void 0?0:l.from,S=l===void 0?e.length:l.to,_=this.Ko();for(let w=y;w<S;w++){const A=e[w];let L=A.Hr,D=A.Ur,V=A.$r,K=A.qr;_!==null&&(L=_(A.Hr,s),D=_(A.Ur,s),V=_(A.$r,s),K=_(A.qr,s));let Z=u+x*(L-f),tt=d?Z:this.eo-1-Z;A.Go=tt,Z=u+x*(D-f),tt=d?Z:this.eo-1-Z,A.Xo=tt,Z=u+x*(V-f),tt=d?Z:this.eo-1-Z,A.Jo=tt,Z=u+x*(K-f),tt=d?Z:this.eo-1-Z,A.Qo=tt}}Ds(e,s){const l=this.To(e,s);return this.t_(l,s)}t_(e,s){let l=e;return this.He()?l=(function(u,c){return c<0&&(u=-u),u/100*c+c})(l,s):this.Eo()&&(l=(function(u,c){return u-=100,c<0&&(u=-u),u/100*c+c})(l,s)),l}Sl(){return this.po}Dt(){return this.mo||(this.mo=ng(this.po)),this.mo}i_(e){this.po.indexOf(e)===-1&&(this.po.push(e),this._l(),this.s_())}n_(e){const s=this.po.indexOf(e);if(s===-1)throw new Error("source is not attached to scale");this.po.splice(s,1),this.po.length===0&&(this.Do({ln:!0}),this.Lo(null)),this._l(),this.s_()}Lt(){let e=null;for(const s of this.po){const l=s.Lt();l!==null&&(e===null||l.Ea<e.Ea)&&(e=l)}return e===null?null:e.Wt}Ao(){return this.Ps.invertScale}Vl(){const e=this.Lt()===null;if(this.wo!==null&&(e||this.wo.e_===e))return this.wo.Vl;this.Po.Ul();const s=this.Po.Vl();return this.wo={Vl:s,e_:e},this.do.p(),s}r_(){return this.do}h_(e){this.He()||this.Eo()||this.Mo===null&&this.ho===null&&(this.Gi()||(this.Mo=this.eo-e,this.ho=X(this.er()).Ke()))}a_(e){if(this.He()||this.Eo()||this.Mo===null)return;this.Do({ln:!1}),(e=this.eo-e)<0&&(e=0);let s=(this.Mo+.2*(this.eo-1))/(e+.2*(this.eo-1));const l=X(this.ho).Ke();s=Math.max(s,.1),l.Je(s),this.Lo(l)}l_(){this.He()||this.Eo()||(this.Mo=null,this.ho=null)}o_(e){this.Vo()||this.bo===null&&this.ho===null&&(this.Gi()||(this.bo=e,this.ho=X(this.er()).Ke()))}__(e){if(this.Vo()||this.bo===null)return;const s=X(this.er()).Xe()/(this.Fo()-1);let l=e-this.bo;this.Ao()&&(l*=-1);const u=l*s,c=X(this.ho).Ke();c.Qe(u),this.Lo(c,!0),this.wo=null}u_(){this.Vo()||this.bo!==null&&(this.bo=null,this.ho=null)}Xa(){return this.Ja||this._l(),this.Ja}Ji(e,s){switch(this.Ps.mode){case 2:return this.c_(hn(e,s));case 3:return this.Xa().format(bl(e,s));default:return this.lr(e)}}Ql(e){switch(this.Ps.mode){case 2:return this.c_(e);case 3:return this.Xa().format(e);default:return this.lr(e)}}Xl(e){switch(this.Ps.mode){case 2:return this.d_(e);case 3:return this.Xa().formatTickmarks(e);default:return this.f_(e)}}Ma(e){return this.lr(e,X(this.vo).Xa())}ba(e,s){return e=hn(e,s),this.c_(e,T0)}p_(){return this.po}v_(e){this.ao={oo:e,lo:!1}}Ws(){this.po.forEach((e=>e.Ws()))}jl(){return this.Ps.ensureEdgeTickMarksVisible&&this.Vo()}Kl(){return this.k()/2}_l(){this.wo=null;let e=1/0;this.vo=null;for(const l of this.po)l._s()<e&&(e=l._s(),this.vo=l);let s=100;this.vo!==null&&(s=Math.round(this.vo.qh())),this.Ja=z0,this.He()?(this.Ja=T0,s=100):this.Eo()?(this.Ja=new wr(100,1),s=100):this.vo!==null&&(this.Ja=this.vo.Xa()),this.Po=new j0(this,s,this.To.bind(this),this.Ro.bind(this)),this.Po.Ul()}s_(){this.mo=null}m_(){return this.vo===null||this.He()||this.Eo()?1:1/this.vo.qh()}Xi(){return this.ko}qo(e){this._o=e}Wo(){return this.Ao()?this.Ps.scaleMargins.bottom*this.$t()+this.co:this.Ps.scaleMargins.top*this.$t()+this.uo}Ho(){return this.Ao()?this.Ps.scaleMargins.top*this.$t()+this.uo:this.Ps.scaleMargins.bottom*this.$t()+this.co}Uo(){this.ao.lo||(this.ao.lo=!0,this.w_())}Io(){this.ro=null}Ro(e,s){if(this.Uo(),this.Gi())return 0;e=this.io()&&e?pr(e,this.So):e;const l=X(this.er()),u=this.Ho()+(this.Fo()-1)*(e-l.Ze())/l.Xe();return this.jo(u)}To(e,s){if(this.Uo(),this.Gi())return 0;const l=this.jo(e),u=X(this.er()),c=u.Ze()+u.Xe()*((l-this.Ho())/(this.Fo()-1));return this.io()?Sl(c,this.So):c}zo(){this.wo=null,this.Po.Ul()}w_(){if(this.Bo()&&!this.Vo())return;const e=this.ao.oo;if(e===null)return;let s=null;const l=this.p_();let u=0,c=0;for(const p of l){if(!p.It())continue;const d=p.Lt();if(d===null)continue;const x=p.ra(e.Aa(),e.bi());let y=x&&x.er();if(y!==null){switch(this.Ps.mode){case 1:y=vl(y,this.So);break;case 2:y=tS(y,d.Wt);break;case 3:y=eS(y,d.Wt)}if(s=s===null?y:s.Sn(X(y)),x!==null){const S=x.rr();S!==null&&(u=Math.max(u,S.above),c=Math.max(c,S.below))}}}if(this.jl()&&(u=Math.max(u,this.Kl()),c=Math.max(c,this.Kl())),u===this.uo&&c===this.co||(this.uo=u,this.co=c,this.wo=null,this.Io()),s!==null){if(s.Ze()===s.Ge()){const p=5*this.m_();this.io()&&(s=cn(s,this.So)),s=new re(s.Ze()-p,s.Ge()+p),this.io()&&(s=vl(s,this.So))}if(this.io()){const p=cn(s,this.So),d=sc(p);if(f=d,m=this.So,f.Bl!==m.Bl||f.El!==m.El){const x=this.ho!==null?cn(this.ho,this.So):null;this.So=d,s=vl(p,d),x!==null&&(this.ho=vl(x,d))}}this.Lo(s)}else this.sr===null&&(this.Lo(new re(-.5,.5)),this.So=sc(null));var f,m}Ko(){return this.He()?hn:this.Eo()?bl:this.io()?e=>pr(e,this.So):null}g_(e,s,l){return s===void 0?(l===void 0&&(l=this.Xa()),l.format(e)):s(e)}M_(e,s,l){return s===void 0?(l===void 0&&(l=this.Xa()),l.formatTickmarks(e)):s(e)}lr(e,s){return this.g_(e,this.yo.priceFormatter,s)}f_(e,s){const l=this.yo.priceFormatter;return this.M_(e,this.yo.tickmarksPriceFormatter??(l?u=>u.map(l):void 0),s)}c_(e,s){return this.g_(e,this.yo.percentageFormatter,s)}d_(e,s){const l=this.yo.percentageFormatter;return this.M_(e,this.yo.tickmarksPercentageFormatter??(l?u=>u.map(l):void 0),s)}}function R0(a){return a instanceof Mr}class A0{constructor(e,s){this.po=[],this.b_=new Map,this.eo=0,this.S_=0,this.x_=1,this.mo=null,this.C_=!1,this.y_=new kt,this.ua=[],this.Jh=e,this.ns=s,this.k_=new I1(this);const l=s.N();this.P_=this.T_("left",l.leftPriceScale),this.R_=this.T_("right",l.rightPriceScale),this.P_.Oo().i(this.D_.bind(this,this.P_),this),this.R_.Oo().i(this.D_.bind(this,this.R_),this),this.I_(l)}I_(e){if(e.leftPriceScale&&this.P_.cr(e.leftPriceScale),e.rightPriceScale&&this.R_.cr(e.rightPriceScale),e.localization&&(this.P_._l(),this.R_._l()),e.overlayPriceScales){const s=Array.from(this.b_.values());for(const l of s){const u=X(l[0].Ft());u.cr(e.overlayPriceScales),e.localization&&u._l()}}}V_(e){switch(e){case"left":return this.P_;case"right":return this.R_}return this.b_.has(e)?ve(this.b_.get(e))[0].Ft():null}m(){this.Qt().B_().u(this),this.P_.Oo().u(this),this.R_.Oo().u(this),this.po.forEach((e=>{e.m&&e.m()})),this.ua=this.ua.filter((e=>{const s=e.Gh();return s.detached&&s.detached(),!1})),this.y_.p()}E_(){return this.x_}A_(e){this.x_=e}Qt(){return this.ns}ss(){return this.S_}$t(){return this.eo}L_(e){this.S_=e,this.z_()}No(e){this.eo=e,this.P_.No(e),this.R_.No(e),this.po.forEach((s=>{if(this.Zn(s)){const l=s.Ft();l!==null&&l.No(e)}})),this.z_()}O_(e){this.C_=e}N_(){return this.C_}F_(){return this.po.filter(R0)}Sl(){return this.po}Zn(e){const s=e.Ft();return s===null||this.P_!==s&&this.R_!==s}i_(e,s,l){this.W_(e,s,l?e._s():this.po.length)}n_(e,s){const l=this.po.indexOf(e);ie(l!==-1,"removeDataSource: invalid data source"),this.po.splice(l,1),s||this.po.forEach(((f,m)=>f.us(m)));const u=X(e.Ft()).ol();if(this.b_.has(u)){const f=ve(this.b_.get(u)),m=f.indexOf(e);m!==-1&&(f.splice(m,1),f.length===0&&this.b_.delete(u))}const c=e.Ft();c&&c.Sl().indexOf(e)>=0&&(c.n_(e),this.H_(c)),this.mo=null}Xn(e){return e===this.P_?"left":e===this.R_?"right":"overlay"}U_(){return this.P_}q_(){return this.R_}j_(e,s){e.h_(s)}Y_(e,s){e.a_(s),this.z_()}K_(e){e.l_()}Z_(e,s){e.o_(s)}G_(e,s){e.__(s),this.z_()}X_(e){e.u_()}z_(){this.po.forEach((e=>{e.Ws()}))}Rs(){let e=null;return this.ns.N().rightPriceScale.visible&&this.R_.Sl().length!==0?e=this.R_:this.ns.N().leftPriceScale.visible&&this.P_.Sl().length!==0?e=this.P_:this.po.length!==0&&(e=this.po[0].Ft()),e===null&&(e=this.R_),e}Gn(){let e=null;return this.ns.N().rightPriceScale.visible?e=this.R_:this.ns.N().leftPriceScale.visible&&(e=this.P_),e}H_(e){e!==null&&e.Vo()&&this.J_(e)}Q_(e){const s=this.Jh.Ie();e.Do({ln:!0}),s!==null&&e.v_(s),this.z_()}tu(){this.J_(this.P_),this.J_(this.R_)}iu(){this.H_(this.P_),this.H_(this.R_),this.po.forEach((e=>{this.Zn(e)&&this.H_(e.Ft())})),this.z_(),this.ns.dr()}Dt(){return this.mo===null&&(this.mo=ng(this.po)),this.mo}su(e,s){s=xl(s,0,this.po.length-1);const l=this.po.indexOf(e);ie(l!==-1,"setSeriesOrder: invalid data source"),this.po.splice(l,1),this.po.splice(s,0,e),this.po.forEach(((u,c)=>u.us(c))),this.mo=null;for(const u of[this.P_,this.R_])u.s_(),u._l();this.ns.dr()}Vt(){return this.Dt().filter(R0)}nu(){return this.y_}eu(){return this.k_}nl(e){this.ua.push(new V1(e))}el(e){this.ua=this.ua.filter((s=>s.Gh()!==e)),e.detached&&e.detached(),this.ns.dr()}ru(){return this.ua}Za(e,s){return this.ua.map((l=>l.Qn(e,s))).filter((l=>l!==null))}J_(e){const s=e.p_();if(s&&s.length>0&&!this.Jh.Gi()){const l=this.Jh.Ie();l!==null&&e.v_(l)}e.Ws()}W_(e,s,l){let u=this.V_(s);if(u===null&&(u=this.T_(s,this.ns.N().overlayPriceScales)),this.po.splice(l,0,e),!Sr(s)){const c=this.b_.get(s)||[];c.push(e),this.b_.set(s,c)}e.us(l),u.i_(e),e.cs(u),this.H_(u),this.mo=null}D_(e,s,l){s.ae!==l.ae&&this.J_(e)}T_(e,s){const l={visible:!0,autoScale:!0,...pi(s)},u=new iS(e,l,this.ns.N().layout,this.ns.N().localization,this.ns.Xi());return u.No(this.$t()),u}}function er(a){return{hu:a.hu,au:{te:a.lu.externalId},ou:a.lu.cursorStyle}}function sS(a,e,s,l){for(const u of a){const c=u.Tt(l);if(c!==null&&c.Qn){const f=c.Qn(e,s);if(f!==null)return{_u:u,au:f}}}return null}function nS(a){return a.Ys!==void 0}function lg(a,e,s){const l=[a,...a.Dt()],u=(function(c,f,m){let p,d;for(const S of c){const _=S.Za?.(f,m)??[];for(const w of _)x=w.zOrder,y=p?.zOrder,(!y||x==="top"&&y!=="top"||x==="normal"&&y==="bottom")&&(p=w,d=S)}var x,y;return p&&d?{lu:p,hu:d}:null})(l,e,s);if(u?.lu.zOrder==="top")return er(u);for(const c of l){if(u&&u.hu===c&&u.lu.zOrder!=="bottom"&&!u.lu.isBackground)return er(u);if(nS(c)){const f=sS(c.Ys(a),e,s,a);if(f!==null)return{hu:c,_u:f._u,au:f.au}}if(u&&u.hu===c&&u.lu.zOrder!=="bottom"&&u.lu.isBackground)return er(u)}return u?.lu?er(u):null}class lS{constructor(e,s,l=50){this.Vn=0,this.Bn=1,this.En=1,this.Ln=new Map,this.An=new Map,this.uu=e,this.cu=s,this.zn=l}du(e){const s=e.time,l=this.cu.cacheKey(s),u=this.Ln.get(l);if(u!==void 0)return u.fu;if(this.Vn===this.zn){const f=this.An.get(this.En);this.An.delete(this.En),this.Ln.delete(ve(f)),this.En++,this.Vn--}const c=this.uu(e);return this.Ln.set(l,{fu:c,Wn:this.Bn}),this.An.set(this.Bn,l),this.Vn++,this.Bn++,c}}class fn{constructor(e,s){ie(e<=s,"right should be >= left"),this.pu=e,this.vu=s}Aa(){return this.pu}bi(){return this.vu}mu(){return this.vu-this.pu+1}Ee(e){return this.pu<=e&&e<=this.vu}Ye(e){return this.pu===e.Aa()&&this.vu===e.bi()}}function D0(a,e){return a===null||e===null?a===e:a.Ye(e)}class aS{constructor(){this.wu=new Map,this.Ln=null,this.gu=!1}Mu(e){this.gu=e,this.Ln=null}bu(e,s){this.Su(s),this.Ln=null;for(let l=s;l<e.length;++l){const u=e[l];let c=this.wu.get(u.timeWeight);c===void 0&&(c=[],this.wu.set(u.timeWeight,c)),c.push({index:l,time:u.time,weight:u.timeWeight,originalTime:u.originalTime})}}xu(e,s,l,u,c){const f=Math.ceil(s/e);return this.Ln!==null&&this.Ln.Cu===f&&c===this.Ln.yu&&l===this.Ln.ku||(this.Ln={yu:c,ku:l,Vl:this.Pu(f,l,u),Cu:f}),this.Ln.Vl}Su(e){if(e===0)return void this.wu.clear();const s=[];this.wu.forEach(((l,u)=>{e<=l[0].index?s.push(u):l.splice(mn(l,e,(c=>c.index<e)),1/0)}));for(const l of s)this.wu.delete(l)}Pu(e,s,l){let u=[];const c=f=>!s||l.has(f.index);for(const f of Array.from(this.wu.keys()).sort(((m,p)=>p-m))){if(!this.wu.get(f))continue;const m=u;u=[];const p=m.length;let d=0;const x=ve(this.wu.get(f)),y=x.length;let S=1/0,_=-1/0;for(let w=0;w<y;w++){const A=x[w],L=A.index;for(;d<p;){const D=m[d],V=D.index;if(!(V<L&&c(D))){S=V;break}d++,u.push(D),_=V,S=1/0}if(S-L>=e&&L-_>=e&&c(A))u.push(A),_=L;else if(this.gu)return m}for(;d<p;d++)c(m[d])&&u.push(m[d])}return u}}class dn{constructor(e){this.Tu=e}Ru(){return this.Tu===null?null:new fn(Math.floor(this.Tu.Aa()),Math.ceil(this.Tu.bi()))}Du(){return this.Tu}static Iu(){return new dn(null)}}function rS(a,e){return a.weight>e.weight?a:e}class uS{constructor(e,s,l,u){this.S_=0,this.Vu=null,this.Bu=[],this.bo=null,this.Mo=null,this.Eu=new aS,this.Au=new Map,this.Lu=dn.Iu(),this.zu=!0,this.Ou=new kt,this.Nu=new kt,this.Fu=new kt,this.Wu=null,this.Hu=null,this.Uu=new Map,this.$u=-1,this.qu=[],this.ju=1,this.Ps=s,this.yo=l,this.Yu=s.rightOffset,this.Ku=s.barSpacing,this.ns=e,this.Zu(s),this.cu=u,this.Gu(),this.Eu.Mu(s.uniformDistribution),this.Xu(),this.Ju()}N(){return this.Ps}Qu(e){Ce(this.yo,e),this.tc(),this.Gu()}cr(e,s){Ce(this.Ps,e),this.Ps.fixLeftEdge&&this.sc(),this.Ps.fixRightEdge&&this.nc(),e.barSpacing!==void 0&&this.ns.gn(e.barSpacing),e.rightOffset!==void 0&&this.ns.Mn(e.rightOffset),this.Zu(e),e.minBarSpacing===void 0&&e.maxBarSpacing===void 0||this.ns.gn(e.barSpacing??this.Ku),e.ignoreWhitespaceIndices!==void 0&&e.ignoreWhitespaceIndices!==this.Ps.ignoreWhitespaceIndices&&this.Ju(),this.tc(),this.Gu(),e.enableConflation===void 0&&e.conflationThresholdFactor===void 0||this.Xu(),this.Fu.p()}Is(e){return this.Bu[e]?.time??null}es(e){return this.Bu[e]??null}ec(e,s){if(this.Bu.length<1)return null;if(this.cu.key(e)>this.cu.key(this.Bu[this.Bu.length-1].time))return s?this.Bu.length-1:null;const l=mn(this.Bu,this.cu.key(e),((u,c)=>this.cu.key(u.time)<c));return this.cu.key(e)<this.cu.key(this.Bu[l].time)?s?l:null:l}Gi(){return this.S_===0||this.Bu.length===0||this.Vu===null}rc(){return this.Bu.length>0}Ie(){return this.hc(),this.Lu.Ru()}ac(){return this.hc(),this.Lu.Du()}lc(){const e=this.Ie();if(e===null)return null;const s={from:e.Aa(),to:e.bi()};return this.oc(s)}oc(e){const s=Math.round(e.from),l=Math.round(e.to),u=X(this._c()),c=X(this.uc());return{from:X(this.es(Math.max(u,s))),to:X(this.es(Math.min(c,l)))}}cc(e){return{from:X(this.ec(e.from,!0)),to:X(this.ec(e.to,!0))}}ss(){return this.S_}L_(e){if(!isFinite(e)||e<=0||this.S_===e)return;const s=this.ac(),l=this.S_;if(this.S_=e,this.zu=!0,this.Ps.lockVisibleTimeRangeOnResize&&l!==0){const u=this.Ku*e/l;this.Ku=u}if(this.Ps.fixLeftEdge&&s!==null&&s.Aa()<=0){const u=l-e;this.Yu-=Math.round(u/this.Ku)+1,this.zu=!0}this.dc(),this.fc()}qt(e){if(this.Gi()||!Nl(e))return 0;const s=this.vc()+this.Yu-e;return this.S_-(s+.5)*this.Ku-1}mc(e,s){const l=this.vc(),u=s===void 0?0:s.from,c=s===void 0?e.length:s.to;for(let f=u;f<c;f++){const m=e[f].wt,p=l+this.Yu-m,d=this.S_-(p+.5)*this.Ku-1;e[f]._t=d}}wc(e,s){const l=Math.ceil(this.gc(e));return s&&this.Ps.ignoreWhitespaceIndices&&!this.Mc(l)?this.bc(l):l}Mn(e){this.zu=!0,this.Yu=e,this.fc(),this.ns.Sc(),this.ns.dr()}ul(){return this.Ku}gn(e){const s=this.Ku;if(this.xc(e),this.Ps.rightOffsetPixels!==void 0&&s!==0){const l=this.Yu*s/this.Ku;this.Yu=l}this.fc(),this.ns.Sc(),this.ns.dr()}Cc(){return this.Yu}Vl(){if(this.Gi())return null;if(this.Hu!==null)return this.Hu;const e=this.Ku,s=5*(this.ns.N().layout.fontSize+4)/8*(this.Ps.tickMarkMaxCharacterLength||8),l=Math.round(s/e),u=X(this.Ie()),c=Math.max(u.Aa(),u.Aa()-l),f=Math.max(u.bi(),u.bi()-l),m=this.Eu.xu(e,s,this.Ps.ignoreWhitespaceIndices,this.Uu,this.$u),p=this._c()+l,d=this.uc()-l,x=this.yc(),y=this.Ps.fixLeftEdge||x,S=this.Ps.fixRightEdge||x;let _=0;for(const w of m){if(!(c<=w.index&&w.index<=f))continue;let A;_<this.qu.length?(A=this.qu[_],A.coord=this.qt(w.index),A.label=this.kc(w),A.weight=w.weight):(A={needAlignCoordinate:!1,coord:this.qt(w.index),label:this.kc(w),weight:w.weight},this.qu.push(A)),this.Ku>s/2&&!x?A.needAlignCoordinate=!1:A.needAlignCoordinate=y&&w.index<=p||S&&w.index>=d,_++}return this.qu.length=_,this.Hu=this.qu,this.qu}Pc(){let e;this.zu=!0,this.gn(this.Ps.barSpacing),e=this.Ps.rightOffsetPixels!==void 0?this.Ps.rightOffsetPixels/this.ul():this.Ps.rightOffset,this.Mn(e)}Tc(e){this.zu=!0,this.Vu=e,this.fc(),this.sc()}Rc(e,s){const l=this.gc(e),u=this.ul(),c=u+s*(u/10);this.gn(c),this.Ps.rightBarStaysOnScroll||this.Mn(this.Cc()+(l-this.gc(e)))}h_(e){this.bo&&this.u_(),this.Mo===null&&this.Wu===null&&(this.Gi()||(this.Mo=e,this.Dc()))}a_(e){if(this.Wu===null)return;const s=xl(this.S_-e,0,this.S_),l=xl(this.S_-X(this.Mo),0,this.S_);s!==0&&l!==0&&this.gn(this.Wu.ul*s/l)}l_(){this.Mo!==null&&(this.Mo=null,this.Ic())}o_(e){this.bo===null&&this.Wu===null&&(this.Gi()||(this.bo=e,this.Dc()))}__(e){if(this.bo===null)return;const s=(this.bo-e)/this.ul();this.Yu=X(this.Wu).Cc+s,this.zu=!0,this.fc()}u_(){this.bo!==null&&(this.bo=null,this.Ic())}Vc(){this.Bc(this.Ps.rightOffset)}Bc(e,s=400){if(!isFinite(e))throw new RangeError("offset is required and must be finite number");if(!isFinite(s)||s<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const l=this.Yu,u=performance.now();this.ns.vn({Ec:c=>(c-u)/s>=1,Ac:c=>{const f=(c-u)/s;return f>=1?e:l+(e-l)*f}})}kt(e,s){this.zu=!0,this.Bu=e,this.Eu.bu(e,s),this.fc()}Lc(){return this.Ou}zc(){return this.Nu}Oc(){return this.Fu}vc(){return this.Vu||0}Nc(e,s){const l=e.mu(),u=s&&this.Ps.rightOffsetPixels||0;this.xc((this.S_-u)/l),this.Yu=e.bi()-this.vc(),s&&(this.Yu=u?u/this.ul():this.Ps.rightOffset),this.fc(),this.zu=!0,this.ns.Sc(),this.ns.dr()}Fc(){const e=this._c(),s=this.uc();if(e===null||s===null)return;const l=!this.Ps.rightOffsetPixels&&this.Ps.rightOffset||0;this.Nc(new fn(e,s+l),!0)}Wc(e){const s=new fn(e.from,e.to);this.Nc(s)}rs(e){return this.yo.timeFormatter!==void 0?this.yo.timeFormatter(e.originalTime):this.cu.formatHorzItem(e.time)}Ju(){if(!this.Ps.ignoreWhitespaceIndices)return;this.Uu.clear();const e=this.ns.tn();for(const s of e)for(const l of s.ll())this.Uu.set(l,!0);this.$u++}Hc(){return this.ju}vl(){const e=1/(window.devicePixelRatio||1),s=this.Ps.minBarSpacing;if(s>=e)return[1];const l=[1];let u=2;for(;u<=512;)s<e/u&&l.push(u),u*=2;return l}yc(){const e=this.ns.N().handleScroll,s=this.ns.N().handleScale;return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||s.axisDoubleClickReset.time||s.axisPressedMouseMove.time||s.mouseWheel||s.pinch)}_c(){return this.Bu.length===0?null:0}uc(){return this.Bu.length===0?null:this.Bu.length-1}Uc(e){return(this.S_-1-e)/this.Ku}gc(e){const s=this.Uc(e),l=this.vc()+this.Yu-s;return Math.round(1e6*l)/1e6}xc(e){const s=this.Ku;this.Ku=e,this.dc(),s!==this.Ku&&(this.zu=!0,this.$c(),this.Xu())}hc(){if(!this.zu)return;if(this.zu=!1,this.Gi())return void this.qc(dn.Iu());const e=this.vc(),s=this.S_/this.Ku,l=this.Yu+e,u=new fn(l-s+1,l);this.qc(new dn(u))}dc(){const e=xl(this.Ku,this.jc(),this.Yc());this.Ku!==e&&(this.Ku=e,this.zu=!0)}Yc(){return this.Ps.maxBarSpacing>0?this.Ps.maxBarSpacing:.5*this.S_}jc(){return this.Ps.fixLeftEdge&&this.Ps.fixRightEdge&&this.Bu.length!==0?this.S_/this.Bu.length:this.Ps.minBarSpacing}Xu(){if(!this.Ps.enableConflation)return void(this.ju=1);const e=1/(window.devicePixelRatio||1)*(this.Ps.conflationThresholdFactor??1);if(this.Ku>=e)return void(this.ju=1);const s=e/this.Ku,l=Math.pow(2,Math.floor(Math.log2(s)));this.ju=Math.min(l,512)}fc(){const e=this.Kc();e!==null&&this.Yu<e&&(this.Yu=e,this.zu=!0);const s=this.Zc();this.Yu>s&&(this.Yu=s,this.zu=!0)}Kc(){const e=this._c(),s=this.Vu;return e===null||s===null?null:e-s-1+(this.Ps.fixLeftEdge?this.S_/this.Ku:Math.min(2,this.Bu.length))}Zc(){return this.Ps.fixRightEdge?0:this.S_/this.Ku-Math.min(2,this.Bu.length)}Dc(){this.Wu={ul:this.ul(),Cc:this.Cc()}}Ic(){this.Wu=null}kc(e){let s=this.Au.get(e.weight);return s===void 0&&(s=new lS((l=>this.Gc(l)),this.cu),this.Au.set(e.weight,s)),s.du(e)}Gc(e){return this.cu.formatTickmark(e,this.yo)}qc(e){const s=this.Lu;this.Lu=e,D0(s.Ru(),this.Lu.Ru())||this.Ou.p(),D0(s.Du(),this.Lu.Du())||this.Nu.p(),this.$c()}$c(){this.Hu=null}tc(){this.$c(),this.Au.clear()}Gu(){this.cu.updateFormatter(this.yo)}sc(){if(!this.Ps.fixLeftEdge)return;const e=this._c();if(e===null)return;const s=this.Ie();if(s===null)return;const l=s.Aa()-e;if(l<0){const u=this.Yu-l-1;this.Mn(u)}this.dc()}nc(){this.fc(),this.dc()}Mc(e){return!this.Ps.ignoreWhitespaceIndices||this.Uu.get(e)||!1}bc(e){const s=(function*(u){const c=Math.round(u),f=c<u;let m=1;for(;;)f?(yield c+m,yield c-m):(yield c-m,yield c+m),m++})(e),l=this.uc();for(;l;){const u=s.next().value;if(this.Uu.get(u))return u;if(u<0||u>l)break}return e}Zu(e){if(e.rightOffsetPixels!==void 0){const s=e.rightOffsetPixels/(e.barSpacing||this.Ku);this.ns.Mn(s)}}}var O0,L0,U0,B0,H0;(function(a){a[a.OnTouchEnd=0]="OnTouchEnd",a[a.OnNextTap=1]="OnNextTap"})(O0||(O0={}));class hS{constructor(e,s,l){this.Xc=[],this.Jc=[],this.Qc=null,this.S_=0,this.td=null,this.sd=new kt,this.nd=new kt,this.ed=null,this.rd=e,this.Ps=s,this.cu=l,this.ko=new l1(this.Ps.layout.colorParsers),this.hd=new n1(this),this.Jh=new uS(this,s.timeScale,this.Ps.localization,l),this.Ct=new v1(this,s.crosshair),this.ad=new F1(s.crosshair),s.addDefaultPane&&(this.ld(0),this.Xc[0].A_(2)),this.od=this._d(0),this.ud=this._d(1)}Ca(){this.dd(ee.yn())}dr(){this.dd(ee.Cn())}Ua(){this.dd(new ee(1))}ya(e){const s=this.fd(e);this.dd(s)}pd(){return this.td}vd(e){if(this.td?.hu===e?.hu&&this.td?.au?.te===e?.au?.te)return;const s=this.td;this.td=e,s!==null&&this.ya(s.hu),e!==null&&e.hu!==s?.hu&&this.ya(e.hu)}N(){return this.Ps}cr(e){Ce(this.Ps,e),this.Xc.forEach((s=>s.I_(e))),e.timeScale!==void 0&&this.Jh.cr(e.timeScale),e.localization!==void 0&&this.Jh.Qu(e.localization),(e.leftPriceScale||e.rightPriceScale)&&this.sd.p(),this.od=this._d(0),this.ud=this._d(1),this.Ca()}md(e,s,l=0){const u=this.Xc[l];if(u===void 0)return;if(e==="left")return Ce(this.Ps,{leftPriceScale:s}),u.I_({leftPriceScale:s}),this.sd.p(),void this.Ca();if(e==="right")return Ce(this.Ps,{rightPriceScale:s}),u.I_({rightPriceScale:s}),this.sd.p(),void this.Ca();const c=this.wd(e,l);c!==null&&(c.Ft.cr(s),this.sd.p())}wd(e,s){const l=this.Xc[s];if(l===void 0)return null;const u=l.V_(e);return u!==null?{Gs:l,Ft:u}:null}Et(){return this.Jh}Xs(){return this.Xc}gd(){return this.Ct}Md(){return this.nd}bd(e,s){e.No(s),this.Sc()}L_(e){this.S_=e,this.Jh.L_(this.S_),this.Xc.forEach((s=>s.L_(e))),this.Sc()}Sd(e){this.Xc.length!==1&&(ie(e>=0&&e<this.Xc.length,"Invalid pane index"),this.Xc.splice(e,1),this.Ca())}xd(e,s){if(this.Xc.length<2)return;ie(e>=0&&e<this.Xc.length,"Invalid pane index");const l=this.Xc[e],u=this.Xc.reduce(((y,S)=>y+S.E_()),0),c=this.Xc.reduce(((y,S)=>y+S.$t()),0),f=c-30*(this.Xc.length-1);s=Math.min(f,Math.max(30,s));const m=u/c,p=l.$t();l.A_(s*m);let d=s-p,x=this.Xc.length-1;for(const y of this.Xc)if(y!==l){const S=Math.min(f,Math.max(30,y.$t()-d/x));d-=y.$t()-S,x-=1;const _=S*m;y.A_(_)}this.Ca()}Cd(e,s){ie(e>=0&&e<this.Xc.length&&s>=0&&s<this.Xc.length,"Invalid pane index");const l=this.Xc[e],u=this.Xc[s];this.Xc[e]=u,this.Xc[s]=l,this.Ca()}yd(e,s){if(ie(e>=0&&e<this.Xc.length&&s>=0&&s<this.Xc.length,"Invalid pane index"),e===s)return;const[l]=this.Xc.splice(e,1);this.Xc.splice(s,0,l),this.Ca()}j_(e,s,l){e.j_(s,l)}Y_(e,s,l){e.Y_(s,l),this.ka(),this.dd(this.kd(e,2))}K_(e,s){e.K_(s),this.dd(this.kd(e,2))}Z_(e,s,l){s.Vo()||e.Z_(s,l)}G_(e,s,l){s.Vo()||(e.G_(s,l),this.ka(),this.dd(this.kd(e,2)))}X_(e,s){s.Vo()||(e.X_(s),this.dd(this.kd(e,2)))}Q_(e,s){e.Q_(s),this.dd(this.kd(e,2))}Pd(e){this.Jh.h_(e)}Td(e,s){const l=this.Et();if(l.Gi()||s===0)return;const u=l.ss();e=Math.max(1,Math.min(e,u)),l.Rc(e,s),this.Sc()}Rd(e){this.Dd(0),this.Id(e),this.Vd()}Bd(e){this.Jh.a_(e),this.Sc()}Ed(){this.Jh.l_(),this.dr()}Dd(e){this.Jh.o_(e)}Id(e){this.Jh.__(e),this.Sc()}Vd(){this.Jh.u_(),this.dr()}tn(){return this.Jc}Us(){return this.Qc===null&&(this.Qc=this.Jc.filter((e=>e.It()))),this.Qc}xa(){this.Qc=null}Ad(e,s,l,u,c){this.Ct.Bs(e,s);let f=NaN,m=this.Jh.wc(e,!0);const p=this.Jh.Ie();p!==null&&(m=Math.min(Math.max(p.Aa(),m),p.bi())),m=this.Ct.Hs(m);const d=u.Rs(),x=d.Lt();if(x!==null&&(f=d.Ds(s,x)),f=this.ad.bl(f,m,u),this.Ct.zs(m,f,u),this.Ua(),!c){const y=lg(u,e,s);this.vd(y&&{hu:y.hu,au:y.au,ou:y.ou||null}),this.nd.p(this.Ct.Bt(),{x:e,y:s},l)}}Ld(e,s,l){const u=l.Rs(),c=u.Lt(),f=u.Nt(e,X(c)),m=this.Jh.ec(s,!0),p=this.Jh.qt(X(m));this.Ad(p,f,null,l,!0)}zd(e){this.gd().Ns(),this.Ua(),e||this.nd.p(null,null,null)}ka(){const e=this.Ct.Gs();if(e!==null){const s=this.Ct.As(),l=this.Ct.Ls();this.Ad(s,l,null,e)}this.Ct.Ws()}Od(e,s,l){const u=this.Jh.Is(0);s!==void 0&&l!==void 0&&this.Jh.kt(s,l);const c=this.Jh.Is(0),f=this.Jh.vc(),m=this.Jh.Ie();if(m!==null&&u!==null&&c!==null){const p=m.Ee(f),d=this.cu.key(u)>this.cu.key(c),x=e!==null&&e>f&&!d,y=this.Jh.N().allowShiftVisibleRangeOnWhitespaceReplacement,S=p&&(l!==void 0||y)&&this.Jh.N().shiftVisibleRangeOnNewBar;if(x&&!S){const _=e-f;this.Jh.Mn(this.Jh.Cc()-_)}}this.Jh.Tc(e)}Ra(e){e!==null&&e.iu()}Kn(e){if((function(l){return l instanceof A0})(e))return e;const s=this.Xc.find((l=>l.Dt().includes(e)));return s===void 0?null:s}Sc(){this.Xc.forEach((e=>e.iu())),this.ka()}m(){this.Xc.forEach((e=>e.m())),this.Xc.length=0,this.Ps.localization.priceFormatter=void 0,this.Ps.localization.percentageFormatter=void 0,this.Ps.localization.timeFormatter=void 0}Nd(){return this.hd}Jn(){return this.hd.N()}B_(){return this.sd}Fd(e,s){const l=this.ld(s);this.Wd(e,l),this.Jc.push(e),this.xa(),this.Jc.length===1?this.Ca():this.dr()}Hd(e){const s=this.Kn(e),l=this.Jc.indexOf(e);ie(l!==-1,"Series not found");const u=X(s);this.Jc.splice(l,1),u.n_(e),e.m&&e.m(),this.xa(),this.Jh.Ju(),this.Ud(u)}Sa(e,s){const l=X(this.Kn(e));l.n_(e,!0),l.i_(e,s,!0)}Fc(){const e=ee.Cn();e.cn(),this.dd(e)}$d(e){const s=ee.Cn();s.pn(e),this.dd(s)}wn(){const e=ee.Cn();e.wn(),this.dd(e)}gn(e){const s=ee.Cn();s.gn(e),this.dd(s)}Mn(e){const s=ee.Cn();s.Mn(e),this.dd(s)}vn(e){const s=ee.Cn();s.vn(e),this.dd(s)}dn(){const e=ee.Cn();e.dn(),this.dd(e)}qd(){return this.Ps.rightPriceScale.visible?"right":"left"}jd(e,s){if(ie(s>=0,"Index should be greater or equal to 0"),s===this.Yd(e))return;const l=X(this.Kn(e));l.n_(e);const u=this.ld(s);this.Wd(e,u),l.Sl().length===0&&this.Ud(l),this.Ca()}Kd(){return this.ud}$(){return this.od}Ut(e){const s=this.ud,l=this.od;if(s===l)return s;if(e=Math.max(0,Math.min(100,Math.round(100*e))),this.ed===null||this.ed.eh!==l||this.ed.rh!==s)this.ed={eh:l,rh:s,Zd:new Map};else{const c=this.ed.Zd.get(e);if(c!==void 0)return c}const u=this.ko.tt(l,s,e/100);return this.ed.Zd.set(e,u),u}Gd(e){return this.Xc.indexOf(e)}Xi(){return this.ko}Xd(){return this.Jd()}Jd(e){const s=new A0(this.Jh,this);this.Xc.push(s);const l=e??this.Xc.length-1,u=ee.yn();return u.hn(l,{an:0,ln:!0}),this.dd(u),s}ld(e){return ie(e>=0,"Index should be greater or equal to 0"),(e=Math.min(this.Xc.length,e))<this.Xc.length?this.Xc[e]:this.Jd(e)}Yd(e){return this.Xc.findIndex((s=>s.F_().includes(e)))}kd(e,s){const l=new ee(s);if(e!==null){const u=this.Xc.indexOf(e);l.hn(u,{an:s})}return l}fd(e,s){return s===void 0&&(s=2),this.kd(this.Kn(e),s)}dd(e){this.rd&&this.rd(e),this.Xc.forEach((s=>s.eu().pr().kt()))}Wd(e,s){const l=e.N().priceScaleId,u=l!==void 0?l:this.qd();s.i_(e,u),Sr(u)||e.cr(e.N())}_d(e){const s=this.Ps.layout;return s.background.type==="gradient"?e===0?s.background.topColor:s.background.bottomColor:s.background.color}Ud(e){!e.N_()&&e.Sl().length===0&&this.Xc.length>1&&this.Xc.splice(this.Gd(e),1)}}function ag(a){if(a>=1)return 0;let e=0;for(;e<8;e++){const s=Math.round(a);if(Math.abs(s-a)<1e-8)return e;a*=10}return e}function _c(a){return!ys(a)&&!Rl(a)}function rg(a){return ys(a)}(function(a){a[a.Disabled=0]="Disabled",a[a.Continuous=1]="Continuous",a[a.OnDataUpdate=2]="OnDataUpdate"})(L0||(L0={})),(function(a){a[a.LastBar=0]="LastBar",a[a.LastVisible=1]="LastVisible"})(U0||(U0={})),(function(a){a.Solid="solid",a.VerticalGradient="gradient"})(B0||(B0={})),(function(a){a[a.Year=0]="Year",a[a.Month=1]="Month",a[a.DayOfMonth=2]="DayOfMonth",a[a.Time=3]="Time",a[a.TimeWithSeconds=4]="TimeWithSeconds"})(H0||(H0={}));const Y0=a=>a.getUTCFullYear();function cS(a,e,s){return e.replace(/yyyy/g,(l=>gi(Y0(l),4))(a)).replace(/yy/g,(l=>gi(Y0(l)%100,2))(a)).replace(/MMMM/g,((l,u)=>new Date(l.getUTCFullYear(),l.getUTCMonth(),1).toLocaleString(u,{month:"long"}))(a,s)).replace(/MMM/g,((l,u)=>new Date(l.getUTCFullYear(),l.getUTCMonth(),1).toLocaleString(u,{month:"short"}))(a,s)).replace(/MM/g,(l=>gi((u=>u.getUTCMonth()+1)(l),2))(a)).replace(/dd/g,(l=>gi((u=>u.getUTCDate())(l),2))(a))}class ug{constructor(e="yyyy-MM-dd",s="default"){this.Qd=e,this.tf=s}du(e){return cS(e,this.Qd,this.tf)}}class oS{constructor(e){this.if=e||"%h:%m:%s"}du(e){return this.if.replace("%h",gi(e.getUTCHours(),2)).replace("%m",gi(e.getUTCMinutes(),2)).replace("%s",gi(e.getUTCSeconds(),2))}}const fS={sf:"yyyy-MM-dd",nf:"%h:%m:%s",ef:" ",rf:"default"};class dS{constructor(e={}){const s={...fS,...e};this.hf=new ug(s.sf,s.rf),this.af=new oS(s.nf),this.lf=s.ef}du(e){return`${this.hf.du(e)}${this.lf}${this.af.du(e)}`}}function ir(a){return 60*a*60*1e3}function lc(a){return 60*a*1e3}const sr=[{_f:(V0=1,1e3*V0),uf:10},{_f:lc(1),uf:20},{_f:lc(5),uf:21},{_f:lc(30),uf:22},{_f:ir(1),uf:30},{_f:ir(3),uf:31},{_f:ir(6),uf:32},{_f:ir(12),uf:33}];var V0;function q0(a,e){if(a.getUTCFullYear()!==e.getUTCFullYear())return 70;if(a.getUTCMonth()!==e.getUTCMonth())return 60;if(a.getUTCDate()!==e.getUTCDate())return 50;for(let s=sr.length-1;s>=0;--s)if(Math.floor(e.getTime()/sr[s]._f)!==Math.floor(a.getTime()/sr[s]._f))return sr[s].uf;return 0}function ac(a){let e=a;if(Rl(a)&&(e=kc(a)),!_c(e))throw new Error("time must be of type BusinessDay");const s=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{cf:Math.round(s.getTime()/1e3),df:e}}function k0(a){if(!rg(a))throw new Error("time must be of type isUTCTimestamp");return{cf:a}}function kc(a){const e=new Date(a);if(isNaN(e.getTime()))throw new Error(`Invalid date string=${a}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function G0(a){Rl(a.time)&&(a.time=kc(a.time))}class X0{options(){return this.Ps}setOptions(e){this.Ps=e,this.updateFormatter(e.localization)}preprocessData(e){Array.isArray(e)?(function(s){s.forEach(G0)})(e):G0(e)}createConverterToInternalObj(e){return X((function(s){return s.length===0?null:_c(s[0].time)||Rl(s[0].time)?ac:k0})(e))}key(e){return typeof e=="object"&&"cf"in e?e.cf:this.key(this.convertHorzItemToInternal(e))}cacheKey(e){const s=e;return s.df===void 0?new Date(1e3*s.cf).getTime():new Date(Date.UTC(s.df.year,s.df.month-1,s.df.day)).getTime()}convertHorzItemToInternal(e){return rg(s=e)?k0(s):_c(s)?ac(s):ac(kc(s));var s}updateFormatter(e){if(!this.Ps)return;const s=e.dateFormat;this.Ps.timeScale.timeVisible?this.ff=new dS({sf:s,nf:this.Ps.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",ef:"   ",rf:e.locale}):this.ff=new ug(s,e.locale)}formatHorzItem(e){const s=e;return this.ff.du(new Date(1e3*s.cf))}formatTickmark(e,s){const l=(function(c,f,m){switch(c){case 0:case 10:return f?m?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return f?3:2;case 50:return 2;case 60:return 1;case 70:return 0}})(e.weight,this.Ps.timeScale.timeVisible,this.Ps.timeScale.secondsVisible),u=this.Ps.timeScale;if(u.tickMarkFormatter!==void 0){const c=u.tickMarkFormatter(e.originalTime,l,s.locale);if(c!==null)return c}return(function(c,f,m){const p={};switch(f){case 0:p.year="numeric";break;case 1:p.month="short";break;case 2:p.day="numeric";break;case 3:p.hour12=!1,p.hour="2-digit",p.minute="2-digit";break;case 4:p.hour12=!1,p.hour="2-digit",p.minute="2-digit",p.second="2-digit"}const d=c.df===void 0?new Date(1e3*c.cf):new Date(Date.UTC(c.df.year,c.df.month-1,c.df.day));return new Date(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()).toLocaleString(m,p)})(e.time,l,s.locale)}maxTickMarkWeight(e){let s=e.reduce(rS,e[0]).weight;return s>30&&s<50&&(s=30),s}fillWeightsForPoints(e,s){(function(l,u=0){if(l.length===0)return;let c=u===0?null:l[u-1].time.cf,f=c!==null?new Date(1e3*c):null,m=0;for(let p=u;p<l.length;++p){const d=l[p],x=new Date(1e3*d.time.cf);f!==null&&(d.timeWeight=q0(x,f)),m+=d.time.cf-(c||d.time.cf),c=d.time.cf,f=x}if(u===0&&l.length>1){const p=Math.ceil(m/(l.length-1)),d=new Date(1e3*(l[0].time.cf-p));l[0].timeWeight=q0(new Date(1e3*l[0].time.cf),d)}})(e,s)}static pf(e){return Ce({localization:{dateFormat:"dd MMM 'yy"}},e??{})}}const pn=typeof window<"u";function Q0(){return!!pn&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function rc(){return!!pn&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function Nc(a){return a+a%2}function mS(a){pn&&window.chrome!==void 0&&a.addEventListener("mousedown",(e=>{if(e.button===1)return e.preventDefault(),!1}))}class _r{constructor(e,s,l){this.vf=0,this.mf=null,this.wf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.gf=0,this.Mf=null,this.bf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.Sf=null,this.xf=!1,this.Cf=null,this.yf=null,this.kf=!1,this.Pf=!1,this.Tf=!1,this.Rf=null,this.Df=null,this.If=null,this.Vf=null,this.Bf=null,this.Ef=null,this.Af=null,this.Lf=0,this.zf=!1,this.Of=!1,this.Nf=!1,this.Ff=0,this.Wf=null,this.Hf=!rc(),this.Uf=u=>{this.$f(u)},this.qf=u=>{if(this.jf(u)){const c=this.Yf(u);if(++this.gf,this.Mf&&this.gf>1){const{Kf:f}=this.Zf(Fe(u),this.bf);f<30&&!this.Tf&&this.Gf(c,this.Jf.Xf),this.Qf()}}else{const c=this.Yf(u);if(++this.vf,this.mf&&this.vf>1){const{Kf:f}=this.Zf(Fe(u),this.wf);f<5&&!this.Pf&&this.tp(c,this.Jf.ip),this.sp()}}},this.np=e,this.Jf=s,this.Ps=l,this.ep()}m(){this.Rf!==null&&(this.Rf(),this.Rf=null),this.Df!==null&&(this.Df(),this.Df=null),this.Vf!==null&&(this.Vf(),this.Vf=null),this.Bf!==null&&(this.Bf(),this.Bf=null),this.Ef!==null&&(this.Ef(),this.Ef=null),this.If!==null&&(this.If(),this.If=null),this.rp(),this.sp()}hp(e){this.Vf&&this.Vf();const s=this.ap.bind(this);if(this.Vf=()=>{this.np.removeEventListener("mousemove",s)},this.np.addEventListener("mousemove",s),this.jf(e))return;const l=this.Yf(e);this.tp(l,this.Jf.lp),this.Hf=!0}sp(){this.mf!==null&&clearTimeout(this.mf),this.vf=0,this.mf=null,this.wf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}Qf(){this.Mf!==null&&clearTimeout(this.Mf),this.gf=0,this.Mf=null,this.bf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}ap(e){if(this.Nf||this.yf!==null||this.jf(e))return;const s=this.Yf(e);this.tp(s,this.Jf.op),this.Hf=!0}_p(e){const s=uc(e.changedTouches,X(this.Wf));if(s===null||(this.Ff=nr(e),this.Af!==null)||this.Of)return;this.zf=!0;const l=this.Zf(Fe(s),X(this.yf)),{up:u,cp:c,Kf:f}=l;if(this.kf||!(f<5)){if(!this.kf){const m=.5*u,p=c>=m&&!this.Ps.dp(),d=m>c&&!this.Ps.fp();p||d||(this.Of=!0),this.kf=!0,this.Tf=!0,this.rp(),this.Qf()}if(!this.Of){const m=this.Yf(e,s);this.Gf(m,this.Jf.pp),rn(e)}}}vp(e){if(e.button!==0)return;const s=this.Zf(Fe(e),X(this.Cf)),{Kf:l}=s;if(l>=5&&(this.Pf=!0,this.sp()),this.Pf){const u=this.Yf(e);this.tp(u,this.Jf.mp)}}Zf(e,s){const l=Math.abs(s._t-e._t),u=Math.abs(s.ut-e.ut);return{up:l,cp:u,Kf:l+u}}wp(e){let s=uc(e.changedTouches,X(this.Wf));if(s===null&&e.touches.length===0&&(s=e.changedTouches[0]),s===null)return;this.Wf=null,this.Ff=nr(e),this.rp(),this.yf=null,this.Ef&&(this.Ef(),this.Ef=null);const l=this.Yf(e,s);if(this.Gf(l,this.Jf.gp),++this.gf,this.Mf&&this.gf>1){const{Kf:u}=this.Zf(Fe(s),this.bf);u<30&&!this.Tf&&this.Gf(l,this.Jf.Xf),this.Qf()}else this.Tf||(this.Gf(l,this.Jf.Mp),this.Jf.Mp&&rn(e));this.gf===0&&rn(e),e.touches.length===0&&this.xf&&(this.xf=!1,rn(e))}$f(e){if(e.button!==0)return;const s=this.Yf(e);if(this.Cf=null,this.Nf=!1,this.Bf&&(this.Bf(),this.Bf=null),Q0()&&this.np.ownerDocument.documentElement.removeEventListener("mouseleave",this.Uf),!this.jf(e))if(this.tp(s,this.Jf.bp),++this.vf,this.mf&&this.vf>1){const{Kf:l}=this.Zf(Fe(e),this.wf);l<5&&!this.Pf&&this.tp(s,this.Jf.ip),this.sp()}else this.Pf||this.tp(s,this.Jf.Sp)}rp(){this.Sf!==null&&(clearTimeout(this.Sf),this.Sf=null)}xp(e){if(this.Wf!==null)return;const s=e.changedTouches[0];this.Wf=s.identifier,this.Ff=nr(e);const l=this.np.ownerDocument.documentElement;this.Tf=!1,this.kf=!1,this.Of=!1,this.yf=Fe(s),this.Ef&&(this.Ef(),this.Ef=null);{const c=this._p.bind(this),f=this.wp.bind(this);this.Ef=()=>{l.removeEventListener("touchmove",c),l.removeEventListener("touchend",f)},l.addEventListener("touchmove",c,{passive:!1}),l.addEventListener("touchend",f,{passive:!1}),this.rp(),this.Sf=setTimeout(this.Cp.bind(this,e),240)}const u=this.Yf(e,s);this.Gf(u,this.Jf.yp),this.Mf||(this.gf=0,this.Mf=setTimeout(this.Qf.bind(this),500),this.bf=Fe(s))}kp(e){if(e.button!==0)return;const s=this.np.ownerDocument.documentElement;Q0()&&s.addEventListener("mouseleave",this.Uf),this.Pf=!1,this.Cf=Fe(e),this.Bf&&(this.Bf(),this.Bf=null);{const u=this.vp.bind(this),c=this.$f.bind(this);this.Bf=()=>{s.removeEventListener("mousemove",u),s.removeEventListener("mouseup",c)},s.addEventListener("mousemove",u),s.addEventListener("mouseup",c)}if(this.Nf=!0,this.jf(e))return;const l=this.Yf(e);this.tp(l,this.Jf.Pp),this.mf||(this.vf=0,this.mf=setTimeout(this.sp.bind(this),500),this.wf=Fe(e))}ep(){this.np.addEventListener("mouseenter",this.hp.bind(this)),this.np.addEventListener("touchcancel",this.rp.bind(this));{const e=this.np.ownerDocument,s=l=>{this.Jf.Tp&&(l.composed&&this.np.contains(l.composedPath()[0])||l.target&&this.np.contains(l.target)||this.Jf.Tp())};this.Df=()=>{e.removeEventListener("touchstart",s)},this.Rf=()=>{e.removeEventListener("mousedown",s)},e.addEventListener("mousedown",s),e.addEventListener("touchstart",s,{passive:!0})}rc()&&(this.If=()=>{this.np.removeEventListener("dblclick",this.qf)},this.np.addEventListener("dblclick",this.qf)),this.np.addEventListener("mouseleave",this.Rp.bind(this)),this.np.addEventListener("touchstart",this.xp.bind(this),{passive:!0}),mS(this.np),this.np.addEventListener("mousedown",this.kp.bind(this)),this.Dp(),this.np.addEventListener("touchmove",(()=>{}),{passive:!1})}Dp(){this.Jf.Ip===void 0&&this.Jf.Vp===void 0&&this.Jf.Bp===void 0||(this.np.addEventListener("touchstart",(e=>this.Ep(e.touches)),{passive:!0}),this.np.addEventListener("touchmove",(e=>{if(e.touches.length===2&&this.Af!==null&&this.Jf.Vp!==void 0){const s=K0(e.touches[0],e.touches[1])/this.Lf;this.Jf.Vp(this.Af,s),rn(e)}}),{passive:!1}),this.np.addEventListener("touchend",(e=>{this.Ep(e.touches)})))}Ep(e){e.length===1&&(this.zf=!1),e.length!==2||this.zf||this.xf?this.Ap():this.Lp(e)}Lp(e){const s=this.np.getBoundingClientRect()||{left:0,top:0};this.Af={_t:(e[0].clientX-s.left+(e[1].clientX-s.left))/2,ut:(e[0].clientY-s.top+(e[1].clientY-s.top))/2},this.Lf=K0(e[0],e[1]),this.Jf.Ip!==void 0&&this.Jf.Ip(),this.rp()}Ap(){this.Af!==null&&(this.Af=null,this.Jf.Bp!==void 0&&this.Jf.Bp())}Rp(e){if(this.Vf&&this.Vf(),this.jf(e)||!this.Hf)return;const s=this.Yf(e);this.tp(s,this.Jf.zp),this.Hf=!rc()}Cp(e){const s=uc(e.touches,X(this.Wf));if(s===null)return;const l=this.Yf(e,s);this.Gf(l,this.Jf.Op),this.Tf=!0,this.xf=!0}jf(e){return e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents!==void 0?e.sourceCapabilities.firesTouchEvents:nr(e)<this.Ff+500}Gf(e,s){s&&s.call(this.Jf,e)}tp(e,s){s&&s.call(this.Jf,e)}Yf(e,s){const l=s||e,u=this.np.getBoundingClientRect()||{left:0,top:0};return{clientX:l.clientX,clientY:l.clientY,pageX:l.pageX,pageY:l.pageY,screenX:l.screenX,screenY:l.screenY,localX:l.clientX-u.left,localY:l.clientY-u.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,Np:!e.type.startsWith("mouse")&&e.type!=="contextmenu"&&e.type!=="click",Fp:e.type,Wp:l.target,_u:e.view,Hp:()=>{e.type!=="touchstart"&&rn(e)}}}}function K0(a,e){const s=a.clientX-e.clientX,l=a.clientY-e.clientY;return Math.sqrt(s*s+l*l)}function rn(a){a.cancelable&&a.preventDefault()}function Fe(a){return{_t:a.pageX,ut:a.pageY}}function nr(a){return a.timeStamp||performance.now()}function uc(a,e){for(let s=0;s<a.length;++s)if(a[s].identifier===e)return a[s];return null}class pS{constructor(e,s,l){this.Up=null,this.$p=null,this.qp=!0,this.jp=null,this.Yp=e,this.Kp=e.Zp()[s],this.Gp=e.Zp()[l],this.Xp=document.createElement("tr"),this.Xp.style.height="1px",this.Jp=document.createElement("td"),this.Jp.style.position="relative",this.Jp.style.padding="0",this.Jp.style.margin="0",this.Jp.setAttribute("colspan","3"),this.Qp(),this.Xp.appendChild(this.Jp),this.qp=this.Yp.N().layout.panes.enableResize,this.qp?this.tv():(this.Up=null,this.$p=null)}m(){this.$p!==null&&this.$p.m()}iv(){return this.Xp}sv(){return Rt({width:this.Kp.sv().width,height:1})}nv(){return Rt({width:this.Kp.nv().width,height:1*window.devicePixelRatio})}ev(e,s,l){const u=this.nv();e.fillStyle=this.Yp.N().layout.panes.separatorColor,e.fillRect(s,l,u.width,u.height)}kt(){this.Qp(),this.Yp.N().layout.panes.enableResize!==this.qp&&(this.qp=this.Yp.N().layout.panes.enableResize,this.qp?this.tv():(this.Up!==null&&(this.Jp.removeChild(this.Up.rv),this.Jp.removeChild(this.Up.hv),this.Up=null),this.$p!==null&&(this.$p.m(),this.$p=null)))}tv(){const e=document.createElement("div"),s=e.style;s.position="fixed",s.display="none",s.zIndex="49",s.top="0",s.left="0",s.width="100%",s.height="100%",s.cursor="row-resize",this.Jp.appendChild(e);const l=document.createElement("div"),u=l.style;u.position="absolute",u.zIndex="50",u.top="-4px",u.height="9px",u.width="100%",u.backgroundColor="",u.cursor="row-resize",this.Jp.appendChild(l);const c={lp:this.av.bind(this),zp:this.lv.bind(this),Pp:this.ov.bind(this),yp:this.ov.bind(this),mp:this._v.bind(this),pp:this._v.bind(this),bp:this.uv.bind(this),gp:this.uv.bind(this)};this.$p=new _r(l,c,{dp:()=>!1,fp:()=>!0}),this.Up={hv:l,rv:e}}Qp(){this.Jp.style.background=this.Yp.N().layout.panes.separatorColor}av(e){this.Up!==null&&(this.Up.hv.style.backgroundColor=this.Yp.N().layout.panes.separatorHoverColor)}lv(e){this.Up!==null&&this.jp===null&&(this.Up.hv.style.backgroundColor="")}ov(e){if(this.Up===null)return;const s=this.Kp.cv().E_()+this.Gp.cv().E_(),l=s/(this.Kp.sv().height+this.Gp.sv().height),u=30*l;s<=2*u||(this.jp={dv:e.pageY,fv:this.Kp.cv().E_(),pv:s-u,vv:s,mv:l,wv:u},this.Up.rv.style.display="block")}_v(e){const s=this.jp;if(s===null)return;const l=(e.pageY-s.dv)*s.mv,u=xl(s.fv+l,s.wv,s.pv);this.Kp.cv().A_(u),this.Gp.cv().A_(s.vv-u),this.Yp.Qt().Ca()}uv(e){this.jp!==null&&this.Up!==null&&(this.jp=null,this.Up.rv.style.display="none")}}function hc(a,e){return a.gv-e.gv}function cc(a,e,s){const l=(a.gv-e.gv)/(a.wt-e.wt);return Math.sign(l)*Math.min(Math.abs(l),s)}class gS{constructor(e,s,l,u){this.Mv=null,this.bv=null,this.Sv=null,this.xv=null,this.Cv=null,this.yv=0,this.kv=0,this.Pv=e,this.Tv=s,this.Rv=l,this.kn=u}Dv(e,s){if(this.Mv!==null){if(this.Mv.wt===s)return void(this.Mv.gv=e);if(Math.abs(this.Mv.gv-e)<this.kn)return}this.xv=this.Sv,this.Sv=this.bv,this.bv=this.Mv,this.Mv={wt:s,gv:e}}fe(e,s){if(this.Mv===null||this.bv===null||s-this.Mv.wt>50)return;let l=0;const u=cc(this.Mv,this.bv,this.Tv),c=hc(this.Mv,this.bv),f=[u],m=[c];if(l+=c,this.Sv!==null){const d=cc(this.bv,this.Sv,this.Tv);if(Math.sign(d)===Math.sign(u)){const x=hc(this.bv,this.Sv);if(f.push(d),m.push(x),l+=x,this.xv!==null){const y=cc(this.Sv,this.xv,this.Tv);if(Math.sign(y)===Math.sign(u)){const S=hc(this.Sv,this.xv);f.push(y),m.push(S),l+=S}}}}let p=0;for(let d=0;d<f.length;++d)p+=m[d]/l*f[d];Math.abs(p)<this.Pv||(this.Cv={gv:e,wt:s},this.kv=p,this.yv=(function(d,x){const y=Math.log(x);return Math.log(1*y/-d)/y})(Math.abs(p),this.Rv))}Ac(e){const s=X(this.Cv),l=e-s.wt;return s.gv+this.kv*(Math.pow(this.Rv,l)-1)/Math.log(this.Rv)}Ec(e){return this.Cv===null||this.Iv(e)===this.yv}Iv(e){const s=e-X(this.Cv).wt;return Math.min(s,this.yv)}}class vS{constructor(e,s){this.Vv=void 0,this.Bv=void 0,this.Ev=void 0,this.ws=!1,this.Av=e,this.Lv=s,this.zv()}kt(){this.zv()}Ov(){this.Vv&&this.Av.removeChild(this.Vv),this.Bv&&this.Av.removeChild(this.Bv),this.Vv=void 0,this.Bv=void 0}Nv(){return this.ws!==this.Fv()||this.Ev!==this.Wv()}Wv(){return this.Lv.Qt().Xi().J(this.Lv.N().layout.textColor)>160?"dark":"light"}Fv(){return this.Lv.N().layout.attributionLogo}Hv(){const e=new URL(location.href);return e.hostname?"&utm_source="+e.hostname+e.pathname:""}zv(){this.Nv()&&(this.Ov(),this.ws=this.Fv(),this.ws&&(this.Ev=this.Wv(),this.Bv=document.createElement("style"),this.Bv.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.Vv=document.createElement("a"),this.Vv.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.Hv()}`,this.Vv.title="Charting by TradingView",this.Vv.id="tv-attr-logo",this.Vv.target="_blank",this.Vv.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.Vv.toggleAttribute("data-dark",this.Ev==="dark"),this.Av.appendChild(this.Bv),this.Av.appendChild(this.Vv)))}}function xs(a,e){const s=X(a.ownerDocument).createElement("canvas");a.appendChild(s);const l=t1(s,{options:{allowResizeObserver:!0},transform:(u,c)=>({width:Math.max(u.width,c.width),height:Math.max(u.height,c.height)})});return l.resizeCanvasElement(e),l}function bs(a){a.width=1,a.height=1,a.getContext("2d")?.clearRect(0,0,1,1)}function Ec(a,e,s,l){a.Uh&&a.Uh(e,s,l)}function cr(a,e,s,l){a.nt(e,s,l)}function jc(a,e,s,l){const u=a(s,l);for(const c of u){const f=c.Tt(l);f!==null&&e(f)}}function oc(a,e){return s=>(function(l){return l.Ft!==void 0})(s)?(s.Ft()?.ol()??"")!==e?[]:s.Ya?.(a)??[]:[]}function J0(a,e,s,l){if(!a.length)return;let u=0;const c=a[0].$t(l,!0);let f=e===1?s/2-(a[0].Hi()-c/2):a[0].Hi()-c/2-s/2;f=Math.max(0,f);for(let m=1;m<a.length;m++){const p=a[m],d=a[m-1],x=d.$t(l,!1),y=p.Hi(),S=d.Hi();if(e===1?y>S-x:y<S+x){const _=S-x*e;p.Ui(_);const w=_-e*x/2;if((e===1?w<0:w>s)&&f>0){const A=e===1?-1-w:w-s,L=Math.min(A,f);for(let D=u;D<a.length;D++)a[D].Ui(a[D].Hi()+e*L);f-=L}}else u=m,f=e===1?S-x-y:y-(S+x)}}class Z0{constructor(e,s,l,u){this.Ki=null,this.Uv=null,this.$v=!1,this.qv=new Cl(200),this.jv=null,this.Yv=0,this.Kv=!1,this.Zv=()=>{this.Kv||this.yt.Gv().Qt().dr()},this.Xv=()=>{this.Kv||this.yt.Gv().Qt().dr()},this.yt=e,this.Ps=s,this.Co=s.layout,this.hd=l,this.Jv=u==="left",this.Qv=oc("normal",u),this.tm=oc("top",u),this.im=oc("bottom",u),this.Jp=document.createElement("div"),this.Jp.style.height="100%",this.Jp.style.overflow="hidden",this.Jp.style.width="25px",this.Jp.style.left="0",this.Jp.style.position="relative",this.sm=xs(this.Jp,Rt({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const c=this.sm.canvasElement;c.style.position="absolute",c.style.zIndex="1",c.style.left="0",c.style.top="0",this.nm=xs(this.Jp,Rt({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const f=this.nm.canvasElement;f.style.position="absolute",f.style.zIndex="2",f.style.left="0",f.style.top="0";const m={Pp:this.ov.bind(this),yp:this.ov.bind(this),mp:this._v.bind(this),pp:this._v.bind(this),Tp:this.rm.bind(this),bp:this.uv.bind(this),gp:this.uv.bind(this),ip:this.hm.bind(this),Xf:this.hm.bind(this),lp:this.am.bind(this),zp:this.lv.bind(this)};this.$p=new _r(this.nm.canvasElement,m,{dp:()=>!this.Ps.handleScroll.vertTouchDrag,fp:()=>!0})}m(){this.$p.m(),this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),bs(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),bs(this.sm.canvasElement),this.sm.dispose(),this.Ki!==null&&this.Ki.r_().u(this),this.Ki=null}iv(){return this.Jp}k(){return this.Co.fontSize}lm(){const e=this.hd.N();return this.jv!==e.P&&(this.qv.On(),this.jv=e.P),e}om(){if(this.Ki===null)return 0;let e=0;const s=this.lm(),l=X(this.sm.canvasElement.getContext("2d",{colorSpace:this.yt.Gv().N().layout.colorSpace}));l.save();const u=this.Ki.Vl();l.font=this._m(),u.length>0&&(e=Math.max(this.qv.Ii(l,u[0].Jl),this.qv.Ii(l,u[u.length-1].Jl)));const c=this.um();for(let d=c.length;d--;){const x=this.qv.Ii(l,c[d].ri());x>e&&(e=x)}const f=this.Ki.Lt();if(f!==null&&this.Uv!==null&&(m=this.Ps.crosshair).mode!==2&&m.horzLine.visible&&m.horzLine.labelVisible){const d=this.Ki.Ds(1,f),x=this.Ki.Ds(this.Uv.height-2,f);e=Math.max(e,this.qv.Ii(l,this.Ki.Ji(Math.floor(Math.min(d,x))+.11111111111111,f)),this.qv.Ii(l,this.Ki.Ji(Math.ceil(Math.max(d,x))-.11111111111111,f)))}var m;l.restore();const p=e||34;return Nc(Math.ceil(s.S+s.C+s.V+s.B+5+p))}dm(e){this.Uv!==null&&ps(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`)}fm(){return X(this.Uv).width}cs(e){this.Ki!==e&&(this.Ki!==null&&this.Ki.r_().u(this),this.Ki=e,e.r_().i(this.do.bind(this),this))}Ft(){return this.Ki}On(){const e=this.yt.cv();this.yt.Gv().Qt().Q_(e,X(this.Ft()))}pm(e){if(this.Uv===null)return;const s={colorSpace:this.yt.Gv().N().layout.colorSpace};if(e!==1){this.vm(),this.sm.applySuggestedBitmapSize();const u=gs(this.sm,s);u!==null&&(u.useBitmapCoordinateSpace((c=>{this.wm(c),this.gm(c)})),this.yt.Mm(u,this.im),this.bm(u),this.yt.Mm(u,this.Qv),this.Sm(u))}this.nm.applySuggestedBitmapSize();const l=gs(this.nm,s);l!==null&&(l.useBitmapCoordinateSpace((({context:u,bitmapSize:c})=>{u.clearRect(0,0,c.width,c.height)})),this.xm(l),this.yt.Mm(l,this.tm))}nv(){return this.sm.bitmapSize}ev(e,s,l,u){const c=this.nv();if(c.width>0&&c.height>0&&(e.drawImage(this.sm.canvasElement,s,l),u)){const f=this.nm.canvasElement;e.drawImage(f,s,l)}}kt(){this.Ki?.Vl()}ov(e){if(this.Ki===null||this.Ki.Gi()||!this.Ps.handleScale.axisPressedMouseMove.price)return;const s=this.yt.Gv().Qt(),l=this.yt.cv();this.$v=!0,s.j_(l,this.Ki,e.localY)}_v(e){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const s=this.yt.Gv().Qt(),l=this.yt.cv(),u=this.Ki;s.Y_(l,u,e.localY)}rm(){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.yt.Gv().Qt(),s=this.yt.cv(),l=this.Ki;this.$v&&(this.$v=!1,e.K_(s,l))}uv(e){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const s=this.yt.Gv().Qt(),l=this.yt.cv();this.$v=!1,s.K_(l,this.Ki)}hm(e){this.Ps.handleScale.axisDoubleClickReset.price&&this.On()}am(e){this.Ki!==null&&(!this.yt.Gv().Qt().N().handleScale.axisPressedMouseMove.price||this.Ki.He()||this.Ki.Eo()||this.Cm(1))}lv(e){this.Cm(0)}um(){const e=[],s=this.Ki===null?void 0:this.Ki;return(l=>{for(let u=0;u<l.length;++u){const c=l[u].Ks(this.yt.cv(),s);for(let f=0;f<c.length;f++)e.push(c[f])}})(this.yt.cv().Dt()),e}wm({context:e,bitmapSize:s}){const{width:l,height:u}=s,c=this.yt.cv().Qt(),f=c.$(),m=c.Kd();f===m?xr(e,0,0,l,u,f):Zp(e,0,0,l,u,f,m)}gm({context:e,bitmapSize:s,horizontalPixelRatio:l}){if(this.Uv===null||this.Ki===null||!this.Ki.N().borderVisible)return;e.fillStyle=this.Ki.N().borderColor;const u=Math.max(1,Math.floor(this.lm().S*l));let c;c=this.Jv?s.width-u:0,e.fillRect(c,0,u,s.height)}bm(e){if(this.Uv===null||this.Ki===null)return;const s=this.Ki.Vl(),l=this.Ki.N(),u=this.lm(),c=this.Jv?this.Uv.width-u.C:0;l.borderVisible&&l.ticksVisible&&e.useBitmapCoordinateSpace((({context:f,horizontalPixelRatio:m,verticalPixelRatio:p})=>{f.fillStyle=l.borderColor;const d=Math.max(1,Math.floor(p)),x=Math.floor(.5*p),y=Math.round(u.C*m);f.beginPath();for(const S of s)f.rect(Math.floor(c*m),Math.round(S.Pl*p)-x,y,d);f.fill()})),e.useMediaCoordinateSpace((({context:f})=>{f.font=this._m(),f.fillStyle=l.textColor??this.Co.textColor,f.textAlign=this.Jv?"right":"left",f.textBaseline="middle";const m=this.Jv?Math.round(c-u.V):Math.round(c+u.C+u.V),p=s.map((d=>this.qv.Di(f,d.Jl)));for(let d=s.length;d--;){const x=s[d];f.fillText(x.Jl,m,x.Pl+p[d])}}))}vm(){if(this.Uv===null||this.Ki===null)return;let e=this.Uv.height/2;const s=[],l=this.Ki.Dt().slice(),u=this.yt.cv(),c=this.lm();this.Ki===u.Gn()&&this.yt.cv().Dt().forEach((p=>{u.Zn(p)&&l.push(p)}));const f=this.Ki.Sl()[0],m=this.Ki;l.forEach((p=>{const d=p.Ks(u,m);d.forEach((x=>{x.$i()&&x.Wi()===null&&(x.Ui(null),s.push(x))})),f===p&&d.length>0&&(e=d[0].Ei())})),this.Ki.N().alignLabels&&this.ym(s,c,e)}ym(e,s,l){if(this.Uv===null)return;const u=e.filter((f=>f.Ei()<=l)),c=e.filter((f=>f.Ei()>l));u.sort(((f,m)=>m.Ei()-f.Ei())),u.length&&c.length&&c.push(u[0]),c.sort(((f,m)=>f.Ei()-m.Ei()));for(const f of e){const m=Math.floor(f.$t(s)/2),p=f.Ei();p>-m&&p<m&&f.Ui(m),p>this.Uv.height-m&&p<this.Uv.height+m&&f.Ui(this.Uv.height-m)}J0(u,1,this.Uv.height,s),J0(c,-1,this.Uv.height,s)}Sm(e){if(this.Uv===null)return;const s=this.um(),l=this.lm(),u=this.Jv?"right":"left";s.forEach((c=>{c.qi()&&c.Tt(X(this.Ki)).nt(e,l,this.qv,u)}))}xm(e){if(this.Uv===null||this.Ki===null)return;const s=this.yt.Gv().Qt(),l=[],u=this.yt.cv(),c=s.gd().Ks(u,this.Ki);c.length&&l.push(c);const f=this.lm(),m=this.Jv?"right":"left";l.forEach((p=>{p.forEach((d=>{d.Tt(X(this.Ki)).nt(e,f,this.qv,m)}))}))}Cm(e){this.Jp.style.cursor=e===1?"ns-resize":"default"}do(){const e=this.om();this.Yv<e&&this.yt.Gv().Qt().Ca(),this.Yv=e}_m(){return jl(this.Co.fontSize,this.Co.fontFamily)}}function yS(a,e){return a.qa?.(e)??[]}function $0(a,e){return a.Ys?.(e)??[]}function F0(a,e){return a.ds?.(e)??[]}function xS(a,e){return a.Ha?.(e)??[]}class Gc{constructor(e,s){this.Uv=Rt({width:0,height:0}),this.km=null,this.Pm=null,this.Tm=null,this.Rm=null,this.Dm=!1,this.Im=new kt,this.Vm=new kt,this.Bm=0,this.Em=!1,this.Am=null,this.Lm=!1,this.zm=null,this.Om=null,this.Kv=!1,this.Zv=()=>{this.Kv||this.Nm===null||this.ns().dr()},this.Xv=()=>{this.Kv||this.Nm===null||this.ns().dr()},this.Lv=e,this.Nm=s,this.Nm.nu().i(this.Fm.bind(this),this,!0),this.Wm=document.createElement("td"),this.Wm.style.padding="0",this.Wm.style.position="relative";const l=document.createElement("div");l.style.width="100%",l.style.height="100%",l.style.position="relative",l.style.overflow="hidden",this.Hm=document.createElement("td"),this.Hm.style.padding="0",this.Um=document.createElement("td"),this.Um.style.padding="0",this.Wm.appendChild(l),this.sm=xs(l,Rt({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const u=this.sm.canvasElement;u.style.position="absolute",u.style.zIndex="1",u.style.left="0",u.style.top="0",this.nm=xs(l,Rt({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const c=this.nm.canvasElement;c.style.position="absolute",c.style.zIndex="2",c.style.left="0",c.style.top="0",this.Xp=document.createElement("tr"),this.Xp.appendChild(this.Hm),this.Xp.appendChild(this.Wm),this.Xp.appendChild(this.Um),this.$m(),this.$p=new _r(this.nm.canvasElement,this,{dp:()=>this.Am===null&&!this.Lv.N().handleScroll.vertTouchDrag,fp:()=>this.Am===null&&!this.Lv.N().handleScroll.horzTouchDrag})}m(){this.km!==null&&this.km.m(),this.Pm!==null&&this.Pm.m(),this.Tm=null,this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),bs(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),bs(this.sm.canvasElement),this.sm.dispose(),this.Nm!==null&&(this.Nm.nu().u(this),this.Nm.m()),this.$p.m()}cv(){return X(this.Nm)}qm(e){this.Nm!==null&&this.Nm.nu().u(this),this.Nm=e,this.Nm!==null&&this.Nm.nu().i(Gc.prototype.Fm.bind(this),this,!0),this.$m(),this.Lv.Zp().indexOf(this)===this.Lv.Zp().length-1?(this.Tm=this.Tm??new vS(this.Wm,this.Lv),this.Tm.kt()):(this.Tm?.Ov(),this.Tm=null)}Gv(){return this.Lv}iv(){return this.Xp}$m(){if(this.Nm!==null&&(this.jm(),this.ns().tn().length!==0)){if(this.km!==null){const e=this.Nm.U_();this.km.cs(X(e))}if(this.Pm!==null){const e=this.Nm.q_();this.Pm.cs(X(e))}}}Ym(){this.km!==null&&this.km.kt(),this.Pm!==null&&this.Pm.kt()}E_(){return this.Nm!==null?this.Nm.E_():0}A_(e){this.Nm&&this.Nm.A_(e)}lp(e){if(!this.Nm)return;this.Km();const s=e.localX,l=e.localY;this.Zm(s,l,e)}Pp(e){this.Km(),this.Gm(),this.Zm(e.localX,e.localY,e)}op(e){if(!this.Nm)return;this.Km();const s=e.localX,l=e.localY;this.Zm(s,l,e)}Sp(e){this.Nm!==null&&(this.Km(),this.Xm(e))}ip(e){this.Nm!==null&&this.Jm(this.Vm,e)}Xf(e){this.ip(e)}mp(e){this.Km(),this.Qm(e),this.Zm(e.localX,e.localY,e)}bp(e){this.Nm!==null&&(this.Km(),this.Em=!1,this.tw(e))}Mp(e){this.Nm!==null&&this.Xm(e)}Op(e){if(this.Em=!0,this.Am===null){const s={x:e.localX,y:e.localY};this.iw(s,s,e)}}zp(e){this.Nm!==null&&(this.Km(),this.Nm.Qt().vd(null),this.sw())}nw(){return this.Im}ew(){return this.Vm}Ip(){this.Bm=1,this.ns().dn()}Vp(e,s){if(!this.Lv.N().handleScale.pinch)return;const l=5*(s-this.Bm);this.Bm=s,this.ns().Td(e._t,l)}yp(e){this.Em=!1,this.Lm=this.Am!==null,this.Gm();const s=this.ns().gd();this.Am!==null&&s.It()&&(this.zm={x:s.si(),y:s.ni()},this.Am={x:e.localX,y:e.localY})}pp(e){if(this.Nm===null)return;const s=e.localX,l=e.localY;if(this.Am===null)this.Qm(e);else{this.Lm=!1;const u=X(this.zm),c=u.x+(s-this.Am.x),f=u.y+(l-this.Am.y);this.Zm(c,f,e)}}gp(e){this.Gv().N().trackingMode.exitMode===0&&(this.Lm=!0),this.rw(),this.tw(e)}Qn(e,s){const l=this.Nm;return l===null?null:lg(l,e,s)}hw(e,s){X(s==="left"?this.km:this.Pm).dm(Rt({width:e,height:this.Uv.height}))}sv(){return this.Uv}dm(e){ps(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Wm.style.width=e.width+"px",this.Wm.style.height=e.height+"px")}aw(){const e=X(this.Nm);e.H_(e.U_()),e.H_(e.q_());for(const s of e.Sl())if(e.Zn(s)){const l=s.Ft();l!==null&&e.H_(l),s.Ws()}for(const s of e.ru())s.Ws()}nv(){return this.sm.bitmapSize}ev(e,s,l,u){const c=this.nv();if(c.width>0&&c.height>0&&(e.drawImage(this.sm.canvasElement,s,l),u)){const f=this.nm.canvasElement;e!==null&&e.drawImage(f,s,l)}}pm(e){if(e===0||this.Nm===null)return;e>1&&this.aw(),this.km!==null&&this.km.pm(e),this.Pm!==null&&this.Pm.pm(e);const s={colorSpace:this.Lv.N().layout.colorSpace};if(e!==1){this.sm.applySuggestedBitmapSize();const u=gs(this.sm,s);u!==null&&(u.useBitmapCoordinateSpace((c=>{this.wm(c)})),this.Nm&&(this.lw(u,yS),this.ow(u),this.lw(u,$0),this.lw(u,F0)))}this.nm.applySuggestedBitmapSize();const l=gs(this.nm,s);l!==null&&(l.useBitmapCoordinateSpace((({context:u,bitmapSize:c})=>{u.clearRect(0,0,c.width,c.height)})),this._w(l),this.lw(l,xS),this.lw(l,F0))}uw(){return this.km}cw(){return this.Pm}Mm(e,s){this.lw(e,s)}Fm(){this.Nm!==null&&this.Nm.nu().u(this),this.Nm=null}Xm(e){this.Jm(this.Im,e)}Jm(e,s){const l=s.localX,u=s.localY;e.v()&&e.p(this.ns().Et().wc(l),{x:l,y:u},s)}wm({context:e,bitmapSize:s}){const{width:l,height:u}=s,c=this.ns(),f=c.$(),m=c.Kd();f===m?xr(e,0,0,l,u,m):Zp(e,0,0,l,u,f,m)}ow(e){const s=X(this.Nm),l=s.eu().pr().Tt(s);l!==null&&l.nt(e,!1)}_w(e){this.dw(e,$0,cr,this.ns().gd())}lw(e,s){const l=X(this.Nm),u=l.Dt(),c=l.ru();for(const f of c)this.dw(e,s,Ec,f);for(const f of u)this.dw(e,s,Ec,f);for(const f of c)this.dw(e,s,cr,f);for(const f of u)this.dw(e,s,cr,f)}dw(e,s,l,u){const c=X(this.Nm),f=c.Qt().pd(),m=f!==null&&f.hu===u,p=f!==null&&m&&f.au!==void 0?f.au.ie:void 0;jc(s,(d=>l(d,e,m,p)),u,c)}jm(){if(this.Nm===null)return;const e=this.Lv,s=this.Nm.U_().N().visible,l=this.Nm.q_().N().visible;s||this.km===null||(this.Hm.removeChild(this.km.iv()),this.km.m(),this.km=null),l||this.Pm===null||(this.Um.removeChild(this.Pm.iv()),this.Pm.m(),this.Pm=null);const u=e.Qt().Nd();s&&this.km===null&&(this.km=new Z0(this,e.N(),u,"left"),this.Hm.appendChild(this.km.iv())),l&&this.Pm===null&&(this.Pm=new Z0(this,e.N(),u,"right"),this.Um.appendChild(this.Pm.iv()))}fw(e){return e.Np&&this.Em||this.Am!==null}Zm(e,s,l){e=Math.max(0,Math.min(e,this.Uv.width-1)),s=Math.max(0,Math.min(s,this.Uv.height-1)),this.ns().Ad(e,s,l,X(this.Nm))}sw(){this.ns().zd()}rw(){this.Lm&&(this.Am=null,this.sw())}iw(e,s,l){this.Am=e,this.Lm=!1,this.Zm(s.x,s.y,l);const u=this.ns().gd();this.zm={x:u.si(),y:u.ni()}}ns(){return this.Lv.Qt()}tw(e){if(!this.Dm)return;const s=this.ns(),l=this.cv();if(s.X_(l,l.Rs()),this.Rm=null,this.Dm=!1,s.Vd(),this.Om!==null){const u=performance.now(),c=s.Et();this.Om.fe(c.Cc(),u),this.Om.Ec(u)||s.vn(this.Om)}}Km(){this.Am=null}Gm(){if(this.Nm){if(this.ns().dn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)X(document.activeElement).blur();else{const e=document.getSelection();e!==null&&e.removeAllRanges()}!this.Nm.Rs().Gi()&&this.ns().Et().Gi()}}Qm(e){if(this.Nm===null)return;const s=this.ns(),l=s.Et();if(l.Gi())return;const u=this.Lv.N(),c=u.handleScroll,f=u.kineticScroll;if((!c.pressedMouseMove||e.Np)&&(!c.horzTouchDrag&&!c.vertTouchDrag||!e.Np))return;const m=this.Nm.Rs(),p=performance.now();if(this.Rm!==null||this.fw(e)||(this.Rm={x:e.clientX,y:e.clientY,cf:p,pw:e.localX,mw:e.localY}),this.Rm!==null&&!this.Dm&&(this.Rm.x!==e.clientX||this.Rm.y!==e.clientY)){if(e.Np&&f.touch||!e.Np&&f.mouse){const d=l.ul();this.Om=new gS(.2/d,7/d,.997,15/d),this.Om.Dv(l.Cc(),this.Rm.cf)}else this.Om=null;m.Gi()||s.Z_(this.Nm,m,e.localY),s.Dd(e.localX),this.Dm=!0}this.Dm&&(m.Gi()||s.G_(this.Nm,m,e.localY),s.Id(e.localX),this.Om!==null&&this.Om.Dv(l.Cc(),p))}}class P0{constructor(e,s,l,u,c){this.xt=!0,this.Uv=Rt({width:0,height:0}),this.Zv=()=>this.pm(3),this.Jv=e==="left",this.hd=l.Nd,this.Ps=s,this.ww=u,this.gw=c,this.Jp=document.createElement("div"),this.Jp.style.width="25px",this.Jp.style.height="100%",this.Jp.style.overflow="hidden",this.sm=xs(this.Jp,Rt({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv)}m(){this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),bs(this.sm.canvasElement),this.sm.dispose()}iv(){return this.Jp}sv(){return this.Uv}dm(e){ps(this.Uv,e)||(this.Uv=e,this.sm.resizeCanvasElement(e),this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`,this.xt=!0)}pm(e){if(e<3&&!this.xt||this.Uv.width===0||this.Uv.height===0)return;this.xt=!1,this.sm.applySuggestedBitmapSize();const s=gs(this.sm,{colorSpace:this.Ps.layout.colorSpace});s!==null&&s.useBitmapCoordinateSpace((l=>{this.wm(l),this.gm(l)}))}nv(){return this.sm.bitmapSize}ev(e,s,l){const u=this.nv();u.width>0&&u.height>0&&e.drawImage(this.sm.canvasElement,s,l)}gm({context:e,bitmapSize:s,horizontalPixelRatio:l,verticalPixelRatio:u}){if(!this.ww())return;e.fillStyle=this.Ps.timeScale.borderColor;const c=Math.floor(this.hd.N().S*l),f=Math.floor(this.hd.N().S*u),m=this.Jv?s.width-c:0;e.fillRect(m,0,c,f)}wm({context:e,bitmapSize:s}){xr(e,0,0,s.width,s.height,this.gw())}}function Xc(a){return e=>e.Ka?.(a)??[]}const bS=Xc("normal"),SS=Xc("top"),wS=Xc("bottom");class MS{constructor(e,s){this.Mw=null,this.bw=null,this.M=null,this.Sw=!1,this.Uv=Rt({width:0,height:0}),this.xw=new kt,this.qv=new Cl(5),this.Kv=!1,this.Zv=()=>{this.Kv||this.Lv.Qt().dr()},this.Xv=()=>{this.Kv||this.Lv.Qt().dr()},this.Lv=e,this.cu=s,this.Ps=e.N().layout,this.Vv=document.createElement("tr"),this.Cw=document.createElement("td"),this.Cw.style.padding="0",this.yw=document.createElement("td"),this.yw.style.padding="0",this.Jp=document.createElement("td"),this.Jp.style.height="25px",this.Jp.style.padding="0",this.kw=document.createElement("div"),this.kw.style.width="100%",this.kw.style.height="100%",this.kw.style.position="relative",this.kw.style.overflow="hidden",this.Jp.appendChild(this.kw),this.sm=xs(this.kw,Rt({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const l=this.sm.canvasElement;l.style.position="absolute",l.style.zIndex="1",l.style.left="0",l.style.top="0",this.nm=xs(this.kw,Rt({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const u=this.nm.canvasElement;u.style.position="absolute",u.style.zIndex="2",u.style.left="0",u.style.top="0",this.Vv.appendChild(this.Cw),this.Vv.appendChild(this.Jp),this.Vv.appendChild(this.yw),this.Pw(),this.Lv.Qt().B_().i(this.Pw.bind(this),this),this.$p=new _r(this.nm.canvasElement,this,{dp:()=>!0,fp:()=>!this.Lv.N().handleScroll.horzTouchDrag})}m(){this.$p.m(),this.Mw!==null&&this.Mw.m(),this.bw!==null&&this.bw.m(),this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),bs(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),bs(this.sm.canvasElement),this.sm.dispose()}iv(){return this.Vv}Tw(){return this.Mw}Rw(){return this.bw}Pp(e){if(this.Sw)return;this.Sw=!0;const s=this.Lv.Qt();!s.Et().Gi()&&this.Lv.N().handleScale.axisPressedMouseMove.time&&s.Pd(e.localX)}yp(e){this.Pp(e)}Tp(){const e=this.Lv.Qt();!e.Et().Gi()&&this.Sw&&(this.Sw=!1,this.Lv.N().handleScale.axisPressedMouseMove.time&&e.Ed())}mp(e){const s=this.Lv.Qt();!s.Et().Gi()&&this.Lv.N().handleScale.axisPressedMouseMove.time&&s.Bd(e.localX)}pp(e){this.mp(e)}bp(){this.Sw=!1;const e=this.Lv.Qt();e.Et().Gi()&&!this.Lv.N().handleScale.axisPressedMouseMove.time||e.Ed()}gp(){this.bp()}ip(){this.Lv.N().handleScale.axisDoubleClickReset.time&&this.Lv.Qt().wn()}Xf(){this.ip()}lp(){this.Lv.Qt().N().handleScale.axisPressedMouseMove.time&&this.Cm(1)}zp(){this.Cm(0)}sv(){return this.Uv}Dw(){return this.xw}Iw(e,s,l){ps(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`,this.xw.p(e)),this.Mw!==null&&this.Mw.dm(Rt({width:s,height:e.height})),this.bw!==null&&this.bw.dm(Rt({width:l,height:e.height}))}Vw(){const e=this.Bw();return Math.ceil(e.S+e.C+e.k+e.A+e.I+e.Ew)}kt(){this.Lv.Qt().Et().Vl()}nv(){return this.sm.bitmapSize}ev(e,s,l,u){const c=this.nv();if(c.width>0&&c.height>0&&(e.drawImage(this.sm.canvasElement,s,l),u)){const f=this.nm.canvasElement;e.drawImage(f,s,l)}}pm(e){if(e===0)return;const s={colorSpace:this.Ps.colorSpace};if(e!==1){this.sm.applySuggestedBitmapSize();const u=gs(this.sm,s);u!==null&&(u.useBitmapCoordinateSpace((c=>{this.wm(c),this.gm(c),this.Aw(u,wS)})),this.bm(u),this.Aw(u,bS)),this.Mw!==null&&this.Mw.pm(e),this.bw!==null&&this.bw.pm(e)}this.nm.applySuggestedBitmapSize();const l=gs(this.nm,s);l!==null&&(l.useBitmapCoordinateSpace((({context:u,bitmapSize:c})=>{u.clearRect(0,0,c.width,c.height)})),this.Lw([...this.Lv.Qt().tn(),this.Lv.Qt().gd()],l),this.Aw(l,SS))}Aw(e,s){const l=this.Lv.Qt().tn();for(const u of l)jc(s,(c=>Ec(c,e,!1,void 0)),u,void 0);for(const u of l)jc(s,(c=>cr(c,e,!1,void 0)),u,void 0)}wm({context:e,bitmapSize:s}){xr(e,0,0,s.width,s.height,this.Lv.Qt().Kd())}gm({context:e,bitmapSize:s,verticalPixelRatio:l}){if(this.Lv.N().timeScale.borderVisible){e.fillStyle=this.zw();const u=Math.max(1,Math.floor(this.Bw().S*l));e.fillRect(0,0,s.width,u)}}bm(e){const s=this.Lv.Qt().Et(),l=s.Vl();if(!l||l.length===0)return;const u=this.cu.maxTickMarkWeight(l),c=this.Bw(),f=s.N();f.borderVisible&&f.ticksVisible&&e.useBitmapCoordinateSpace((({context:m,horizontalPixelRatio:p,verticalPixelRatio:d})=>{m.strokeStyle=this.zw(),m.fillStyle=this.zw();const x=Math.max(1,Math.floor(p)),y=Math.floor(.5*p);m.beginPath();const S=Math.round(c.C*d);for(let _=l.length;_--;){const w=Math.round(l[_].coord*p);m.rect(w-y,0,x,S)}m.fill()})),e.useMediaCoordinateSpace((({context:m})=>{const p=c.S+c.C+c.A+c.k/2;m.textAlign="center",m.textBaseline="middle",m.fillStyle=this.H(),m.font=this._m();for(const d of l)if(d.weight<u){const x=d.needAlignCoordinate?this.Ow(m,d.coord,d.label):d.coord;m.fillText(d.label,x,p)}this.Lv.N().timeScale.allowBoldLabels&&(m.font=this.Nw());for(const d of l)if(d.weight>=u){const x=d.needAlignCoordinate?this.Ow(m,d.coord,d.label):d.coord;m.fillText(d.label,x,p)}}))}Ow(e,s,l){const u=this.qv.Ii(e,l),c=u/2,f=Math.floor(s-c)+.5;return f<0?s+=Math.abs(0-f):f+u>this.Uv.width&&(s-=Math.abs(this.Uv.width-(f+u))),s}Lw(e,s){const l=this.Bw();for(const u of e)for(const c of u.fs())c.Tt().nt(s,l)}zw(){return this.Lv.N().timeScale.borderColor}H(){return this.Ps.textColor}F(){return this.Ps.fontSize}_m(){return jl(this.F(),this.Ps.fontFamily)}Nw(){return jl(this.F(),this.Ps.fontFamily,"bold")}Bw(){this.M===null&&(this.M={S:1,L:NaN,A:NaN,I:NaN,ts:NaN,C:5,k:NaN,P:"",Qi:new Cl,Ew:0});const e=this.M,s=this._m();if(e.P!==s){const l=this.F();e.k=l,e.P=s,e.A=3*l/12,e.I=3*l/12,e.ts=9*l/12,e.L=0,e.Ew=4*l/12,e.Qi.On()}return this.M}Cm(e){this.Jp.style.cursor=e===1?"ew-resize":"default"}Pw(){const e=this.Lv.Qt(),s=e.N();s.leftPriceScale.visible||this.Mw===null||(this.Cw.removeChild(this.Mw.iv()),this.Mw.m(),this.Mw=null),s.rightPriceScale.visible||this.bw===null||(this.yw.removeChild(this.bw.iv()),this.bw.m(),this.bw=null);const l={Nd:this.Lv.Qt().Nd()},u=()=>s.leftPriceScale.borderVisible&&e.Et().N().borderVisible,c=()=>e.Kd();s.leftPriceScale.visible&&this.Mw===null&&(this.Mw=new P0("left",s,l,u,c),this.Cw.appendChild(this.Mw.iv())),s.rightPriceScale.visible&&this.bw===null&&(this.bw=new P0("right",s,l,u,c),this.yw.appendChild(this.bw.iv()))}}const _S=!!pn&&!!navigator.userAgentData&&navigator.userAgentData.brands.some((a=>a.brand.includes("Chromium")))&&!!pn&&(navigator?.userAgentData?.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);class NS{constructor(e,s,l){var u;this.Fw=[],this.Ww=[],this.Hw=0,this.eo=0,this.S_=0,this.Uw=0,this.$w=0,this.qw=null,this.jw=!1,this.Im=new kt,this.Vm=new kt,this.nd=new kt,this.Yw=null,this.Kw=null,this.Av=e,this.Ps=s,this.cu=l,this.Vv=document.createElement("div"),this.Vv.classList.add("tv-lightweight-charts"),this.Vv.style.overflow="hidden",this.Vv.style.direction="ltr",this.Vv.style.width="100%",this.Vv.style.height="100%",(u=this.Vv).style.userSelect="none",u.style.webkitUserSelect="none",u.style.msUserSelect="none",u.style.MozUserSelect="none",u.style.webkitTapHighlightColor="transparent",this.Zw=document.createElement("table"),this.Zw.setAttribute("cellspacing","0"),this.Vv.appendChild(this.Zw),this.Gw=this.Xw.bind(this),fc(this.Ps)&&this.Jw(!0),this.ns=new hS(this.rd.bind(this),this.Ps,l),this.Qt().Md().i(this.Qw.bind(this),this),this.tg=new MS(this,this.cu),this.Zw.appendChild(this.tg.iv());const c=s.autoSize&&this.ig();let f=this.Ps.width,m=this.Ps.height;if(c||f===0||m===0){const p=e.getBoundingClientRect();f=f||p.width,m=m||p.height}this.sg(f,m),this.ng(),e.appendChild(this.Vv),this.eg(),this.ns.Et().Oc().i(this.ns.Ca.bind(this.ns),this),this.ns.B_().i(this.ns.Ca.bind(this.ns),this)}Qt(){return this.ns}N(){return this.Ps}Zp(){return this.Fw}rg(){return this.tg}m(){this.Jw(!1),this.Hw!==0&&window.cancelAnimationFrame(this.Hw),this.ns.Md().u(this),this.ns.Et().Oc().u(this),this.ns.B_().u(this),this.ns.m();for(const e of this.Fw)this.Zw.removeChild(e.iv()),e.nw().u(this),e.ew().u(this),e.m();this.Fw=[];for(const e of this.Ww)this.hg(e);this.Ww=[],X(this.tg).m(),this.Vv.parentElement!==null&&this.Vv.parentElement.removeChild(this.Vv),this.nd.m(),this.Im.m(),this.Vm.m(),this.ag()}sg(e,s,l=!1){if(this.eo===s&&this.S_===e)return;const u=(function(m){const p=Math.floor(m.width),d=Math.floor(m.height);return Rt({width:p-p%2,height:d-d%2})})(Rt({width:e,height:s}));this.eo=u.height,this.S_=u.width;const c=this.eo+"px",f=this.S_+"px";X(this.Vv).style.height=c,X(this.Vv).style.width=f,this.Zw.style.height=c,this.Zw.style.width=f,l?this.lg(ee.yn(),performance.now()):this.ns.Ca()}pm(e){e===void 0&&(e=ee.yn());for(let s=0;s<this.Fw.length;s++)this.Fw[s].pm(e.un(s).an);this.Ps.timeScale.visible&&this.tg.pm(e._n())}cr(e){const s=fc(this.Ps);this.ns.cr(e);const l=fc(this.Ps);l!==s&&this.Jw(l),e.layout?.panes&&this.og(),this.eg(),this._g(e)}nw(){return this.Im}ew(){return this.Vm}Md(){return this.nd}ug(e=!1){this.qw!==null&&(this.lg(this.qw,performance.now()),this.qw=null);const s=this.cg(null),l=document.createElement("canvas");l.width=s.width,l.height=s.height;const u=X(l.getContext("2d"));return this.cg(u,e),l}dg(e){return e==="left"&&!this.fg()||e==="right"&&!this.pg()||this.Fw.length===0?0:X(e==="left"?this.Fw[0].uw():this.Fw[0].cw()).fm()}vg(){return this.Ps.autoSize&&this.Yw!==null}hv(){return this.Vv}mg(e){this.Kw=e,this.Kw?this.hv().style.setProperty("cursor",e):this.hv().style.removeProperty("cursor")}wg(){return this.Kw}gg(e){return ve(this.Fw[e]).sv()}og(){this.Ww.forEach((e=>{e.kt()}))}_g(e){(e.autoSize!==void 0||!this.Yw||e.width===void 0&&e.height===void 0)&&(e.autoSize&&!this.Yw&&this.ig(),e.autoSize===!1&&this.Yw!==null&&this.ag(),e.autoSize||e.width===void 0&&e.height===void 0||this.sg(e.width||this.S_,e.height||this.eo))}cg(e,s){let l=0,u=0;const c=this.Fw[0],f=(p,d)=>{let x=0;for(let y=0;y<this.Fw.length;y++){const S=this.Fw[y],_=X(p==="left"?S.uw():S.cw()),w=_.nv();if(e!==null&&_.ev(e,d,x,s),x+=w.height,y<this.Fw.length-1){const A=this.Ww[y],L=A.nv();e!==null&&A.ev(e,d,x),x+=L.height}}};this.fg()&&(f("left",0),l+=X(c.uw()).nv().width);for(let p=0;p<this.Fw.length;p++){const d=this.Fw[p],x=d.nv();if(e!==null&&d.ev(e,l,u,s),u+=x.height,p<this.Fw.length-1){const y=this.Ww[p],S=y.nv();e!==null&&y.ev(e,l,u),u+=S.height}}l+=c.nv().width,this.pg()&&(f("right",l),l+=X(c.cw()).nv().width);const m=(p,d,x)=>{X(p==="left"?this.tg.Tw():this.tg.Rw()).ev(X(e),d,x)};if(this.Ps.timeScale.visible){const p=this.tg.nv();if(e!==null){let d=0;this.fg()&&(m("left",d,u),d=X(c.uw()).nv().width),this.tg.ev(e,d,u,s),d+=p.width,this.pg()&&m("right",d,u)}u+=p.height}return Rt({width:l,height:u})}Mg(){let e=0,s=0,l=0;for(const L of this.Fw)this.fg()&&(s=Math.max(s,X(L.uw()).om(),this.Ps.leftPriceScale.minimumWidth)),this.pg()&&(l=Math.max(l,X(L.cw()).om(),this.Ps.rightPriceScale.minimumWidth)),e+=L.E_();s=Nc(s),l=Nc(l);const u=this.S_,c=this.eo,f=Math.max(u-s-l,0),m=1*this.Ww.length,p=this.Ps.timeScale.visible;let d=p?Math.max(this.tg.Vw(),this.Ps.timeScale.minimumHeight):0;var x;d=(x=d)+x%2;const y=m+d,S=c<y?0:c-y,_=S/e;let w=0;const A=window.devicePixelRatio||1;for(let L=0;L<this.Fw.length;++L){const D=this.Fw[L];D.qm(this.ns.Xs()[L]);let V=0,K=0;K=L===this.Fw.length-1?Math.ceil((S-w)*A)/A:Math.round(D.E_()*_*A)/A,V=Math.max(K,2),w+=V,D.dm(Rt({width:f,height:V})),this.fg()&&D.hw(s,"left"),this.pg()&&D.hw(l,"right"),D.cv()&&this.ns.bd(D.cv(),V)}this.tg.Iw(Rt({width:p?f:0,height:d}),p?s:0,p?l:0),this.ns.L_(f),this.Uw!==s&&(this.Uw=s),this.$w!==l&&(this.$w=l)}Jw(e){e?this.Vv.addEventListener("wheel",this.Gw,{passive:!1}):this.Vv.removeEventListener("wheel",this.Gw)}bg(e){switch(e.deltaMode){case e.DOM_DELTA_PAGE:return 120;case e.DOM_DELTA_LINE:return 32}return _S?1/window.devicePixelRatio:1}Xw(e){if(!(e.deltaX!==0&&this.Ps.handleScroll.mouseWheel||e.deltaY!==0&&this.Ps.handleScale.mouseWheel))return;const s=this.bg(e),l=s*e.deltaX/100,u=-s*e.deltaY/100;if(e.cancelable&&e.preventDefault(),u!==0&&this.Ps.handleScale.mouseWheel){const c=Math.sign(u)*Math.min(1,Math.abs(u)),f=e.clientX-this.Vv.getBoundingClientRect().left;this.Qt().Td(f,c)}l!==0&&this.Ps.handleScroll.mouseWheel&&this.Qt().Rd(-80*l)}lg(e,s){const l=e._n();l===3&&this.Sg(),l!==3&&l!==2||(this.xg(e),this.Cg(e,s),this.tg.kt(),this.Fw.forEach((u=>{u.Ym()})),this.qw?._n()===3&&(this.qw.Sn(e),this.Sg(),this.xg(this.qw),this.Cg(this.qw,s),e=this.qw,this.qw=null)),this.pm(e)}Cg(e,s){for(const l of e.bn())this.xn(l,s)}xg(e){const s=this.ns.Xs();for(let l=0;l<s.length;l++)e.un(l).ln&&s[l].tu()}xn(e,s){const l=this.ns.Et();switch(e.fn){case 0:l.Fc();break;case 1:l.Wc(e.Wt);break;case 2:l.gn(e.Wt);break;case 3:l.Mn(e.Wt);break;case 4:l.Pc();break;case 5:e.Wt.Ec(s)||l.Mn(e.Wt.Ac(s))}}rd(e){this.qw!==null?this.qw.Sn(e):this.qw=e,this.jw||(this.jw=!0,this.Hw=window.requestAnimationFrame((s=>{if(this.jw=!1,this.Hw=0,this.qw!==null){const l=this.qw;this.qw=null,this.lg(l,s);for(const u of l.bn())if(u.fn===5&&!u.Wt.Ec(s)){this.Qt().vn(u.Wt);break}}})))}Sg(){this.ng()}hg(e){this.Zw.removeChild(e.iv()),e.m()}ng(){const e=this.ns.Xs(),s=e.length,l=this.Fw.length;for(let u=s;u<l;u++){const c=ve(this.Fw.pop());this.Zw.removeChild(c.iv()),c.nw().u(this),c.ew().u(this),c.m();const f=this.Ww.pop();f!==void 0&&this.hg(f)}for(let u=l;u<s;u++){const c=new Gc(this,e[u]);if(c.nw().i(this.yg.bind(this,c),this),c.ew().i(this.kg.bind(this,c),this),this.Fw.push(c),u>0){const f=new pS(this,u-1,u);this.Ww.push(f),this.Zw.insertBefore(f.iv(),this.tg.iv())}this.Zw.insertBefore(c.iv(),this.tg.iv())}for(let u=0;u<s;u++){const c=e[u],f=this.Fw[u];f.cv()!==c?f.qm(c):f.$m()}this.eg(),this.Mg()}Pg(e,s,l,u){const c=new Map;e!==null&&this.ns.tn().forEach((y=>{const S=y.qs().$s(e);S!==null&&c.set(y,S)}));let f;if(e!==null){const y=this.ns.Et().es(e)?.originalTime;y!==void 0&&(f=y)}const m=this.Qt().pd(),p=m!==null&&m.hu instanceof Mr?m.hu:void 0,d=m!==null&&m.au!==void 0?m.au.te:void 0,x=this.Tg(u);return{Gr:f,js:e??void 0,Rg:s??void 0,Dg:x!==-1?x:void 0,Ig:p,Vg:c,Bg:d,Eg:l??void 0}}Tg(e){let s=-1;if(e)s=this.Fw.indexOf(e);else{const l=this.Qt().gd().Gs();l!==null&&(s=this.Qt().Xs().indexOf(l))}return s}yg(e,s,l,u){this.Im.p((()=>this.Pg(s,l,u,e)))}kg(e,s,l,u){this.Vm.p((()=>this.Pg(s,l,u,e)))}Qw(e,s,l){this.mg(this.Qt().pd()?.ou??null),this.nd.p((()=>this.Pg(e,s,l)))}eg(){const e=this.Ps.timeScale.visible?"":"none";this.tg.iv().style.display=e}fg(){return this.Fw[0].cv().U_().N().visible}pg(){return this.Fw[0].cv().q_().N().visible}ig(){return"ResizeObserver"in window&&(this.Yw=new ResizeObserver((e=>{const s=e[e.length-1];s&&this.sg(s.contentRect.width,s.contentRect.height)})),this.Yw.observe(this.Av,{box:"border-box"}),!0)}ag(){this.Yw!==null&&this.Yw.disconnect(),this.Yw=null}}function fc(a){return!!(a.handleScroll.mouseWheel||a.handleScale.mouseWheel)}function ES(a){return a.open===void 0&&a.value===void 0}function jS(a){return(function(e){return e.open!==void 0})(a)||(function(e){return e.value!==void 0})(a)}function W0(a,e,s,l){const u=s.value,c={js:e,wt:a,Wt:[u,u,u,u],Gr:l};return s.color!==void 0&&(c.R=s.color),c}function CS(a,e,s,l){const u=s.value,c={js:e,wt:a,Wt:[u,u,u,u],Gr:l};return s.lineColor!==void 0&&(c.vt=s.lineColor),s.topColor!==void 0&&(c.eh=s.topColor),s.bottomColor!==void 0&&(c.rh=s.bottomColor),c}function TS(a,e,s,l){const u=s.value,c={js:e,wt:a,Wt:[u,u,u,u],Gr:l};return s.topLineColor!==void 0&&(c.hh=s.topLineColor),s.bottomLineColor!==void 0&&(c.ah=s.bottomLineColor),s.topFillColor1!==void 0&&(c.oh=s.topFillColor1),s.topFillColor2!==void 0&&(c._h=s.topFillColor2),s.bottomFillColor1!==void 0&&(c.uh=s.bottomFillColor1),s.bottomFillColor2!==void 0&&(c.dh=s.bottomFillColor2),c}function zS(a,e,s,l){const u={js:e,wt:a,Wt:[s.open,s.high,s.low,s.close],Gr:l};return s.color!==void 0&&(u.R=s.color),u}function RS(a,e,s,l){const u={js:e,wt:a,Wt:[s.open,s.high,s.low,s.close],Gr:l};return s.color!==void 0&&(u.R=s.color),s.borderColor!==void 0&&(u.Ht=s.borderColor),s.wickColor!==void 0&&(u.nh=s.wickColor),u}function AS(a,e,s,l,u){const c=ve(u)(s),f=Math.max(...c),m=Math.min(...c),p=c[c.length-1],d=[p,f,m,p],{time:x,color:y,...S}=s;return{js:e,wt:a,Wt:d,Gr:l,le:S,R:y}}function un(a){return a.Wt!==void 0}function I0(a,e){return e.customValues!==void 0&&(a.Ag=e.customValues),a}function ms(a){return(e,s,l,u,c,f)=>(function(m,p){return p?p(m):ES(m)})(l,f)?I0({wt:e,js:s,Gr:u},l):I0(a(e,s,l,u,c),l)}function tp(a){return{Candlestick:ms(RS),Bar:ms(zS),Area:ms(CS),Baseline:ms(TS),Histogram:ms(W0),Line:ms(W0),Custom:ms(AS)}[a]}function ep(a){return{js:0,Lg:new Map,Ea:a}}function ip(a,e){if(a!==void 0&&a.length!==0)return{zg:e.key(a[0].wt),Og:e.key(a[a.length-1].wt)}}function sp(a){let e;return a.forEach((s=>{e===void 0&&(e=s.Gr)})),ve(e)}class DS{constructor(e){this.Ng=new Map,this.Fg=new Map,this.Wg=new Map,this.Hg=[],this.cu=e}m(){this.Ng.clear(),this.Fg.clear(),this.Wg.clear(),this.Hg=[]}Ug(e,s){let l=this.Ng.size!==0,u=!1;const c=this.Fg.get(e);if(c!==void 0)if(this.Fg.size===1)l=!1,u=!0,this.Ng.clear();else for(const p of this.Hg)p.pointData.Lg.delete(e)&&(u=!0);let f=[];if(s.length!==0){const p=s.map((_=>_.time)),d=this.cu.createConverterToInternalObj(s),x=tp(e.wh()),y=e.rl(),S=e.hl();f=s.map(((_,w)=>{const A=d(_.time),L=this.cu.key(A);let D=this.Ng.get(L);D===void 0&&(D=ep(A),this.Ng.set(L,D),u=!0);const V=x(A,D.js,_,p[w],y,S);return D.Lg.set(e,V),V}))}l&&this.$g(),this.qg(e,f);let m=-1;if(u){const p=[];this.Ng.forEach((d=>{p.push({timeWeight:0,time:d.Ea,pointData:d,originalTime:sp(d.Lg)})})),p.sort(((d,x)=>this.cu.key(d.time)-this.cu.key(x.time))),m=this.jg(p)}return this.Yg(e,m,(function(p,d,x){const y=ip(p,x),S=ip(d,x);if(y!==void 0&&S!==void 0)return{Kg:!1,Ta:y.Og>=S.Og&&y.zg>=S.zg}})(this.Fg.get(e),c,this.cu))}Hd(e){return this.Ug(e,[])}Zg(e,s,l){if(l&&e.La())throw new Error("Historical updates are not supported when conflation is enabled. Conflation requires data to be processed in order.");const u=s;(function(D){D.Gr===void 0&&(D.Gr=D.time)})(u),this.cu.preprocessData(s);const c=this.cu.createConverterToInternalObj([s])(s.time),f=this.Wg.get(e);if(!l&&f!==void 0&&this.cu.key(c)<this.cu.key(f))throw new Error(`Cannot update oldest data, last time=${f}, new time=${c}`);let m=this.Ng.get(this.cu.key(c));if(l&&m===void 0)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const p=m===void 0;m===void 0&&(m=ep(c),this.Ng.set(this.cu.key(c),m));const d=tp(e.wh()),x=e.rl(),y=e.hl(),S=d(c,m.js,s,u.Gr,x,y),_=!l&&!p&&f!==void 0&&this.cu.key(c)===this.cu.key(f);m.Lg.set(e,S),l?this.Gg(e,S,m.js):_&&e.La()&&un(S)?(e.kr(S),this.Xg(e,S)):this.Xg(e,S);const w={Ta:un(S),Kg:l};if(!p)return this.Yg(e,-1,w);const A={timeWeight:0,time:m.Ea,pointData:m,originalTime:sp(m.Lg)},L=mn(this.Hg,this.cu.key(A.time),((D,V)=>this.cu.key(D.time)<V));this.Hg.splice(L,0,A);for(let D=L;D<this.Hg.length;++D)lr(this.Hg[D].pointData,D);return this.cu.fillWeightsForPoints(this.Hg,L),this.Yg(e,L,w)}Jg(e,s){const l=this.Fg.get(e);if(l===void 0||s<=0)return[[],this.Qg()];s=Math.min(s,l.length);const u=l.splice(-s).reverse();l.length===0?this.Wg.delete(e):this.Wg.set(e,l[l.length-1].wt);for(const c of u){const f=this.Ng.get(this.cu.key(c.wt));if(f&&(f.Lg.delete(e),f.Lg.size===0)){this.Ng.delete(this.cu.key(f.Ea)),this.Hg.splice(f.js,1);for(let m=f.js;m<this.Hg.length;++m)lr(this.Hg[m].pointData,m)}}return[u,this.Yg(e,this.Hg.length-1,{Kg:!1,Ta:!1})]}Xg(e,s){let l=this.Fg.get(e);l===void 0&&(l=[],this.Fg.set(e,l));const u=l.length!==0?l[l.length-1]:null;u===null||this.cu.key(s.wt)>this.cu.key(u.wt)?un(s)&&l.push(s):un(s)?l[l.length-1]=s:l.splice(-1,1),this.Wg.set(e,s.wt)}Gg(e,s,l){const u=this.Fg.get(e);if(u===void 0)return;const c=mn(u,l,((f,m)=>f.js<m));un(s)?u[c]=s:u.splice(c,1)}qg(e,s){s.length!==0?(this.Fg.set(e,s.filter(un)),this.Wg.set(e,s[s.length-1].wt)):(this.Fg.delete(e),this.Wg.delete(e))}$g(){for(const e of this.Hg)e.pointData.Lg.size===0&&this.Ng.delete(this.cu.key(e.time))}jg(e){let s=-1;for(let l=0;l<this.Hg.length&&l<e.length;++l){const u=this.Hg[l],c=e[l];if(this.cu.key(u.time)!==this.cu.key(c.time)){s=l;break}c.timeWeight=u.timeWeight,lr(c.pointData,l)}if(s===-1&&this.Hg.length!==e.length&&(s=Math.min(this.Hg.length,e.length)),s===-1)return-1;for(let l=s;l<e.length;++l)lr(e[l].pointData,l);return this.cu.fillWeightsForPoints(e,s),this.Hg=e,s}tM(){if(this.Fg.size===0)return null;let e=0;return this.Fg.forEach((s=>{s.length!==0&&(e=Math.max(e,s[s.length-1].js))})),e}Yg(e,s,l){const u=this.Qg();if(s!==-1)this.Fg.forEach(((c,f)=>{u.F_.set(f,{le:c,iM:f===e?l:void 0})})),this.Fg.has(e)||u.F_.set(e,{le:[],iM:l}),u.Et.sM=this.Hg,u.Et.nM=s;else{const c=this.Fg.get(e);u.F_.set(e,{le:c||[],iM:l})}return u}Qg(){return{F_:new Map,Et:{vc:this.tM()}}}}function lr(a,e){a.js=e,a.Lg.forEach((s=>{s.js=e}))}function OS(a,e){return a.wt<e}function LS(a,e){return e<a.wt}function hg(a,e,s){const l=e.Aa(),u=e.bi(),c=mn(a,l,OS),f=eg(a,u,LS);if(!s)return{from:c,to:f};let m=c,p=f;return c>0&&c<a.length&&a[c].wt>=l&&(m=c-1),f>0&&f<a.length&&a[f-1].wt<=u&&(p=f+1),{from:m,to:p}}class Qc{constructor(e,s,l){this.eM=!0,this.rM=!0,this.hM=!0,this.aM=[],this.lM=null,this.oM=-1,this.ee=e,this.re=s,this._M=l}kt(e){this.eM=!0,e==="data"&&(this.rM=!0),e==="options"&&(this.hM=!0)}Tt(){return this.ee.It()?(this.uM(),this.lM===null?null:this.cM):null}dM(){this.aM=this.aM.map((e=>({...e,...this.ee.ga().gh(e.wt)})))}fM(){this.lM=null}uM(){const e=this.re.Et(),s=e.N().enableConflation?e.Hc():0;s!==this.oM&&(this.rM=!0,this.oM=s),this.rM&&(this.pM(),this.rM=!1),this.hM&&(this.dM(),this.hM=!1),this.eM&&(this.vM(),this.eM=!1)}vM(){const e=this.ee.Ft(),s=this.re.Et();if(this.fM(),s.Gi()||e.Gi())return;const l=s.Ie();if(l===null||this.ee.qs().yh()===0)return;const u=this.ee.Lt();u!==null&&(this.lM=hg(this.aM,l,this._M),this.mM(e,s,u.Wt),this.wM())}}class US{constructor(e,s){this.gM=e,this.Ki=s}nt(e,s,l){this.gM.draw(e,this.Ki,s,l)}}class BS extends Qc{constructor(e,s,l){super(e,s,!1),this.$h=l,this.cM=new US(this.$h.renderer(),(u=>{const c=e.Lt();return c===null?null:e.Ft().Nt(u,c.Wt)}))}get ma(){return this.$h.conflationReducer}Oa(e){return this.$h.priceValueBuilder(e)}al(e){return this.$h.isWhitespace(e)}pM(){const e=this.ee.ga();this.aM=this.ee.Na().Dh().map((s=>({wt:s.js,_t:NaN,...e.gh(s.js),MM:s.le})))}mM(e,s){s.mc(this.aM,El(this.lM))}wM(){this.$h.update({bars:this.aM.map(HS),barSpacing:this.re.Et().ul(),visibleRange:this.lM,conflationFactor:this.re.Et().Hc()},this.ee.N())}}function HS(a){return{x:a._t,time:a.wt,originalData:a.MM,barColor:a.th}}const YS={color:"#2196f3"},VS=(a,e,s)=>{const l=Ji(s);return new BS(a,e,l)};function Kc(a){const e={value:a.Wt[3],time:a.Gr};return a.Ag!==void 0&&(e.customValues=a.Ag),e}function np(a){const e=Kc(a);return a.R!==void 0&&(e.color=a.R),e}function qS(a){const e=Kc(a);return a.vt!==void 0&&(e.lineColor=a.vt),a.eh!==void 0&&(e.topColor=a.eh),a.rh!==void 0&&(e.bottomColor=a.rh),e}function kS(a){const e=Kc(a);return a.hh!==void 0&&(e.topLineColor=a.hh),a.ah!==void 0&&(e.bottomLineColor=a.ah),a.oh!==void 0&&(e.topFillColor1=a.oh),a._h!==void 0&&(e.topFillColor2=a._h),a.uh!==void 0&&(e.bottomFillColor1=a.uh),a.dh!==void 0&&(e.bottomFillColor2=a.dh),e}function cg(a){const e={open:a.Wt[0],high:a.Wt[1],low:a.Wt[2],close:a.Wt[3],time:a.Gr};return a.Ag!==void 0&&(e.customValues=a.Ag),e}function GS(a){const e=cg(a);return a.R!==void 0&&(e.color=a.R),e}function XS(a){const e=cg(a),{R:s,Ht:l,nh:u}=a;return s!==void 0&&(e.color=s),l!==void 0&&(e.borderColor=l),u!==void 0&&(e.wickColor=u),e}function or(a){return{Area:qS,Line:np,Baseline:kS,Histogram:np,Bar:GS,Candlestick:XS,Custom:QS}[a]}function QS(a){const e=a.Gr;return{...a.le,time:e}}const KS={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1,doNotSnapToHiddenSeriesIndices:!1},JS={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},ZS={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:Jp,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},dc={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0,ensureEdgeTickMarksVisible:!1},$S={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1,enableConflation:!1,conflationThresholdFactor:1,precomputeConflationOnInit:!1,precomputeConflationPriority:"background"};function lp(){return{addDefaultPane:!0,width:0,height:0,autoSize:!1,layout:ZS,crosshair:KS,grid:JS,overlayPriceScales:{...dc},leftPriceScale:{...dc,visible:!1},rightPriceScale:{...dc,visible:!0},timeScale:$S,localization:{locale:pn?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class og{constructor(e,s,l){this.Yp=e,this.bM=s,this.SM=l??0}applyOptions(e){this.Yp.Qt().md(this.bM,e,this.SM)}options(){return this.Ki().N()}width(){return Sr(this.bM)?this.Yp.dg(this.bM):0}setVisibleRange(e){this.setAutoScale(!1),this.Ki().$o(new re(e.from,e.to))}getVisibleRange(){let e,s,l=this.Ki().er();if(l===null)return null;if(this.Ki().io()){const u=this.Ki().m_(),c=ag(u);l=cn(l,this.Ki().no()),e=Number((Math.round(l.Ze()/u)*u).toFixed(c)),s=Number((Math.round(l.Ge()/u)*u).toFixed(c))}else e=l.Ze(),s=l.Ge();return{from:e,to:s}}setAutoScale(e){this.applyOptions({autoScale:e})}Ki(){return X(this.Yp.Qt().wd(this.bM,this.SM)).Ft}}class FS{constructor(e,s,l,u){this.Yp=e,this.yt=l,this.xM=s,this.CM=u}getHeight(){return this.yt.$t()}setHeight(e){const s=this.Yp.Qt(),l=s.Gd(this.yt);s.xd(l,e)}getStretchFactor(){return this.yt.E_()}setStretchFactor(e){this.yt.A_(e),this.Yp.Qt().Ca()}paneIndex(){return this.Yp.Qt().Gd(this.yt)}moveTo(e){const s=this.paneIndex();s!==e&&(ie(e>=0&&e<this.Yp.Zp().length,"Invalid pane index"),this.Yp.Qt().yd(s,e))}getSeries(){return this.yt.F_().map((e=>this.xM(e)))??[]}getHTMLElement(){const e=this.Yp.Zp();return e&&e.length!==0&&e[this.paneIndex()]?e[this.paneIndex()].iv():null}attachPrimitive(e){this.yt.nl(e),e.attached&&e.attached({chart:this.CM,requestUpdate:()=>this.yt.Qt().Ca()})}detachPrimitive(e){this.yt.el(e)}priceScale(e){if(this.yt.V_(e)===null)throw new Error(`Cannot find price scale with id: ${e}`);return new og(this.Yp,e,this.paneIndex())}setPreserveEmptyPane(e){this.yt.O_(e)}preserveEmptyPane(){return this.yt.N_()}addCustomSeries(e,s={},l=0){return this.CM.addCustomSeries(e,s,l)}addSeries(e,s={}){return this.CM.addSeries(e,s,this.paneIndex())}}const PS={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class ap{constructor(e){this.hr=e}applyOptions(e){this.hr.cr(e)}options(){return this.hr.N()}yM(){return this.hr}}class WS{constructor(e,s,l,u,c,f){this.kM=new kt,this.ee=e,this.PM=s,this.TM=l,this.cu=c,this.CM=u,this.RM=f}m(){this.kM.m()}priceFormatter(){return this.ee.Xa()}priceToCoordinate(e){const s=this.ee.Lt();return s===null?null:this.ee.Ft().Nt(e,s.Wt)}coordinateToPrice(e){const s=this.ee.Lt();return s===null?null:this.ee.Ft().Ds(e,s.Wt)}barsInLogicalRange(e){if(e===null)return null;const s=new dn(new fn(e.from,e.to)).Ru(),l=this.ee.qs();if(l.Gi())return null;const u=l.$s(s.Aa(),1),c=l.$s(s.bi(),-1),f=X(l.kh()),m=X(l.sn());if(u!==null&&c!==null&&u.js>c.js)return{barsBefore:e.from-f,barsAfter:m-e.to};const p={barsBefore:u===null||u.js===f?e.from-f:u.js-f,barsAfter:c===null||c.js===m?m-e.to:m-c.js};return u!==null&&c!==null&&(p.from=u.Gr,p.to=c.Gr),p}setData(e){this.cu,this.ee.wh(),this.PM.DM(this.ee,e),this.IM("full")}update(e,s=!1){this.ee.wh(),this.PM.VM(this.ee,e,s),this.IM("update")}pop(e=1){const s=this.PM.BM(this.ee,e);s.length!==0&&this.IM("update");const l=or(this.seriesType());return s.map((u=>l(u)))}dataByIndex(e,s){const l=this.ee.qs().$s(e,s);return l===null?null:or(this.seriesType())(l)}data(){const e=or(this.seriesType());return this.ee.qs().Dh().map((s=>e(s)))}subscribeDataChanged(e){this.kM.i(e)}unsubscribeDataChanged(e){this.kM._(e)}applyOptions(e){this.ee.cr(e)}options(){return pi(this.ee.N())}priceScale(){return this.TM.priceScale(this.ee.Ft().ol(),this.getPane().paneIndex())}createPriceLine(e){const s=Ce(pi(PS),e),l=this.ee.Da(s);return new ap(l)}removePriceLine(e){this.ee.Ia(e.yM())}priceLines(){return this.ee.Va().map((e=>new ap(e)))}seriesType(){return this.ee.wh()}lastValueData(e){const s=this.ee.Ve(e);return s.Be?{noData:!0}:{noData:!1,price:s.gt,color:s.R}}attachPrimitive(e){this.ee.nl(e),e.attached&&e.attached({chart:this.CM,series:this,requestUpdate:()=>this.ee.Qt().Ca(),horzScaleBehavior:this.cu})}detachPrimitive(e){this.ee.el(e),e.detached&&e.detached(),this.ee.Qt().Ca()}getPane(){const e=this.ee,s=X(this.ee.Qt().Kn(e));return this.RM(s)}moveToPane(e){this.ee.Qt().jd(this.ee,e)}seriesOrder(){const e=this.ee.Qt().Kn(this.ee);return e===null?-1:e.F_().indexOf(this.ee)}setSeriesOrder(e){const s=this.ee.Qt().Kn(this.ee);s!==null&&s.su(this.ee,e)}IM(e){this.kM.v()&&this.kM.p(e)}}class IS{constructor(e,s,l){this.EM=new kt,this.Nu=new kt,this.xw=new kt,this.ns=e,this.Jh=e.Et(),this.tg=s,this.Jh.Lc().i(this.AM.bind(this)),this.Jh.zc().i(this.LM.bind(this)),this.tg.Dw().i(this.zM.bind(this)),this.cu=l}m(){this.Jh.Lc().u(this),this.Jh.zc().u(this),this.tg.Dw().u(this),this.EM.m(),this.Nu.m(),this.xw.m()}scrollPosition(){return this.Jh.Cc()}scrollToPosition(e,s){s?this.Jh.Bc(e,1e3):this.ns.Mn(e)}scrollToRealTime(){this.Jh.Vc()}getVisibleRange(){const e=this.Jh.lc();return e===null?null:{from:e.from.originalTime,to:e.to.originalTime}}setVisibleRange(e){const s={from:this.cu.convertHorzItemToInternal(e.from),to:this.cu.convertHorzItemToInternal(e.to)},l=this.Jh.cc(s);this.ns.$d(l)}getVisibleLogicalRange(){const e=this.Jh.ac();return e===null?null:{from:e.Aa(),to:e.bi()}}setVisibleLogicalRange(e){ie(e.from<=e.to,"The from index cannot be after the to index."),this.ns.$d(e)}resetTimeScale(){this.ns.wn()}fitContent(){this.ns.Fc()}logicalToCoordinate(e){const s=this.ns.Et();return s.Gi()?null:s.qt(e)}coordinateToLogical(e){return this.Jh.Gi()?null:this.Jh.wc(e)}timeToIndex(e,s){const l=this.cu.convertHorzItemToInternal(e);return this.Jh.ec(l,s)}timeToCoordinate(e){const s=this.timeToIndex(e,!1);return s===null?null:this.Jh.qt(s)}coordinateToTime(e){const s=this.ns.Et(),l=s.wc(e),u=s.es(l);return u===null?null:u.originalTime}width(){return this.tg.sv().width}height(){return this.tg.sv().height}subscribeVisibleTimeRangeChange(e){this.EM.i(e)}unsubscribeVisibleTimeRangeChange(e){this.EM._(e)}subscribeVisibleLogicalRangeChange(e){this.Nu.i(e)}unsubscribeVisibleLogicalRangeChange(e){this.Nu._(e)}subscribeSizeChange(e){this.xw.i(e)}unsubscribeSizeChange(e){this.xw._(e)}applyOptions(e){this.Jh.cr(e)}options(){return{...pi(this.Jh.N()),barSpacing:this.Jh.ul()}}AM(){this.EM.v()&&this.EM.p(this.getVisibleRange())}LM(){this.Nu.v()&&this.Nu.p(this.getVisibleLogicalRange())}zM(e){this.xw.p(e.width,e.height)}}function rp(a){return(function(e){if(Wa(e.handleScale)){const l=e.handleScale;e.handleScale={axisDoubleClickReset:{time:l,price:l},axisPressedMouseMove:{time:l,price:l},mouseWheel:l,pinch:l}}else if(e.handleScale!==void 0){const{axisPressedMouseMove:l,axisDoubleClickReset:u}=e.handleScale;Wa(l)&&(e.handleScale.axisPressedMouseMove={time:l,price:l}),Wa(u)&&(e.handleScale.axisDoubleClickReset={time:u,price:u})}const s=e.handleScroll;Wa(s)&&(e.handleScroll={horzTouchDrag:s,vertTouchDrag:s,mouseWheel:s,pressedMouseMove:s})})(a),a}class tw{constructor(e,s,l){this.OM=new Map,this.NM=new Map,this.FM=new kt,this.WM=new kt,this.HM=new kt,this.Xc=new WeakMap,this.UM=new DS(s);const u=l===void 0?pi(lp()):Ce(pi(lp()),rp(l));this.$M=s,this.Yp=new NS(e,u,s),this.Yp.nw().i((f=>{this.FM.v()&&this.FM.p(this.qM(f()))}),this),this.Yp.ew().i((f=>{this.WM.v()&&this.WM.p(this.qM(f()))}),this),this.Yp.Md().i((f=>{this.HM.v()&&this.HM.p(this.qM(f()))}),this);const c=this.Yp.Qt();this.jM=new IS(c,this.Yp.rg(),this.$M)}remove(){this.Yp.nw().u(this),this.Yp.ew().u(this),this.Yp.Md().u(this),this.jM.m(),this.Yp.m(),this.OM.clear(),this.NM.clear(),this.FM.m(),this.WM.m(),this.HM.m(),this.UM.m()}resize(e,s,l){this.autoSizeActive()||this.Yp.sg(e,s,l)}addCustomSeries(e,s={},l=0){const u=(c=>({type:"Custom",isBuiltIn:!1,defaultOptions:{...YS,...c.defaultOptions()},YM:VS,KM:c}))(Ji(e));return this.ZM(u,s,l)}addSeries(e,s={},l=0){return this.ZM(e,s,l)}removeSeries(e){const s=ve(this.OM.get(e)),l=this.UM.Hd(s);this.Yp.Qt().Hd(s),this.GM(l),this.OM.delete(e),this.NM.delete(s)}DM(e,s){this.GM(this.UM.Ug(e,s))}VM(e,s,l){this.GM(this.UM.Zg(e,s,l))}BM(e,s){const[l,u]=this.UM.Jg(e,s);return l.length!==0&&this.GM(u),l}subscribeClick(e){this.FM.i(e)}unsubscribeClick(e){this.FM._(e)}subscribeCrosshairMove(e){this.HM.i(e)}unsubscribeCrosshairMove(e){this.HM._(e)}subscribeDblClick(e){this.WM.i(e)}unsubscribeDblClick(e){this.WM._(e)}priceScale(e,s=0){return new og(this.Yp,e,s)}timeScale(){return this.jM}applyOptions(e){this.Yp.cr(rp(e))}options(){return this.Yp.N()}takeScreenshot(e=!1,s=!1){let l,u;try{s||(l=this.Yp.Qt().N().crosshair.mode,this.Yp.cr({crosshair:{mode:2}})),u=this.Yp.ug(e)}finally{s||l===void 0||this.Yp.Qt().cr({crosshair:{mode:l}})}return u}addPane(e=!1){const s=this.Yp.Qt().Xd();return s.O_(e),this.XM(s)}removePane(e){this.Yp.Qt().Sd(e)}swapPanes(e,s){this.Yp.Qt().Cd(e,s)}autoSizeActive(){return this.Yp.vg()}chartElement(){return this.Yp.hv()}panes(){return this.Yp.Qt().Xs().map((e=>this.XM(e)))}paneSize(e=0){const s=this.Yp.gg(e);return{height:s.height,width:s.width}}setCrosshairPosition(e,s,l){const u=this.OM.get(l);if(u===void 0)return;const c=this.Yp.Qt().Kn(u);c!==null&&this.Yp.Qt().Ld(e,s,c)}clearCrosshairPosition(){this.Yp.Qt().zd(!0)}horzBehaviour(){return this.$M}ZM(e,s={},l=0){ie(e.YM!==void 0),(function(p){if(p===void 0||p.type==="custom")return;const d=p;d.minMove!==void 0&&d.precision===void 0&&(d.precision=ag(d.minMove))})(s.priceFormat),e.type==="Candlestick"&&(function(p){p.borderColor!==void 0&&(p.borderUpColor=p.borderColor,p.borderDownColor=p.borderColor),p.wickColor!==void 0&&(p.wickUpColor=p.wickColor,p.wickDownColor=p.wickColor)})(s);const u=Ce(pi(Qp),pi(e.defaultOptions),s),c=e.YM,f=new Mr(this.Yp.Qt(),e.type,u,c,e.KM);this.Yp.Qt().Fd(f,l);const m=new WS(f,this,this,this,this.$M,(p=>this.XM(p)));return this.OM.set(m,f),this.NM.set(f,m),m}GM(e){const s=this.Yp.Qt();s.Od(e.Et.vc,e.Et.sM,e.Et.nM),e.F_.forEach(((l,u)=>u.ht(l.le,l.iM))),s.Et().Ju(),s.Sc()}JM(e){return ve(this.NM.get(e))}qM(e){const s=new Map;e.Vg.forEach(((u,c)=>{const f=c.wh(),m=or(f)(u);if(f!=="Custom")ie(jS(m));else{const p=c.hl();ie(!p||p(m)===!1)}s.set(this.JM(c),m)}));const l=e.Ig!==void 0&&this.NM.has(e.Ig)?this.JM(e.Ig):void 0;return{time:e.Gr,logical:e.js,point:e.Rg,paneIndex:e.Dg,hoveredSeries:l,hoveredObjectId:e.Bg,seriesData:s,sourceEvent:e.Eg}}XM(e){let s=this.Xc.get(e);return s||(s=new FS(this.Yp,(l=>this.JM(l)),e,this),this.Xc.set(e,s)),s}}function ew(a){if(Rl(a)){const e=document.getElementById(a);return ie(e!==null,`Cannot find element in DOM with id=${a}`),e}return a}function iw(a,e,s){const l=ew(a),u=new tw(l,e,s);return e.setOptions(u.options()),u}function sw(a,e){return iw(a,new X0,X0.pf(e))}class fg extends Qc{constructor(e,s){super(e,s,!0)}mM(e,s,l){s.mc(this.aM,El(this.lM)),e.Yo(this.aM,l,El(this.lM))}QM(e,s){return{wt:e,gt:s,_t:NaN,ut:NaN}}pM(){const e=this.ee.ga();this.aM=this.ee.Na().Dh().map((s=>{let l;if((s.jr??1)>1){const u=s.Wt[1],c=s.Wt[2],f=s.Wt[3];l=Math.abs(u-f)>Math.abs(c-f)?u:c}else l=s.Wt[3];return this.tb(s.js,l,e)}))}}function nw(a,e,s,l,u,c,f){if(e.length===0||l.from>=e.length||l.to<=0)return;const{context:m,horizontalPixelRatio:p,verticalPixelRatio:d}=a,x=e[l.from];let y=c(a,x),S=x;if(l.to-l.from<2){const _=u/2;m.beginPath();const w={_t:x._t-_,ut:x.ut},A={_t:x._t+_,ut:x.ut};m.moveTo(w._t*p,w.ut*d),m.lineTo(A._t*p,A.ut*d),f(a,y,w,A)}else{const _=(A,L)=>{f(a,y,S,L),m.beginPath(),y=A,S=L};let w=S;m.beginPath(),m.moveTo(x._t*p,x.ut*d);for(let A=l.from+1;A<l.to;++A){w=e[A];const L=c(a,w);switch(s){case 0:m.lineTo(w._t*p,w.ut*d);break;case 1:m.lineTo(w._t*p,e[A-1].ut*d),L!==y&&(_(L,w),m.lineTo(w._t*p,e[A-1].ut*d)),m.lineTo(w._t*p,w.ut*d);break;case 2:{const[D,V]=lw(e,A-1,A);m.bezierCurveTo(D._t*p,D.ut*d,V._t*p,V.ut*d,w._t*p,w.ut*d);break}}s!==1&&L!==y&&(_(L,w),m.moveTo(w._t*p,w.ut*d))}(S!==w||S===w&&s===1)&&f(a,y,S,w)}}const up=6;function mc(a,e){return{_t:a._t-e._t,ut:a.ut-e.ut}}function hp(a,e){return{_t:a._t/e,ut:a.ut/e}}function lw(a,e,s){const l=Math.max(0,e-1),u=Math.min(a.length-1,s+1);var c,f;return[(c=a[e],f=hp(mc(a[s],a[l]),up),{_t:c._t+f._t,ut:c.ut+f.ut}),mc(a[s],hp(mc(a[u],a[e]),up))]}function aw(a,e){const s=a.context;s.strokeStyle=e,s.stroke()}class rw extends Zi{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et(e){if(this.rt===null)return;const{ot:s,lt:l,ib:u,sb:c,ct:f,Zt:m,nb:p}=this.rt;if(l===null)return;const d=e.context;d.lineCap="butt",d.lineWidth=f*e.verticalPixelRatio,vs(d,m),d.lineJoin="round";const x=this.eb.bind(this);c!==void 0&&nw(e,s,c,l,u,x,aw),p&&(function(y,S,_,w,A){if(w.to-w.from<=0)return;const{horizontalPixelRatio:L,verticalPixelRatio:D,context:V}=y;let K=null;const Z=Math.max(1,Math.floor(L))%2/2,tt=_*D+Z;for(let F=w.to-1;F>=w.from;--F){const P=S[F];if(P){const G=A(y,P);G!==K&&(V.beginPath(),K!==null&&V.fill(),V.fillStyle=G,K=G);const st=Math.round(P._t*L)+Z,nt=P.ut*D;V.moveTo(st,nt),V.arc(st,nt,tt,0,2*Math.PI)}}V.fill()})(e,s,p,l,x)}}class uw extends rw{eb(e,s){return s.vt}}class hw extends fg{constructor(){super(...arguments),this.cM=new uw}tb(e,s,l){return{...this.QM(e,s),...l.gh(e)}}wM(){const e=this.ee.N(),s={ot:this.aM,Zt:e.lineStyle,sb:e.lineVisible?e.lineType:void 0,ct:e.lineWidth,nb:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,lt:this.lM,ib:this.re.Et().ul()};this.cM.ht(s)}}const pc={type:"Line",isBuiltIn:!0,defaultOptions:{color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},YM:(a,e)=>new hw(a,e)};class cw extends Qc{constructor(e,s){super(e,s,!1)}mM(e,s,l){s.mc(this.aM,El(this.lM)),e.Zo(this.aM,l,El(this.lM))}Lb(e,s,l){return{wt:e,Hr:s.Wt[0],Ur:s.Wt[1],$r:s.Wt[2],qr:s.Wt[3],_t:NaN,Go:NaN,Xo:NaN,Jo:NaN,Qo:NaN}}pM(){const e=this.ee.ga();this.aM=this.ee.Na().Dh().map((s=>this.tb(s.js,s,e)))}}class ow extends Zi{constructor(){super(...arguments),this.jt=null,this.Ib=0}ht(e){this.jt=e}et(e){if(this.jt===null||this.jt.qs.length===0||this.jt.lt===null)return;const{horizontalPixelRatio:s}=e;this.Ib=(function(c,f){if(c>=2.5&&c<=4)return Math.floor(3*f);const m=1-.2*Math.atan(Math.max(4,c)-4)/(.5*Math.PI),p=Math.floor(c*m*f),d=Math.floor(c*f),x=Math.min(p,d);return Math.max(Math.floor(f),x)})(this.jt.ul,s),this.Ib>=2&&Math.floor(s)%2!=this.Ib%2&&this.Ib--;const l=this.jt.qs;this.jt.zb&&this.Ob(e,l,this.jt.lt),this.jt.Mi&&this.gm(e,l,this.jt.lt);const u=this.Nb(s);(!this.jt.Mi||this.Ib>2*u)&&this.Fb(e,l,this.jt.lt)}Ob(e,s,l){if(this.jt===null)return;const{context:u,horizontalPixelRatio:c,verticalPixelRatio:f}=e;let m="",p=Math.min(Math.floor(c),Math.floor(this.jt.ul*c));p=Math.max(Math.floor(c),Math.min(p,this.Ib));const d=Math.floor(.5*p);let x=null;for(let y=l.from;y<l.to;y++){const S=s[y];S.sh!==m&&(u.fillStyle=S.sh,m=S.sh);const _=Math.round(Math.min(S.Go,S.Qo)*f),w=Math.round(Math.max(S.Go,S.Qo)*f),A=Math.round(S.Xo*f),L=Math.round(S.Jo*f);let D=Math.round(c*S._t)-d;const V=D+p-1;x!==null&&(D=Math.max(x+1,D),D=Math.min(D,V));const K=V-D+1;u.fillRect(D,A,K,_-A),u.fillRect(D,w+1,K,L-w),x=V}}Nb(e){let s=Math.floor(1*e);this.Ib<=2*s&&(s=Math.floor(.5*(this.Ib-1)));const l=Math.max(Math.floor(e),s);return this.Ib<=2*l?Math.max(Math.floor(e),Math.floor(1*e)):l}gm(e,s,l){if(this.jt===null)return;const{context:u,horizontalPixelRatio:c,verticalPixelRatio:f}=e;let m="";const p=this.Nb(c);let d=null;for(let x=l.from;x<l.to;x++){const y=s[x];y.ih!==m&&(u.fillStyle=y.ih,m=y.ih);let S=Math.round(y._t*c)-Math.floor(.5*this.Ib);const _=S+this.Ib-1,w=Math.round(Math.min(y.Go,y.Qo)*f),A=Math.round(Math.max(y.Go,y.Qo)*f);if(d!==null&&(S=Math.max(d+1,S),S=Math.min(S,_)),this.jt.ul*c>2*p)d1(u,S,w,_-S+1,A-w+1,p);else{const L=_-S+1;u.fillRect(S,w,L,A-w+1)}d=_}}Fb(e,s,l){if(this.jt===null)return;const{context:u,horizontalPixelRatio:c,verticalPixelRatio:f}=e;let m="";const p=this.Nb(c);for(let d=l.from;d<l.to;d++){const x=s[d];let y=Math.round(Math.min(x.Go,x.Qo)*f),S=Math.round(Math.max(x.Go,x.Qo)*f),_=Math.round(x._t*c)-Math.floor(.5*this.Ib),w=_+this.Ib-1;if(x.th!==m){const A=x.th;u.fillStyle=A,m=A}this.jt.Mi&&(_+=p,y+=p,w-=p,S-=p),y>S||u.fillRect(_,y,w-_+1,S-y+1)}}}class fw extends cw{constructor(){super(...arguments),this.cM=new ow}tb(e,s,l){return{...this.Lb(e,s,l),...l.gh(e)}}wM(){const e=this.ee.N();this.cM.ht({qs:this.aM,ul:this.re.Et().ul(),zb:e.wickVisible,Mi:e.borderVisible,lt:this.lM})}}const dw={type:"Candlestick",isBuiltIn:!0,defaultOptions:{upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},YM:(a,e)=>new fw(a,e)};class mw extends Zi{constructor(){super(...arguments),this.jt=null,this.Wb=[]}ht(e){this.jt=e,this.Wb=[]}et({context:e,horizontalPixelRatio:s,verticalPixelRatio:l}){if(this.jt===null||this.jt.ot.length===0||this.jt.lt===null)return;this.Wb.length||this.Hb(s);const u=Math.max(1,Math.floor(l)),c=Math.round(this.jt.Ub*l)-Math.floor(u/2),f=c+u;for(let m=this.jt.lt.from;m<this.jt.lt.to;m++){const p=this.jt.ot[m],d=this.Wb[m-this.jt.lt.from],x=Math.round(p.ut*l);let y,S;e.fillStyle=p.th,x<=c?(y=x,S=f):(y=c,S=x-Math.floor(u/2)+u),e.fillRect(d.Aa,y,d.bi-d.Aa+1,S-y)}}Hb(e){if(this.jt===null||this.jt.ot.length===0||this.jt.lt===null)return void(this.Wb=[]);const s=Math.ceil(this.jt.ul*e)<=1?0:Math.max(1,Math.floor(e)),l=Math.round(this.jt.ul*e)-s;this.Wb=new Array(this.jt.lt.to-this.jt.lt.from);for(let c=this.jt.lt.from;c<this.jt.lt.to;c++){const f=this.jt.ot[c],m=Math.round(f._t*e);let p,d;if(l%2){const x=(l-1)/2;p=m-x,d=m+x}else{const x=l/2;p=m-x,d=m+x-1}this.Wb[c-this.jt.lt.from]={Aa:p,bi:d,$b:m,oe:f._t*e,wt:f.wt}}for(let c=this.jt.lt.from+1;c<this.jt.lt.to;c++){const f=this.Wb[c-this.jt.lt.from],m=this.Wb[c-this.jt.lt.from-1];f.wt===m.wt+1&&f.Aa-m.bi!==s+1&&(m.$b>m.oe?m.bi=f.Aa-s-1:f.Aa=m.bi+s+1)}let u=Math.ceil(this.jt.ul*e);for(let c=this.jt.lt.from;c<this.jt.lt.to;c++){const f=this.Wb[c-this.jt.lt.from];f.bi<f.Aa&&(f.bi=f.Aa);const m=f.bi-f.Aa+1;u=Math.min(m,u)}if(s>0&&u<4)for(let c=this.jt.lt.from;c<this.jt.lt.to;c++){const f=this.Wb[c-this.jt.lt.from];f.bi-f.Aa+1>u&&(f.$b>f.oe?f.bi-=1:f.Aa+=1)}}}class pw extends fg{constructor(){super(...arguments),this.cM=new mw}tb(e,s,l){return{...this.QM(e,s),...l.gh(e)}}wM(){const e={ot:this.aM,ul:this.re.Et().ul(),lt:this.lM,Ub:this.ee.Ft().Nt(this.ee.N().base,X(this.ee.Lt()).Wt)};this.cM.ht(e)}}const gw={type:"Histogram",isBuiltIn:!0,defaultOptions:{color:"#26a69a",base:0},YM:(a,e)=>new pw(a,e)};class vw{constructor(e,s){this.ee=e,this.Zh=s,this.jb()}detach(){this.ee.detachPrimitive(this.Zh)}getSeries(){return this.ee}applyOptions(e){this.Zh&&this.Zh.cr&&this.Zh.cr(e)}jb(){this.ee.attachPrimitive(this.Zh)}}const yw={autoScale:!0,zOrder:"normal"};function wl(a,e){return qc(Math.min(Math.max(a,12),30)*e)}function gn(a,e){switch(a){case"arrowDown":case"arrowUp":return wl(e,1);case"circle":return wl(e,.8);case"square":return wl(e,.7)}}function dg(a){return(function(e){const s=Math.ceil(e);return s%2!=0?s-1:s})(wl(a,1))}function mg(a){return Math.max(wl(a,.1),3)}function cp(a,e,s){return e?a:s?Math.ceil(a/2):0}function op(a,e,s,l){const u=(gn("arrowUp",l)-1)/2*s.pS,c=(qc(l/2)-1)/2*s.pS;e.beginPath(),a?(e.moveTo(s._t-u,s.ut),e.lineTo(s._t,s.ut-u),e.lineTo(s._t+u,s.ut),e.lineTo(s._t+c,s.ut),e.lineTo(s._t+c,s.ut+u),e.lineTo(s._t-c,s.ut+u),e.lineTo(s._t-c,s.ut)):(e.moveTo(s._t-u,s.ut),e.lineTo(s._t,s.ut+u),e.lineTo(s._t+u,s.ut),e.lineTo(s._t+c,s.ut),e.lineTo(s._t+c,s.ut-u),e.lineTo(s._t-c,s.ut-u),e.lineTo(s._t-c,s.ut)),e.fill()}function fp(a,e,s,l,u,c){const f=(gn("arrowUp",l)-1)/2,m=(qc(l/2)-1)/2;return u>=e-m-2&&u<=e+m+2&&c>=(a?s:s-f)-2&&c<=(a?s+f:s)+2?!0:(()=>{if(u<e-f-3||u>e+f+3||c<(a?s-f-3:s)||c>(a?s:s+f+3))return!1;const p=Math.abs(u-e);return Math.abs(c-s)+3>=p/2})()}class xw{constructor(){this.jt=null,this.$n=new Cl,this.F=-1,this.W="",this.jv="",this.vS="normal"}ht(e){this.jt=e}qn(e,s,l){this.F===e&&this.W===s||(this.F=e,this.W=s,this.jv=jl(e,s),this.$n.On()),this.vS=l}Qn(e,s){if(this.jt===null||this.jt.lt===null)return null;for(let l=this.jt.lt.from;l<this.jt.lt.to;l++){const u=this.jt.ot[l];if(u&&Sw(u,e,s))return{zOrder:"normal",externalId:u.te??""}}return null}draw(e){this.vS!=="aboveSeries"&&e.useBitmapCoordinateSpace((s=>{this.et(s)}))}drawBackground(e){this.vS==="aboveSeries"&&e.useBitmapCoordinateSpace((s=>{this.et(s)}))}et({context:e,horizontalPixelRatio:s,verticalPixelRatio:l}){if(this.jt!==null&&this.jt.lt!==null){e.textBaseline="middle",e.font=this.jv;for(let u=this.jt.lt.from;u<this.jt.lt.to;u++){const c=this.jt.ot[u];c.ri!==void 0&&(c.ri.ss=this.$n.Ii(e,c.ri.mS),c.ri.$t=this.F,c.ri._t=c._t-c.ri.ss/2),bw(c,e,s,l)}}}}function bw(a,e,s,l){e.fillStyle=a.R,a.ri!==void 0&&(function(u,c,f,m,p,d){u.save(),u.scale(p,d),u.fillText(c,f,m),u.restore()})(e,a.ri.mS,a.ri._t,a.ri.ut,s,l),(function(u,c,f){if(u.yh!==0){switch(u.wS){case"arrowDown":return void op(!1,c,f,u.yh);case"arrowUp":return void op(!0,c,f,u.yh);case"circle":return void(function(m,p,d){const x=(gn("circle",d)-1)/2;m.beginPath(),m.arc(p._t,p.ut,x*p.pS,0,2*Math.PI,!1),m.fill()})(c,f,u.yh);case"square":return void(function(m,p,d){const x=gn("square",d),y=(x-1)*p.pS/2,S=p._t-y,_=p.ut-y;m.fillRect(S,_,x*p.pS,x*p.pS)})(c,f,u.yh)}u.wS}})(a,e,(function(u,c,f){const m=Math.max(1,Math.floor(c))%2/2;return{_t:Math.round(u._t*c)+m,ut:u.ut*f,pS:c}})(a,s,l))}function Sw(a,e,s){return!(a.ri===void 0||!(function(l,u,c,f,m,p){const d=f/2;return m>=l&&m<=l+c&&p>=u-d&&p<=u+d})(a.ri._t,a.ri.ut,a.ri.ss,a.ri.$t,e,s))||(function(l,u,c){if(l.yh===0)return!1;switch(l.wS){case"arrowDown":return fp(!0,l._t,l.ut,l.yh,u,c);case"arrowUp":return fp(!1,l._t,l.ut,l.yh,u,c);case"circle":return(function(f,m,p,d,x){const y=2+gn("circle",p)/2,S=f-d,_=m-x;return Math.sqrt(S*S+_*_)<=y})(l._t,l.ut,l.yh,u,c);case"square":return(function(f,m,p,d,x){const y=gn("square",p),S=(y-1)/2,_=f-S,w=m-S;return d>=_&&d<=_+y&&x>=w&&x<=w+y})(l._t,l.ut,l.yh,u,c)}})(a,e,s)}function dp(a){return a==="atPriceTop"||a==="atPriceBottom"||a==="atPriceMiddle"}function ww(a,e,s,l,u,c,f,m){const p=(function(w,A,L){if(dp(A.position)&&A.price!==void 0)return A.price;if("value"in(D=w)&&typeof D.value=="number")return w.value;var D;if((function(V){return"open"in V&&"high"in V&&"low"in V&&"close"in V})(w)){if(A.position==="inBar")return w.close;if(A.position==="aboveBar")return L?w.low:w.high;if(A.position==="belowBar")return L?w.high:w.low}})(s,e,f.priceScale().options().invertScale);if(p===void 0)return;const d=dp(e.position),x=m.timeScale(),y=ys(e.size)?Math.max(e.size,0):1,S=dg(x.options().barSpacing)*y,_=S/2;switch(a.yh=S,e.position){case"inBar":case"atPriceMiddle":return a.ut=X(f.priceToCoordinate(p)),void(a.ri!==void 0&&(a.ri.ut=a.ut+_+c+.6*u));case"aboveBar":case"atPriceTop":{const w=d?0:l.gS;return a.ut=X(f.priceToCoordinate(p))-_-w,a.ri!==void 0&&(a.ri.ut=a.ut-_-.6*u,l.gS+=1.2*u),void(d||(l.gS+=S+c))}case"belowBar":case"atPriceBottom":{const w=d?0:l.MS;return a.ut=X(f.priceToCoordinate(p))+_+w,a.ri!==void 0&&(a.ri.ut=a.ut+_+c+.6*u,l.MS+=1.2*u),void(d||(l.MS+=S+c))}}}class Mw{constructor(e,s,l){this.bS=[],this.xt=!0,this.SS=!0,this.Xt=new xw,this.ye=e,this.Lv=s,this.jt={ot:[],lt:null},this.Ps=l}renderer(){if(!this.ye.options().visible)return null;this.xt&&this.xS();const e=this.Lv.options().layout;return this.Xt.qn(e.fontSize,e.fontFamily,this.Ps.zOrder),this.Xt.ht(this.jt),this.Xt}CS(e){this.bS=e,this.kt("data")}kt(e){this.xt=!0,e==="data"&&(this.SS=!0)}yS(e){this.xt=!0,this.Ps=e}zOrder(){return this.Ps.zOrder==="aboveSeries"?"top":this.Ps.zOrder}xS(){const e=this.Lv.timeScale(),s=this.bS;this.SS&&(this.jt.ot=s.map((d=>({wt:d.time,_t:0,ut:0,yh:0,wS:d.shape,R:d.color,te:d.id,kS:d.kS,ri:void 0}))),this.SS=!1);const l=this.Lv.options().layout;this.jt.lt=null;const u=e.getVisibleLogicalRange();if(u===null)return;const c=new fn(Math.floor(u.from),Math.ceil(u.to));if(this.ye.data()[0]===null||this.jt.ot.length===0)return;let f=NaN;const m=mg(e.options().barSpacing),p={gS:m,MS:m};this.jt.lt=hg(this.jt.ot,c,!0);for(let d=this.jt.lt.from;d<this.jt.lt.to;d++){const x=s[d];x.time!==f&&(p.gS=m,p.MS=m,f=x.time);const y=this.jt.ot[d];y._t=X(e.logicalToCoordinate(x.time)),x.text!==void 0&&x.text.length>0&&(y.ri={mS:x.text,_t:0,ut:0,ss:0,$t:0});const S=this.ye.dataByIndex(x.time,0);S!==null&&ww(y,x,S,p,l.fontSize,m,this.ye,this.Lv)}this.xt=!1}}function mp(a){return{...yw,...a}}class _w{constructor(e){this.$h=null,this.bS=[],this.PS=[],this.TS=null,this.ye=null,this.Lv=null,this.RS=!0,this.DS=null,this.IS=null,this.VS=null,this.BS=!0,this.Ps=mp(e)}attached(e){this.ES(),this.Lv=e.chart,this.ye=e.series,this.$h=new Mw(this.ye,X(this.Lv),this.Ps),this.dS=e.requestUpdate,this.ye.subscribeDataChanged((s=>this.IM(s))),this.BS=!0,this.Jb()}Jb(){this.dS&&this.dS()}detached(){this.ye&&this.TS&&this.ye.unsubscribeDataChanged(this.TS),this.Lv=null,this.ye=null,this.$h=null,this.TS=null}CS(e){this.BS=!0,this.bS=e,this.ES(),this.RS=!0,this.IS=null,this.Jb()}AS(){return this.bS}paneViews(){return this.$h?[this.$h]:[]}updateAllViews(){this.LS()}hitTest(e,s){return this.$h?this.$h.renderer()?.Qn(e,s)??null:null}autoscaleInfo(e,s){if(this.Ps.autoScale&&this.$h){const l=this.zS();if(l)return{priceRange:null,margins:l}}return null}cr(e){this.Ps=mp({...this.Ps,...e}),this.Jb&&this.Jb()}zS(){const e=X(this.Lv).timeScale().options().barSpacing;if(this.RS||e!==this.VS){if(this.VS=e,this.bS.length>0){const s=mg(e),l=1.5*dg(e)+2*s,u=this.OS();this.DS={above:cp(l,u.aboveBar,u.inBar),below:cp(l,u.belowBar,u.inBar)}}else this.DS=null;this.RS=!1}return this.DS}OS(){return this.IS===null&&(this.IS=this.bS.reduce(((e,s)=>(e[s.position]||(e[s.position]=!0),e)),{inBar:!1,aboveBar:!1,belowBar:!1,atPriceTop:!1,atPriceBottom:!1,atPriceMiddle:!1})),this.IS}ES(){if(!this.BS||!this.Lv||!this.ye)return;const e=this.Lv.timeScale(),s=this.ye?.data();if(e.getVisibleLogicalRange()==null||!this.ye||s.length===0)return void(this.PS=[]);const l=e.timeToIndex(X(s[0].time),!0);this.PS=this.bS.map(((u,c)=>{const f=e.timeToIndex(u.time,!0),m=f<l?1:-1,p=X(this.ye).dataByIndex(f,m),d={time:e.timeToIndex(X(p).time,!1),position:u.position,shape:u.shape,color:u.color,id:u.id,kS:c,text:u.text,size:u.size,price:u.price,Gr:u.time};if(u.position==="atPriceTop"||u.position==="atPriceBottom"||u.position==="atPriceMiddle"){if(u.price===void 0)throw new Error(`Price is required for position ${u.position}`);return{...d,position:u.position,price:u.price}}return{...d,position:u.position,price:u.price}})),this.BS=!1}LS(e){this.$h&&(this.ES(),this.$h.CS(this.PS),this.$h.yS(this.Ps),this.$h.kt(e))}IM(e){this.BS=!0,this.Jb()}}class Nw extends vw{constructor(e,s,l){super(e,s),l&&this.setMarkers(l)}setMarkers(e){this.Zh.CS(e)}markers(){return this.Zh.AS()}}function Ew(a,e,s){const l=new Nw(a,new _w({}));return e&&l.setMarkers(e),l}({...Qp});function jw(a,e){if(a.length===0)return[];if(e<=0)return a.map(()=>0);const s=2/(e+1),l=[];l[0]=a[0];for(let u=1;u<a.length;u++)l[u]=(a[u]-l[u-1])*s+l[u-1];return l}function pg(a,e=[8,21,55]){const s=a.map(u=>u.c),l={};for(const u of e)l[u]=jw(s,u);return l}function pp(a,e,s,l){if(l<0||l>=a.length)return 0;let u=0;a[l]>e[l]&&(u+=50),e[l]>s[l]&&(u+=50);let c=50;if(l>=5){const f=(a[l]-a[l-5])/a[l-5]*100,m=(e[l]-e[l-5])/e[l-5]*100;c=Math.min(100,Math.max(0,(f+m)*10+50))}return .6*u+.4*c}function gp(a){if(a.length===0)return 0;let e=0,s=0;for(const l of a){const u=(l.h+l.l+l.c)/3;s+=u*l.v,e+=l.v}return e>0?s/e:a[a.length-1].c}function Cw(a,e){if(a.length===0)return-1;const s=Math.floor(e/1e3);let l=0,u=a.length-1;for(;l<u;){const c=Math.floor((l+u)/2);Math.floor(a[c].t/1e3)<s?l=c+1:u=c}return l}function gc(a,e){return a.map((s,l)=>({time:Math.floor(s.t/1e3),value:e[l]}))}function gg({bars:a,newsTime:e,entryTime:s,entryPrice:l,exitTime:u,exitPrice:c,ticker:f,showEMAs:m=!0}){const p=j.useRef(null),[d,x]=j.useState(null),[y,S]=j.useState(m),_=j.useMemo(()=>{if(a.length<10)return null;const L=pg(a,[8,21,55]);return{ema8:gc(a,L[8]),ema21:gc(a,L[21]),ema55:gc(a,L[55])}},[a]);j.useEffect(()=>{if(!p.current||a.length===0)return;const L=new Map;a.forEach(G=>{L.set(Math.floor(G.t/1e3),G.v)});const D=sw(p.current,{layout:{background:{color:"#1e293b"},textColor:"#cbd5e1"},grid:{vertLines:{color:"#334155"},horzLines:{color:"#334155"}},timeScale:{timeVisible:!0,secondsVisible:!0}}),V=D.addSeries(dw,{upColor:"#22c55e",downColor:"#ef4444",wickUpColor:"#22c55e",wickDownColor:"#ef4444",borderVisible:!1}),K=a.map(G=>({time:Math.floor(G.t/1e3),open:G.o,high:G.h,low:G.l,close:G.c}));V.setData(K);const Z=D.addSeries(gw,{priceFormat:{type:"volume"},priceScaleId:""});Z.priceScale().applyOptions({scaleMargins:{top:.7,bottom:0}});const tt=a.map(G=>({time:Math.floor(G.t/1e3),value:G.v,color:G.c>=G.o?"#22c55e40":"#ef444440"}));Z.setData(tt),y&&_&&(D.addSeries(pc,{color:"#fbbf24",lineWidth:1,priceLineVisible:!1,lastValueVisible:!1,crosshairMarkerVisible:!1}).setData(_.ema8.map(ft=>({time:ft.time,value:ft.value}))),D.addSeries(pc,{color:"#22d3ee",lineWidth:1,priceLineVisible:!1,lastValueVisible:!1,crosshairMarkerVisible:!1}).setData(_.ema21.map(ft=>({time:ft.time,value:ft.value}))),D.addSeries(pc,{color:"#e879f9",lineWidth:1,priceLineVisible:!1,lastValueVisible:!1,crosshairMarkerVisible:!1}).setData(_.ema55.map(ft=>({time:ft.time,value:ft.value}))));const F=[];e&&F.push({time:Math.floor(e/1e3),position:"aboveBar",color:"#f97316",shape:"circle",text:"NEWS"}),s&&l&&F.push({time:Math.floor(s/1e3),position:"belowBar",color:"#22c55e",shape:"arrowUp",text:`Entry $${l.toFixed(2)}`}),u&&c&&F.push({time:Math.floor(u/1e3),position:"aboveBar",color:"#ef4444",shape:"arrowDown",text:`Exit $${c.toFixed(2)}`}),F.length>0&&Ew(V,F),D.subscribeCrosshairMove(G=>{if(!G.time||!G.seriesData){x(null);return}const st=G.seriesData.get(V);if(st&&"open"in st){const nt=G.time,ft=L.get(nt)||0,Q=st.close-st.open,lt=Q/st.open*100,xt=new Date(nt*1e3).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1});x({time:xt,open:st.open,high:st.high,low:st.low,close:st.close,volume:ft,change:Q,changePercent:lt})}else x(null)}),D.timeScale().fitContent();const P=new ResizeObserver(()=>{D.applyOptions({width:p.current?.clientWidth||800})});return P.observe(p.current),()=>{P.disconnect(),D.remove()}},[a,e,s,l,u,c,y,_]);const w=L=>L>=100?L.toFixed(2):L.toFixed(4),A=L=>L>=1e6?`${(L/1e6).toFixed(2)}M`:L>=1e3?`${(L/1e3).toFixed(1)}K`:L.toString();return g.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-800 p-2",children:[g.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("span",{className:"text-sm font-medium text-gray-400",children:f}),_&&g.jsxs("button",{onClick:()=>S(!y),className:`flex items-center gap-2 rounded px-2 py-0.5 text-xs transition-colors ${y?"bg-slate-600 text-white":"bg-slate-700 text-gray-500 hover:text-gray-300"}`,children:[g.jsx("span",{children:"EMAs"}),y&&g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx("span",{className:"h-2 w-2 rounded-full bg-yellow-400",title:"EMA8"}),g.jsx("span",{className:"h-2 w-2 rounded-full bg-cyan-400",title:"EMA21"}),g.jsx("span",{className:"h-2 w-2 rounded-full bg-fuchsia-400",title:"EMA55"})]})]})]}),g.jsx("span",{className:"text-xs text-gray-500",children:"Powered by TradingView Lightweight Charts"})]}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute left-2 top-2 z-10 flex items-center gap-4 text-xs font-mono",children:d?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"text-gray-400",children:d.time}),g.jsxs("span",{className:"text-gray-500",children:["O ",g.jsx("span",{className:"text-white",children:w(d.open)})]}),g.jsxs("span",{className:"text-gray-500",children:["H ",g.jsx("span",{className:"text-white",children:w(d.high)})]}),g.jsxs("span",{className:"text-gray-500",children:["L ",g.jsx("span",{className:"text-white",children:w(d.low)})]}),g.jsxs("span",{className:"text-gray-500",children:["C ",g.jsx("span",{className:"text-white",children:w(d.close)})]}),g.jsxs("span",{className:d.change>=0?"text-green-400":"text-red-400",children:[d.change>=0?"+":"",w(d.change)," (",d.changePercent>=0?"+":"",d.changePercent.toFixed(2),"%)"]}),g.jsxs("span",{className:"text-gray-500",children:["Vol ",g.jsx("span",{className:"text-white",children:A(d.volume)})]})]}):g.jsx("span",{className:"text-gray-500",children:"Hover over chart to see OHLCV data"})}),g.jsx("div",{ref:p,style:{height:"400px"}})]})]})}const vc=[{label:"1s",timeframe:"1",timespan:"second"},{label:"5s",timeframe:"5",timespan:"second"},{label:"15s",timeframe:"15",timespan:"second"},{label:"1m",timeframe:"1",timespan:"minute"}];function Tw(){const{newsId:a}=Ap(),[e,s]=Bc(),{setSelectedNewsId:l}=yr(),[u,c]=j.useState([]),[f,m]=j.useState([]),[p,d]=j.useState(null),[x,y]=j.useState(!1),[S,_]=j.useState(null),[w,A]=j.useState([]),[L,D]=j.useState(!1),V=e.get("tf")||"1s",K=vc.find(G=>G.label===V)||vc[0];j.useEffect(()=>{a&&l(a)},[a,l]),j.useEffect(()=>{if(!a){c([]),m([]),d(null);return}let G=!1;return(async()=>{y(!0),_(null);try{try{const Q=await Vb(a);if(!G){const lt=Q.skip_reason||(Q.decision&&Q.decision.startsWith("skip_")?Q.decision:void 0);d({news_id:Q.id,headline:Q.headline,tickers:Q.tickers,source:Q.source,news_age_ms:Q.news_age_ms,status:Q.decision==="trade"?"triggered":"skipped",pub_time:Q.pub_time,skip_reason:lt})}}catch{G||_("News event not found")}const[nt,ft]=await Promise.all([qp(a),qb(a)]);G||(c(nt.events),m(ft.strategies))}catch(nt){G||_(nt instanceof Error?nt.message:"Failed to fetch data")}G||y(!1)})(),()=>{G=!0}},[a]),j.useEffect(()=>{if(!p?.tickers?.length||!p?.pub_time){A([]);return}const G=p.tickers[0],st=p.pub_time;(async()=>{D(!0);try{const ft=new Date(st).getTime(),Q=ft-120*1e3,lt=ft+600*1e3,At=await Gp(G,Q,lt,K.timeframe,K.timespan);A(At.results||[])}catch(ft){console.error("Failed to fetch bars:",ft),A([])}D(!1)})()},[p,K]);const Z=j.useMemo(()=>{if(w.length<10||!p?.pub_time)return null;const G=pg(w,[8,21,55]),st=new Date(p.pub_time).getTime(),nt=Cw(w,st),ft=nt>=0&&nt<w.length?{price:w[nt].c,ema8:G[8][nt],ema21:G[21][nt],ema55:G[55][nt],trendStrength:pp(G[8],G[21],G[55],nt),vwap:gp(w.slice(0,nt+1)),volume:w.slice(0,nt+1).reduce((At,xt)=>At+xt.v,0)}:null,Q=w.length-1,lt={price:w[Q].c,ema8:G[8][Q],ema21:G[21][Q],ema55:G[55][Q],trendStrength:pp(G[8],G[21],G[55],Q),vwap:gp(w),volume:w.reduce((At,xt)=>At+xt.v,0)};return{atNewsTime:ft,current:lt}},[w,p]),tt=G=>{const st=new URLSearchParams(e);st.set("tf",G),s(st)},F=p;if(!a)return g.jsxs("div",{className:"space-y-4",children:[g.jsx("h2",{className:"text-lg font-semibold text-white",children:"Select a News Event"}),g.jsxs("p",{className:"text-gray-400",children:["Click on a news item in the"," ",g.jsx(bn,{to:"/",className:"text-blue-400 hover:underline",children:"News feed"})," ","to see its detailed pipeline."]})]});const P=f.filter(G=>G.status==="closed"||G.stop_reason);return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx(Xp,{items:[{label:"Pipeline",to:"/pipeline"},{label:F?Yc(F.headline,40):a||"Event"}]}),P.length>0&&g.jsx("div",{className:"flex items-center gap-2",children:g.jsxs("span",{className:"text-sm text-gray-500",children:[P.length," completed trade",P.length>1?"s":""]})})]}),F&&g.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-800 p-4",children:[g.jsx("h2",{className:"text-lg font-semibold text-white",children:F.headline}),g.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-3 text-sm text-gray-400",children:[F.tickers.map(G=>g.jsx("span",{className:"rounded bg-slate-700 px-2 py-0.5 text-blue-400",children:G},G)),F.pub_time&&g.jsxs(g.Fragment,{children:[g.jsx("span",{children:"|"}),g.jsx("span",{className:"text-white",children:new Date(F.pub_time).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1,timeZoneName:"short"})})]}),F.source&&g.jsxs(g.Fragment,{children:[g.jsx("span",{children:"|"}),g.jsx("span",{children:F.source})]}),F.news_age_ms!=null&&g.jsxs(g.Fragment,{children:[g.jsx("span",{children:"|"}),g.jsxs("span",{children:["Age: ",F.news_age_ms,"ms"]})]}),g.jsx("span",{children:"|"}),g.jsx("span",{className:F.status==="triggered"?"text-green-400":F.status==="processing"?"text-yellow-400":"text-gray-500",children:F.status.toUpperCase()})]})]}),F?.status==="skipped"&&F?.skip_reason&&g.jsx("div",{className:"rounded-lg border border-amber-700/50 bg-amber-900/20 p-4",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-amber-500",children:"Skip Reason:"}),g.jsx("span",{className:"text-amber-200",children:F.skip_reason.replace("skip_","").replace(/_/g," ")})]})}),F&&F.tickers&&F.tickers.length>0&&g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("h3",{className:"text-sm font-medium text-gray-400",children:["Price Action - ",F.tickers[0]]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-xs text-gray-500",children:"Timeframe:"}),vc.map(G=>g.jsx("button",{onClick:()=>tt(G.label),className:`rounded-md px-2 py-0.5 text-xs ${K.label===G.label?"bg-blue-600 text-white":"bg-slate-700 text-gray-300 hover:bg-slate-600"}`,children:G.label},G.label)),L&&g.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"Loading..."})]})]}),w.length>0?g.jsx(gg,{bars:w,ticker:F.tickers[0],newsTime:F.pub_time?new Date(F.pub_time).getTime():void 0,entryTime:f.length>0&&f[0].started_at?new Date(f[0].started_at).getTime():void 0,entryPrice:f.length>0?f[0].entry_price:void 0,exitTime:f.length>0&&f[0].stopped_at?new Date(f[0].stopped_at).getTime():void 0,exitPrice:f.length>0?f[0].exit_price:void 0}):g.jsx("div",{className:"rounded-lg border border-slate-700 bg-slate-800 p-8 text-center",children:g.jsx("p",{className:"text-gray-400",children:L?"Loading chart data...":"No chart data available for this time period"})})]}),Z&&g.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[Z.atNewsTime&&g.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-800 p-4",children:[g.jsx("h4",{className:"mb-3 text-sm font-medium text-gray-400",children:"At News Time"}),g.jsxs("div",{className:"space-y-2 text-sm",children:[g.jsx(pe,{label:"Price",value:`$${Z.atNewsTime.price.toFixed(4)}`}),g.jsx(pe,{label:"EMA8",value:`$${Z.atNewsTime.ema8.toFixed(4)}`,color:"text-yellow-400"}),g.jsx(pe,{label:"EMA21",value:`$${Z.atNewsTime.ema21.toFixed(4)}`,color:"text-cyan-400"}),g.jsx(pe,{label:"EMA55",value:`$${Z.atNewsTime.ema55.toFixed(4)}`,color:"text-fuchsia-400"}),g.jsxs("div",{className:"border-t border-slate-700 pt-2 mt-2",children:[g.jsx(pe,{label:"Trend Strength",value:`${Z.atNewsTime.trendStrength.toFixed(1)}`,color:Z.atNewsTime.trendStrength>=60?"text-green-400":"text-gray-400"}),g.jsx(pe,{label:"VWAP",value:`$${Z.atNewsTime.vwap.toFixed(4)}`}),g.jsx(pe,{label:"Volume",value:vp(Z.atNewsTime.volume)})]})]})]}),g.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-800 p-4",children:[g.jsx("h4",{className:"mb-3 text-sm font-medium text-gray-400",children:"Latest Values"}),g.jsxs("div",{className:"space-y-2 text-sm",children:[g.jsx(pe,{label:"Price",value:`$${Z.current.price.toFixed(4)}`}),g.jsx(pe,{label:"EMA8",value:`$${Z.current.ema8.toFixed(4)}`,color:"text-yellow-400"}),g.jsx(pe,{label:"EMA21",value:`$${Z.current.ema21.toFixed(4)}`,color:"text-cyan-400"}),g.jsx(pe,{label:"EMA55",value:`$${Z.current.ema55.toFixed(4)}`,color:"text-fuchsia-400"}),g.jsxs("div",{className:"border-t border-slate-700 pt-2 mt-2",children:[g.jsx(pe,{label:"Trend Strength",value:`${Z.current.trendStrength.toFixed(1)}`,color:Z.current.trendStrength>=60?"text-green-400":"text-gray-400"}),g.jsx(pe,{label:"VWAP",value:`$${Z.current.vwap.toFixed(4)}`}),g.jsx(pe,{label:"Volume",value:vp(Z.current.volume)})]})]})]})]}),x&&g.jsx("div",{className:"text-center text-gray-400",children:"Loading..."}),S&&g.jsx("div",{className:"text-center text-red-400",children:S}),!x&&!S&&g.jsxs("div",{className:"space-y-4",children:[g.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Event Timeline"}),g.jsx("div",{className:"relative border-l-2 border-slate-700 pl-6",children:u.map(G=>g.jsxs("div",{className:"mb-4 relative",children:[g.jsx("div",{className:"absolute -left-8 top-0 flex h-4 w-4 items-center justify-center rounded-full bg-slate-800 border border-slate-600",children:g.jsx("span",{className:"text-xs",children:Vp("complete")})}),g.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-800/50 p-3",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("span",{className:"font-medium text-white",children:zw(G.type)}),g.jsx("span",{className:"text-xs text-gray-500",children:hr(G.timestamp)})]}),g.jsx("div",{className:"mt-1 text-sm text-gray-400",children:g.jsx(Rw,{event:G})})]})]},G.id))})]}),!x&&f.length>0&&g.jsxs("div",{className:"space-y-4",children:[g.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Strategies"}),g.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:f.map(G=>g.jsx(Aw,{strategy:G},G.id))})]})]})}function zw(a){return a.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}function Rw({event:a}){const e=a.data,s=[];return a.type==="news_received"?(s.push(`Tickers: ${e.tickers?.join(", ")||"-"}`),e.news_age_ms!=null&&s.push(`Age: ${e.news_age_ms}ms`)):a.type==="news_decision"?(s.push(`Decision: ${e.decision}`),e.skip_reason&&s.push(`Reason: ${e.skip_reason}`),e.volume_found&&s.push(`Volume: ${e.volume_found}`)):a.type==="strategy_spawned"?(s.push(`Strategy: ${e.strategy_id}`),s.push(`Size: ${se(e.position_size_usd)}`),s.push(`Price: $${e.entry_price?.toFixed(2)}`)):a.type==="order_placed"?(s.push(`${e.order_role}: ${e.side} ${e.qty}`),e.limit_price&&s.push(`@ $${e.limit_price.toFixed(2)}`)):a.type==="order_filled"?(s.push(`${e.order_role}: ${e.qty} @ $${e.fill_price?.toFixed(2)}`),e.slippage&&s.push(`Slippage: $${e.slippage.toFixed(2)}`)):a.type==="strategy_stopped"&&(s.push(`Reason: ${e.reason}`),e.pnl!==void 0&&s.push(`P&L: ${se(e.pnl,!0)}`)),g.jsx(g.Fragment,{children:s.join(" | ")})}function Aw({strategy:a}){const e=Ab(a.pnl||0),s=a.status==="closed"||a.stop_reason,l=g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("span",{className:"font-medium text-white",children:a.strategy_name||a.strategy_type||"Unknown"}),g.jsx("span",{className:"text-sm text-gray-500",children:a.ticker})]}),g.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-sm",children:[g.jsxs("div",{children:[g.jsx("span",{className:"text-gray-500",children:"Status:"})," ",g.jsx("span",{className:"text-white",children:a.status})]}),g.jsxs("div",{children:[g.jsx("span",{className:"text-gray-500",children:"Size:"})," ",g.jsx("span",{className:"text-white",children:se(a.position_size_usd||0)})]}),g.jsxs("div",{children:[g.jsx("span",{className:"text-gray-500",children:"Entry:"})," ",g.jsxs("span",{className:"text-white",children:["$",a.entry_price?.toFixed(2)||"-"]})]}),g.jsxs("div",{children:[g.jsx("span",{className:"text-gray-500",children:"Exit:"})," ",g.jsxs("span",{className:"text-white",children:["$",a.exit_price?.toFixed(2)||"-"]})]})]}),a.pnl!==void 0&&g.jsxs("div",{className:"mt-2 border-t border-slate-700 pt-2 flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("span",{className:"text-gray-500",children:"P&L:"})," ",g.jsx("span",{className:e,children:se(a.pnl,!0)})]}),s&&g.jsx("span",{className:"text-xs text-blue-400",children:"View Chart "})]}),!a.pnl&&s&&g.jsx("div",{className:"mt-2 border-t border-slate-700 pt-2 text-right",children:g.jsx("span",{className:"text-xs text-blue-400",children:"View Chart "})})]});return s?g.jsx(bn,{to:`/trades/${a.id}`,className:"block rounded-lg border border-slate-700 bg-slate-800 p-4 hover:border-blue-500/50 transition-colors",children:l}):g.jsx("div",{className:"rounded-lg border border-slate-700 bg-slate-800 p-4",children:l})}function pe({label:a,value:e,color:s="text-white"}){return g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-gray-500",children:a}),g.jsx("span",{className:s,children:e})]})}function vp(a){return a>=1e6?`${(a/1e6).toFixed(2)}M`:a>=1e3?`${(a/1e3).toFixed(1)}K`:a.toString()}function Dw({newsId:a,headline:e,tickers:s,source:l,pubTime:u,newsAgeMs:c,receivedAt:f,status:m,skipReason:p,showRelativeTime:d=!0,expandable:x=!0,defaultExpanded:y=!1,pipelineSteps:S,strategies:_,pipelineLoading:w=!1,linkTo:A,onToggleExpand:L}){const[D,V]=j.useState(y),K=Vp(m),Z=Ob(m),tt=f||u,F=tt?d?_l(tt):Hc(tt):"-",P=()=>m==="triggered"?"TRIGGERED":m==="skipped"?p?`SKIP: ${p}`:"SKIPPED":"PENDING",G=m==="triggered"?"text-green-400":m==="skipped"?"text-gray-500":"text-yellow-400",st=()=>{const nt=!D;V(nt),nt&&L&&L()};return g.jsxs("div",{className:`rounded-lg border ${Z} bg-slate-800 p-4`,children:[g.jsxs("div",{className:"flex items-start justify-between",children:[g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[g.jsx("span",{children:K}),g.jsx("span",{children:F}),!d&&g.jsx("span",{className:G,children:P()}),g.jsx(bn,{to:A||`/news/${a}`,className:"ml-2 text-blue-400 hover:text-blue-300",children:"Details "})]}),g.jsx("p",{className:"mt-1 font-medium text-white",children:Yc(e,120)}),g.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-2 text-sm text-gray-400",children:[s.length>0?s.map(nt=>g.jsx("span",{className:"rounded bg-slate-700 px-1.5 py-0.5 text-xs font-medium text-blue-400",children:nt},nt)):g.jsx("span",{className:"text-gray-600",children:"No tickers"}),l&&g.jsxs(g.Fragment,{children:[g.jsx("span",{children:"|"}),g.jsx("span",{children:l})]}),c!=null&&g.jsxs(g.Fragment,{children:[g.jsx("span",{children:"|"}),g.jsxs("span",{children:["Age: ",c,"ms"]})]}),_&&_.length>0&&g.jsxs(g.Fragment,{children:[g.jsx("span",{children:"|"}),g.jsxs("span",{className:"text-green-400",children:[_.length," strateg",_.length===1?"y":"ies"]})]})]})]}),x&&g.jsx("button",{onClick:st,className:"ml-2 p-1 text-gray-500 hover:text-white",children:D?"":""})]}),x&&D&&g.jsx("div",{className:"ml-4 mt-3 space-y-1 border-l-2 border-slate-700 pl-4",children:w?g.jsx("div",{className:"text-sm text-gray-500",children:"Loading pipeline..."}):S&&S.length>0?g.jsxs(g.Fragment,{children:[S.map((nt,ft)=>g.jsx(Ow,{step:nt},ft)),m==="triggered"&&_?.some(nt=>nt.status==="in_position")&&g.jsx(Lw,{strategies:_})]}):g.jsx("div",{className:"text-sm text-gray-500",children:"No pipeline data"})})]})}function Ow({step:a}){const e=a.status==="pending"?"":a.status==="complete"?"":a.status==="active"?"":a.status==="skipped"?"":"",s=a.status==="active"?"text-green-400":a.status==="skipped"?"text-gray-500":a.status==="error"?"text-red-400":"text-gray-300";return g.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[g.jsx("span",{children:e}),g.jsx("span",{className:s,children:a.label}),a.detail&&g.jsxs("span",{className:"text-gray-500",children:["| ",a.detail]})]})}function Lw({strategies:a}){const e=a.find(l=>l.status==="in_position");if(!e)return null;const s=e.exit_delay_seconds?Math.floor(e.exit_delay_seconds/60):7;return g.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm",children:[g.jsx("span",{children:""}),g.jsx("span",{className:"text-green-400",children:"IN POSITION"}),g.jsxs("span",{className:"text-gray-500",children:["| ",e.qty," shares @ $",e.entry_fill_price?.toFixed(2)," | Exit in: ",s,"m"]})]})}function Uw({statusFilter:a,onStatusChange:e,symbolFilter:s,onSymbolChange:l,limit:u,onLimitChange:c,limitOptions:f=[50,100,250,500],totalCount:m,triggeredCount:p,skippedCount:d,hideNoTickers:x=!0,onHideNoTickersChange:y}){const[S,_]=j.useState(s);return j.useEffect(()=>{const w=setTimeout(()=>{S!==s&&l(S)},500);return()=>clearTimeout(w)},[S,s,l]),j.useEffect(()=>{_(s)},[s]),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-sm text-gray-400",children:"Status:"}),["all","triggered","skipped"].map(w=>g.jsx("button",{onClick:()=>e(w),className:`rounded-md px-3 py-1 text-sm ${a===w?"bg-blue-600 text-white":"bg-slate-700 text-gray-300 hover:bg-slate-600"}`,children:w.charAt(0).toUpperCase()+w.slice(1)},w))]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-sm text-gray-400",children:"Symbol:"}),g.jsx("input",{type:"text",value:S,onChange:w=>_(w.target.value),placeholder:"e.g., AAPL",className:"w-24 rounded-md border border-slate-600 bg-slate-700 px-3 py-1 text-sm text-white placeholder-gray-500"})]}),u!==void 0&&c&&g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-sm text-gray-400",children:"Limit:"}),g.jsx("select",{value:u,onChange:w=>c(Number(w.target.value)),className:"rounded-md border border-slate-600 bg-slate-700 px-3 py-1 text-sm text-white",children:f.map(w=>g.jsx("option",{value:w,children:w},w))})]}),y&&g.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-400 cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:x,onChange:w=>y(w.target.checked),className:"rounded border-slate-600 bg-slate-700 text-blue-600 focus:ring-blue-500 focus:ring-offset-0"}),g.jsx("span",{children:"Hide news w/o tickers"})]})]}),(m!==void 0||p!==void 0||d!==void 0)&&g.jsxs("div",{className:"flex gap-6 text-sm",children:[m!==void 0&&g.jsxs("span",{children:["Total: ",g.jsx("strong",{className:"text-white",children:m})]}),p!==void 0&&g.jsxs("span",{children:["Triggered: ",g.jsx("strong",{className:"text-green-400",children:p})]}),d!==void 0&&g.jsxs("span",{children:["Skipped: ",g.jsx("strong",{className:"text-gray-400",children:d})]})]})]})}function Bw({skipReasons:a}){const e=Object.entries(a);if(e.length===0)return null;const s=e.sort((l,u)=>u[1]-l[1]);return g.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-800 p-4",children:[g.jsx("h3",{className:"mb-2 text-sm font-medium text-gray-400",children:"Skip Reasons"}),g.jsx("div",{className:"flex flex-wrap gap-4 text-sm",children:s.map(([l,u])=>g.jsxs("span",{children:[l.replace("skip_","").replace(/_/g," "),":"," ",g.jsx("strong",{className:"text-white",children:u})]},l))})]})}function Hw(a){const e={};for(const s of a)if(s.decision?.startsWith("skip")){const l=s.skip_reason||s.decision.replace("skip_","").replace(/_/g," ");e[l]=(e[l]||0)+1}return e}function Yw(){const[a,e]=j.useState(null),[s,l]=j.useState(!0),[u,c]=j.useState(null),[f,m]=j.useState(1);return j.useEffect(()=>{(async()=>{l(!0),c(null);try{const d=await kp(f);e(d)}catch(d){c(d instanceof Error?d.message:"Failed to fetch stats")}l(!1)})()},[f]),s?g.jsx("div",{className:"flex items-center justify-center py-20",children:g.jsx("div",{className:"text-gray-400",children:"Loading stats..."})}):u?g.jsx("div",{className:"flex items-center justify-center py-20",children:g.jsx("div",{className:"text-red-400",children:u})}):a?g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-sm text-gray-400",children:"Period:"}),[1,7,30].map(p=>g.jsx("button",{onClick:()=>m(p),className:`rounded-md px-3 py-1 text-sm ${f===p?"bg-blue-600 text-white":"bg-slate-700 text-gray-300 hover:bg-slate-600"}`,children:p===1?"Today":`${p} Days`},p))]}),g.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[g.jsx(ar,{label:"Total P&L",value:se(a.pnl.total,!0),colorClass:a.pnl.total>=0?"text-green-400":"text-red-400"}),g.jsx(ar,{label:"Win Rate",value:on(a.pnl.win_rate),colorClass:a.pnl.win_rate>=50?"text-green-400":"text-red-400"}),g.jsx(ar,{label:"Total Trades",value:a.strategies.closed.toString(),colorClass:"text-white"}),g.jsx(ar,{label:"News Processed",value:a.news.total.toString(),colorClass:"text-white"})]}),g.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-800 p-4",children:[g.jsx("h3",{className:"mb-4 text-lg font-semibold text-white",children:"P&L Breakdown"}),g.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[g.jsxs("div",{children:[g.jsx("div",{className:"text-sm text-gray-400",children:"Gross Profit"}),g.jsx("div",{className:"mt-1 text-xl font-bold text-green-400",children:se(a.pnl.gross_profit,!0)})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-sm text-gray-400",children:"Gross Loss"}),g.jsx("div",{className:"mt-1 text-xl font-bold text-red-400",children:se(a.pnl.gross_loss,!0)})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-sm text-gray-400",children:"Profit Factor"}),g.jsx("div",{className:"mt-1 text-xl font-bold text-white",children:a.pnl.gross_loss!==0?Math.abs(a.pnl.gross_profit/a.pnl.gross_loss).toFixed(2):""})]})]})]}),g.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-800 p-4",children:[g.jsx("h3",{className:"mb-4 text-lg font-semibold text-white",children:"News Pipeline"}),g.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[g.jsxs("div",{children:[g.jsx("div",{className:"text-sm text-gray-400",children:"Total Received"}),g.jsx("div",{className:"mt-1 text-xl font-bold text-white",children:a.news.total})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-sm text-gray-400",children:"Triggered"}),g.jsxs("div",{className:"mt-1 text-xl font-bold text-green-400",children:[a.news.triggered," (",on(a.news.triggered_percent),")"]})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-sm text-gray-400",children:"Skipped"}),g.jsx("div",{className:"mt-1 text-xl font-bold text-gray-400",children:a.news.skipped})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-sm text-gray-400",children:"Pending"}),g.jsx("div",{className:"mt-1 text-xl font-bold text-yellow-400",children:a.news.pending})]})]})]}),g.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-800 p-4",children:[g.jsx("h3",{className:"mb-4 text-lg font-semibold text-white",children:"Strategies"}),g.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[g.jsxs("div",{children:[g.jsx("div",{className:"text-sm text-gray-400",children:"Total Spawned"}),g.jsx("div",{className:"mt-1 text-xl font-bold text-white",children:a.strategies.total})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-sm text-gray-400",children:"Currently Active"}),g.jsx("div",{className:"mt-1 text-xl font-bold text-red-400",children:a.strategies.active})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-sm text-gray-400",children:"Closed"}),g.jsx("div",{className:"mt-1 text-xl font-bold text-gray-400",children:a.strategies.closed})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-sm text-gray-400",children:"Entry Fill Rate"}),g.jsx("div",{className:"mt-1 text-xl font-bold text-white",children:a.strategies.total>0?on((a.strategies.closed+a.strategies.active)/a.strategies.total*100):"0%"})]})]})]}),g.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-800 p-4",children:[g.jsx("h3",{className:"mb-4 text-lg font-semibold text-white",children:"Win/Loss Distribution"}),g.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center justify-between text-sm",children:[g.jsx("span",{className:"text-gray-400",children:"Winners"}),g.jsxs("span",{className:"text-green-400",children:[a.pnl.winners," trades"]})]}),g.jsx("div",{className:"mt-2 h-4 overflow-hidden rounded-full bg-slate-700",children:g.jsx("div",{className:"h-full bg-green-500",style:{width:`${a.strategies.closed>0?a.pnl.winners/a.strategies.closed*100:0}%`}})})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center justify-between text-sm",children:[g.jsx("span",{className:"text-gray-400",children:"Losers"}),g.jsxs("span",{className:"text-red-400",children:[a.pnl.losers," trades"]})]}),g.jsx("div",{className:"mt-2 h-4 overflow-hidden rounded-full bg-slate-700",children:g.jsx("div",{className:"h-full bg-red-500",style:{width:`${a.strategies.closed>0?a.pnl.losers/a.strategies.closed*100:0}%`}})})]})]})]}),g.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-800 p-4",children:[g.jsx("h3",{className:"mb-4 text-lg font-semibold text-white",children:"Average Trade Metrics"}),g.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[g.jsxs("div",{children:[g.jsx("div",{className:"text-sm text-gray-400",children:"Avg Win"}),g.jsx("div",{className:"mt-1 text-xl font-bold text-green-400",children:a.pnl.winners>0?se(a.pnl.gross_profit/a.pnl.winners,!0):"$0.00"})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-sm text-gray-400",children:"Avg Loss"}),g.jsx("div",{className:"mt-1 text-xl font-bold text-red-400",children:a.pnl.losers>0?se(a.pnl.gross_loss/a.pnl.losers,!0):"$0.00"})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-sm text-gray-400",children:"Avg P&L per Trade"}),g.jsx("div",{className:`mt-1 text-xl font-bold ${a.pnl.total>=0?"text-green-400":"text-red-400"}`,children:a.strategies.closed>0?se(a.pnl.total/a.strategies.closed,!0):"$0.00"})]})]})]}),a.news.skip_reasons&&Object.keys(a.news.skip_reasons).length>0&&g.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-800 p-4",children:[g.jsx("h3",{className:"mb-4 text-lg font-semibold text-white",children:"Skip Reason Breakdown"}),g.jsx("div",{className:"space-y-2",children:Object.entries(a.news.skip_reasons).sort((p,d)=>d[1]-p[1]).map(([p,d])=>g.jsx("div",{className:"flex items-center gap-2",children:g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex items-center justify-between text-sm",children:[g.jsx("span",{className:"text-gray-400",children:p.replace("skip_","")}),g.jsx("span",{className:"text-white",children:d})]}),g.jsx("div",{className:"mt-1 h-2 overflow-hidden rounded-full bg-slate-700",children:g.jsx("div",{className:"h-full bg-slate-500",style:{width:`${a.news.skipped>0?d/a.news.skipped*100:0}%`}})})]})},p))})]}),g.jsxs("div",{className:"text-center text-xs text-gray-500",children:["Data as of ",Hc(new Date().toISOString())]})]}):g.jsx("div",{className:"flex items-center justify-center py-20",children:g.jsx("div",{className:"text-gray-400",children:"No stats available"})})}function ar({label:a,value:e,colorClass:s}){return g.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-800 p-4",children:[g.jsx("div",{className:"text-sm text-gray-400",children:a}),g.jsx("div",{className:`mt-1 text-2xl font-bold ${s}`,children:e})]})}function Vw(){const[a,e]=j.useState(null),[s,l]=j.useState(!0),[u,c]=j.useState(null),[f,m]=j.useState(null),p=async()=>{l(!0),c(null);try{const x=await Bb();e(x),m(new Date().toISOString())}catch(x){c(x instanceof Error?x.message:"Failed to fetch health")}l(!1)};j.useEffect(()=>{p();const x=setInterval(p,3e4);return()=>clearInterval(x)},[]);const[,d]=j.useState(0);return j.useEffect(()=>{const x=setInterval(()=>d(y=>y+1),1e3);return()=>clearInterval(x)},[]),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h2",{className:"text-lg font-semibold text-white",children:"System Health"}),g.jsx("button",{onClick:p,disabled:s,className:"rounded-md bg-slate-700 px-3 py-1.5 text-sm hover:bg-slate-600 disabled:opacity-50",children:s?"Checking...":"Refresh"})]}),u&&g.jsx("div",{className:"rounded-lg border border-red-700 bg-red-900/20 p-4 text-red-400",children:u}),g.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[g.jsx(yc,{name:"News API",status:a?"healthy":u?"error":"unknown",details:a?[`Uptime: ${xp(a.uptime)}`,`News stored: ${a.news_count}`,`Events stored: ${a.event_count}`]:[]}),g.jsx(yc,{name:"Dashboard",status:"healthy",details:["Mode: Polling (10s interval)",`Last check: ${_l(f)}`]}),g.jsx(yc,{name:"Trading System",status:a?.trading_active?"healthy":"warning",details:[`Active: ${a?.trading_active?"Yes":"No"}`,`Active strategies: ${a?.active_strategies||0}`]})]}),a&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-800 p-4",children:[g.jsx("h3",{className:"mb-4 text-sm font-medium text-gray-400",children:"Server Information"}),g.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[g.jsx(Ki,{label:"Status",value:a.status}),g.jsx(Ki,{label:"Started At",value:Hc(a.started_at)}),g.jsx(Ki,{label:"Uptime",value:xp(a.uptime)}),g.jsx(Ki,{label:"Environment",value:a.environment||"production"})]})]}),g.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-800 p-4",children:[g.jsx("h3",{className:"mb-4 text-sm font-medium text-gray-400",children:"Data Statistics"}),g.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[g.jsx(Ki,{label:"News Events",value:a.news_count?.toString()||"0"}),g.jsx(Ki,{label:"Pipeline Events",value:a.event_count?.toString()||"0"}),g.jsx(Ki,{label:"Active Strategies",value:a.active_strategies?.toString()||"0"}),g.jsx(Ki,{label:"SSE Subscribers",value:a.sse_subscribers?.toString()||"0"})]})]})]}),g.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-800 p-4",children:[g.jsx("h3",{className:"mb-4 text-sm font-medium text-gray-400",children:"Connection Checklist"}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(xc,{label:"News API reachable",checked:a!==null,error:u!==null}),g.jsx(xc,{label:"Dashboard polling active",checked:!0}),g.jsx(xc,{label:"Trading system active",checked:a?.trading_active===!0,warning:a?.trading_active===!1})]})]}),g.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-800 p-4",children:[g.jsx("h3",{className:"mb-4 text-sm font-medium text-gray-400",children:"Troubleshooting"}),g.jsxs("div",{className:"space-y-3 text-sm text-gray-400",children:[u&&g.jsx(yp,{issue:"API health check failed",suggestion:"Verify News API is running at the configured URL. Check for network issues or CORS configuration."}),a&&!a.trading_active&&g.jsx(yp,{issue:"Trading system inactive",suggestion:"The news trader process may not be running. Check the server logs for errors."}),!u&&a&&g.jsx("div",{className:"text-green-400",children:"All systems operational."})]})]}),f&&g.jsxs("div",{className:"text-center text-xs text-gray-500",children:["Last health check: ",_l(f)]})]})}function yc({name:a,status:e,details:s}){const u={healthy:{color:"text-green-400",bg:"bg-green-500/10",border:"border-green-500/30",icon:"",label:"Healthy"},warning:{color:"text-yellow-400",bg:"bg-yellow-500/10",border:"border-yellow-500/30",icon:"",label:"Warning"},error:{color:"text-red-400",bg:"bg-red-500/10",border:"border-red-500/30",icon:"",label:"Error"},unknown:{color:"text-gray-400",bg:"bg-slate-700",border:"border-slate-600",icon:"?",label:"Unknown"}}[e];return g.jsxs("div",{className:`rounded-lg border ${u.border} ${u.bg} p-4`,children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("span",{className:"font-medium text-white",children:a}),g.jsxs("span",{className:`flex items-center gap-1 text-sm ${u.color}`,children:[g.jsx("span",{children:u.icon}),u.label]})]}),s.length>0&&g.jsx("div",{className:"mt-3 space-y-1 text-sm text-gray-400",children:s.map((c,f)=>g.jsx("div",{children:c},f))})]})}function Ki({label:a,value:e}){return g.jsxs("div",{children:[g.jsx("div",{className:"text-xs text-gray-500",children:a}),g.jsx("div",{className:"mt-0.5 text-sm text-white",children:e})]})}function xc({label:a,checked:e,error:s,warning:l}){const u=e?"":s?"":l?"":"",c=e?"text-green-400":s?"text-red-400":l?"text-yellow-400":"text-gray-500";return g.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[g.jsx("span",{className:c,children:u}),g.jsx("span",{className:"text-gray-300",children:a})]})}function yp({issue:a,suggestion:e}){return g.jsxs("div",{className:"rounded-md bg-slate-700/50 p-3",children:[g.jsx("div",{className:"font-medium text-yellow-400",children:a}),g.jsx("div",{className:"mt-1 text-gray-400",children:e})]})}function xp(a){if(a<60)return`${a}s`;if(a<3600)return`${Math.floor(a/60)}m ${a%60}s`;const e=Math.floor(a/3600),s=Math.floor(a%3600/60);return e<24?`${e}h ${s}m`:`${Math.floor(e/24)}d ${e%24}h`}class qw extends j.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,s){console.error("ErrorBoundary caught an error:",e,s)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:g.jsxs("div",{className:"flex min-h-[400px] flex-col items-center justify-center rounded-lg border border-red-700 bg-red-900/20 p-8",children:[g.jsx("div",{className:"mb-4 text-4xl",children:"Something went wrong"}),g.jsx("h2",{className:"mb-2 text-xl font-bold text-white",children:"An error occurred"}),g.jsx("p",{className:"mb-4 text-gray-400",children:this.state.error?.message||"Unknown error"}),g.jsx("button",{onClick:()=>this.setState({hasError:!1,error:null}),className:"rounded-md bg-red-600 px-4 py-2 text-white hover:bg-red-700",children:"Try Again"})]}):this.props.children}}const kw=1e4;function Gw(a){const e=[];for(const s of a)if(s.type==="news_received"){const l=s.data;e.push({label:l.news_age_ms!=null?`News received (${l.news_age_ms}ms old)`:"News received",status:"complete",timestamp:s.timestamp})}else if(s.type==="news_decision"){const l=s.data;l.decision==="trade"?e.push({label:"Decision: TRADE",status:"complete",detail:l.volume_found?`Volume: ${l.volume_found.toFixed(0)} shares`:void 0,timestamp:s.timestamp}):e.push({label:`SKIP: ${l.skip_reason||"unknown"}`,status:"skipped",timestamp:s.timestamp})}else if(s.type==="strategy_spawned"){const l=s.data;e.push({label:`Strategy ${l.strategy_id.split("_")[0]}_${l.ticker} spawned`,status:"complete",detail:`$${l.position_size_usd.toFixed(0)} @ $${l.entry_price.toFixed(2)}`,timestamp:s.timestamp})}else if(s.type==="order_placed"){const l=s.data,u=l.order_role==="entry"?"Entry":"Exit",c=l.side.toUpperCase();e.push({label:`${u} order placed: ${c} ${l.qty} @ $${l.limit_price?.toFixed(2)||"MKT"}`,status:"complete",timestamp:s.timestamp})}else if(s.type==="order_filled"){const l=s.data,u=l.order_role==="entry"?"Entry":"Exit",c=l.slippage?` (slippage: $${l.slippage.toFixed(2)})`:"";e.push({label:`${u} filled: ${l.qty} @ $${l.fill_price.toFixed(2)}${c}`,status:l.order_role==="entry"?"active":"complete",timestamp:s.timestamp})}else if(s.type==="strategy_stopped"){const l=s.data,u=l.pnl?` P&L: $${l.pnl.toFixed(2)} (${l.pnl_percent?.toFixed(2)}%)`:"";e.push({label:`Strategy stopped: ${l.reason}${u}`,status:"complete",timestamp:s.timestamp})}return e}function Xw(a){if(a==="all")return;const e=new Date;if(a==="today")return"today";if(a==="yesterday"){const s=new Date(e);return s.setDate(s.getDate()-1),s.toISOString().split("T")[0]}else if(a==="week"){const s=new Date(e);return s.setDate(s.getDate()-7),s.toISOString().split("T")[0]}}function Qw(){const[a,e]=Bc(),{summaryStats:s,setSummaryStats:l,setActiveStrategies:u}=yr(),[c,f]=j.useState([]),[m,p]=j.useState(!1),[d,x]=j.useState(null),[y,S]=j.useState(null),[_,w]=j.useState(new Map),[A,L]=j.useState(new Set),[D,V]=j.useState(!1),K=j.useRef(null),Z=a.get("date")||"today",tt=a.get("filter")||"all",F=a.get("symbol")||"",P=a.get("hideNoTickers")!=="false",G=Z==="today",st=T=>{const k=new URLSearchParams(a);T==="today"?k.delete("date"):k.set("date",T),e(k)},nt=T=>{const k=new URLSearchParams(a);T==="all"?k.delete("filter"):k.set("filter",T),e(k)},ft=T=>{const k=new URLSearchParams(a);T.trim()?k.set("symbol",T.trim().toUpperCase()):k.delete("symbol"),e(k)},Q=T=>{const k=new URLSearchParams(a);T?k.delete("hideNoTickers"):k.set("hideNoTickers","false"),e(k)},lt=j.useCallback(async(T=!0)=>{T&&p(!0),x(null);try{const k=Xw(Z),rt=await Hb({limit:200,from_date:k,to_date:Z==="yesterday"?k:void 0,triggered_only:tt==="triggered",symbol:F||void 0});let ot=rt;tt==="skipped"&&(ot=rt.filter(St=>St.decision?.startsWith("skip"))),f(ot),S(new Date)}catch(k){x(k instanceof Error?k.message:"Failed to fetch news")}T&&p(!1)},[Z,tt,F]);j.useEffect(()=>(lt(!0),G&&!D&&(K.current=window.setInterval(()=>{lt(!1)},kw)),()=>{K.current&&(clearInterval(K.current),K.current=null)}),[lt,G,D]),j.useEffect(()=>{const T=async()=>{try{const[$,rt]=await Promise.all([kp(1),kb()]);l($),u(rt.strategies)}catch($){console.error("Failed to fetch stats:",$)}};T();const k=setInterval(T,3e4);return()=>clearInterval(k)},[l,u]);const At=j.useCallback(async T=>{if(!(_.has(T)||A.has(T))){L(k=>new Set(k).add(T));try{const{events:k}=await qp(T),$=Gw(k);w(rt=>new Map(rt).set(T,$))}catch(k){console.error("Failed to load pipeline:",k),w($=>new Map($).set(T,[]))}L(k=>{const $=new Set(k);return $.delete(T),$})}},[_,A]),xt=P?c.filter(T=>T.tickers&&T.tickers.length>0):c,B=xt.length,J=xt.filter(T=>T.decision==="trade").length,it=xt.filter(T=>T.decision?.startsWith("skip")).length,vt=Hw(xt),[,bt]=j.useState(0);j.useEffect(()=>{const T=setInterval(()=>bt(k=>k+1),1e3);return()=>clearInterval(T)},[]);const E=T=>T.decision==="trade"?"triggered":T.decision?.startsWith("skip")?"skipped":"processing";return g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"flex rounded-md bg-slate-800 p-1",children:["today","yesterday","week","all"].map(T=>g.jsx("button",{onClick:()=>st(T),className:`px-3 py-1 text-sm rounded transition-colors ${Z===T?"bg-slate-700 text-white":"text-gray-400 hover:text-white"}`,children:T==="today"?"Today":T==="yesterday"?"Yesterday":T==="week"?"Week":"All"},T))}),G&&g.jsxs("span",{className:"flex items-center gap-1.5 text-green-400",children:[g.jsx("span",{className:`h-2 w-2 rounded-full ${D?"bg-yellow-500":"bg-green-500"}`}),D?"PAUSED":"AUTO"]}),g.jsxs("span",{className:"text-sm text-gray-500",children:["Last: ",_l(y?.toISOString()||null)]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[G&&g.jsx("button",{onClick:()=>V(!D),className:`rounded-md px-3 py-1.5 text-sm ${D?"bg-yellow-600 text-white":"bg-slate-700 hover:bg-slate-600"}`,children:D?"Resume":"Pause"}),g.jsx("button",{onClick:()=>lt(!0),className:"rounded-md bg-slate-700 px-3 py-1.5 text-sm hover:bg-slate-600",children:"Refresh"})]})]}),g.jsx(Uw,{statusFilter:tt,onStatusChange:nt,symbolFilter:F,onSymbolChange:ft,totalCount:B,triggeredCount:J,skippedCount:it,hideNoTickers:P,onHideNoTickersChange:Q}),tt!=="triggered"&&Object.keys(vt).length>0&&g.jsx(Bw,{skipReasons:vt}),m&&g.jsx("div",{className:"text-center text-gray-400 py-8",children:"Loading..."}),d&&g.jsx("div",{className:"text-center text-red-400 py-8",children:d}),g.jsx("div",{className:"space-y-3",children:!m&&!d&&(xt.length===0?g.jsx("div",{className:"rounded-lg border border-slate-700 bg-slate-800 p-8 text-center",children:g.jsx("p",{className:"text-gray-400",children:c.length===0?"No news found for this period":"No items match filters"})}):xt.slice(0,100).map(T=>{const k=E(T),$=T.skip_reason||(T.decision?.startsWith("skip_")?T.decision.replace("skip_","").replace(/_/g," "):void 0);return g.jsx(Dw,{newsId:T.id,headline:T.headline,tickers:T.tickers,source:T.source,pubTime:T.pub_time,newsAgeMs:T.news_age_ms,status:k,skipReason:$,showRelativeTime:G,expandable:!0,defaultExpanded:G,pipelineSteps:_.get(T.id),pipelineLoading:A.has(T.id),onToggleExpand:()=>At(T.id),linkTo:`/news/${T.id}`},T.id)}))}),s&&g.jsxs("div",{className:"mt-6 rounded-lg border border-slate-700 bg-slate-800 p-4",children:[g.jsx("h3",{className:"mb-2 text-sm font-medium text-gray-400",children:"Today's Summary"}),g.jsxs("div",{className:"flex flex-wrap gap-6 text-sm",children:[g.jsxs("span",{children:["News: ",g.jsx("strong",{className:"text-white",children:s.news.total})]}),g.jsxs("span",{children:["Triggered:"," ",g.jsxs("strong",{className:"text-green-400",children:[s.news.triggered," (",s.news.triggered_percent.toFixed(0),"%)"]})]}),g.jsxs("span",{children:["Active:"," ",g.jsx("strong",{className:"text-red-400",children:s.strategies.active})]}),g.jsxs("span",{children:["P&L:"," ",g.jsx("strong",{className:s.pnl.total>=0?"text-green-400":"text-red-400",children:se(s.pnl.total,!0)})]}),g.jsxs("span",{children:["Win:"," ",g.jsxs("strong",{className:"text-white",children:[s.pnl.win_rate.toFixed(0),"%"]})]})]})]})]})}function Kw(a){if(a==="all")return{};const e=new Date;if(a==="today")return{from_date:"today"};if(a==="yesterday"){const s=new Date(e);s.setDate(s.getDate()-1);const l=s.toISOString().split("T")[0];return{from_date:l,to_date:l}}else if(a==="week"){const s=new Date(e);return s.setDate(s.getDate()-7),{from_date:s.toISOString().split("T")[0]}}else if(a==="month"){const s=new Date(e);return s.setDate(s.getDate()-30),{from_date:s.toISOString().split("T")[0]}}return{}}const bc=[{label:"1s",timeframe:"1",timespan:"second"},{label:"5s",timeframe:"5",timespan:"second"},{label:"15s",timeframe:"15",timespan:"second"},{label:"1m",timeframe:"1",timespan:"minute"}];function bp(){const{tradeId:a}=Ap(),[e,s]=Bc(),[l,u]=j.useState([]),[c,f]=j.useState(!0),[m,p]=j.useState(null),[d,x]=j.useState(null),[y,S]=j.useState(!1),[_,w]=j.useState([]),[A,L]=j.useState(!1),D=e.get("date")||"week",V=e.get("ticker")||"",K=e.get("tf")||"5s",Z=bc.find(Q=>Q.label===K)||bc[1],tt=Q=>{const lt=new URLSearchParams(e);Q==="week"?lt.delete("date"):lt.set("date",Q),s(lt)},F=Q=>{const lt=new URLSearchParams(e);Q.trim()?lt.set("ticker",Q.trim().toUpperCase()):lt.delete("ticker"),s(lt)},P=Q=>{const lt=new URLSearchParams(e);Q==="5s"?lt.delete("tf"):lt.set("tf",Q),s(lt)};j.useEffect(()=>{(async()=>{f(!0),p(null);try{const{from_date:lt,to_date:At}=Kw(D),xt=await Yb({limit:100,from_date:lt,to_date:At,ticker:V||void 0});u(xt)}catch(lt){p(lt instanceof Error?lt.message:"Failed to fetch trades")}f(!1)})()},[D,V]),j.useEffect(()=>{if(!a){x(null),w([]);return}(async()=>{S(!0);try{const lt=await Kb(a);x(lt)}catch(lt){console.error("Failed to fetch trade detail:",lt),x(null)}S(!1)})()},[a]),j.useEffect(()=>{if(!d?.ticker||!d.entry_time){w([]);return}(async()=>{L(!0);try{const lt=new Date(d.entry_time).getTime(),At=d.exit_time?new Date(d.exit_time).getTime():Date.now(),xt=lt-12e4,B=At+12e4,J=await Gp(d.ticker,xt,B,Z.timeframe,Z.timespan);w(J.results||[])}catch(lt){console.error("Failed to fetch bars:",lt),w([])}L(!1)})()},[d,Z]);const G=l.reduce((Q,lt)=>Q+lt.pnl,0),st=l.filter(Q=>Q.pnl>0).length,nt=l.filter(Q=>Q.pnl<0).length,ft=l.length>0?st/l.length*100:0;return a?g.jsxs("div",{className:"space-y-4",children:[g.jsx(Xp,{items:[{label:"Journal",to:"/journal"},{label:d?.ticker||a}]}),y&&g.jsx("div",{className:"text-center text-gray-400 py-8",children:"Loading trade..."}),!y&&d&&g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[g.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-800 p-4",children:[g.jsx("div",{className:"text-sm text-gray-400",children:"Ticker"}),g.jsx("div",{className:"text-xl font-bold text-white",children:d.ticker})]}),g.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-800 p-4",children:[g.jsx("div",{className:"text-sm text-gray-400",children:"P&L"}),g.jsxs("div",{className:`text-xl font-bold ${(d.pnl||0)>=0?"text-green-400":"text-red-400"}`,children:[se(d.pnl||0,!0),d.pnl_percent&&g.jsxs("span",{className:"text-sm ml-1",children:["(",on(d.pnl_percent),")"]})]})]}),g.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-800 p-4",children:[g.jsx("div",{className:"text-sm text-gray-400",children:"Entry"}),g.jsxs("div",{className:"text-lg text-white",children:["$",d.entry_price?.toFixed(2),d.entry_time&&g.jsx("div",{className:"text-xs text-gray-500",children:hr(d.entry_time)})]})]}),g.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-800 p-4",children:[g.jsx("div",{className:"text-sm text-gray-400",children:"Exit"}),g.jsxs("div",{className:"text-lg text-white",children:["$",d.exit_price?.toFixed(2),d.exit_time&&g.jsx("div",{className:"text-xs text-gray-500",children:hr(d.exit_time)})]})]})]}),d.headline&&g.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-800 p-4",children:[g.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Headline"}),g.jsx("div",{className:"text-white",children:d.headline}),d.source&&g.jsx("div",{className:"text-xs text-gray-500 mt-1",children:d.source})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"text-sm text-gray-400",children:"Chart:"}),g.jsx("div",{className:"flex rounded-md bg-slate-800 p-1",children:bc.map(Q=>g.jsx("button",{onClick:()=>P(Q.label),className:`px-3 py-1 text-sm rounded transition-colors ${Z.label===Q.label?"bg-slate-700 text-white":"text-gray-400 hover:text-white"}`,children:Q.label},Q.label))})]}),g.jsx("div",{className:"rounded-lg border border-slate-700 bg-slate-800 p-4",children:A?g.jsx("div",{className:"h-80 flex items-center justify-center text-gray-400",children:"Loading chart..."}):_.length>0?g.jsx(gg,{bars:_,ticker:d.ticker,entryPrice:d.entry_price,exitPrice:d.exit_price,entryTime:d.entry_time?new Date(d.entry_time).getTime():void 0,exitTime:d.exit_time?new Date(d.exit_time).getTime():void 0}):g.jsx("div",{className:"h-80 flex items-center justify-center text-gray-400",children:"No chart data available"})})]})]}):g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("div",{className:"flex items-center gap-6",children:g.jsx("div",{className:"flex rounded-md bg-slate-800 p-1",children:["today","yesterday","week","month","all"].map(Q=>g.jsx("button",{onClick:()=>tt(Q),className:`px-3 py-1 text-sm rounded transition-colors ${D===Q?"bg-slate-700 text-white":"text-gray-400 hover:text-white"}`,children:Q.charAt(0).toUpperCase()+Q.slice(1)},Q))})}),g.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[g.jsxs("span",{children:["Trades: ",g.jsx("strong",{className:"text-white",children:l.length})]}),g.jsxs("span",{children:["P&L:"," ",g.jsx("strong",{className:G>=0?"text-green-400":"text-red-400",children:se(G,!0)})]}),g.jsxs("span",{children:["Win Rate:"," ",g.jsxs("strong",{className:"text-white",children:[ft.toFixed(0),"%"]}),g.jsxs("span",{className:"text-gray-500 ml-1",children:["(",st,"W / ",nt,"L)"]})]})]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"text",placeholder:"Filter by ticker...",value:V,onChange:Q=>F(Q.target.value),className:"rounded-md bg-slate-800 border border-slate-700 px-3 py-1.5 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-slate-600"}),V&&g.jsx("button",{onClick:()=>F(""),className:"text-gray-400 hover:text-white",children:"Clear"})]}),c&&g.jsx("div",{className:"text-center text-gray-400 py-8",children:"Loading trades..."}),m&&g.jsx("div",{className:"text-center text-red-400 py-8",children:m}),!c&&!m&&g.jsx("div",{className:"space-y-2",children:l.length===0?g.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-800 p-8 text-center",children:[g.jsx("p",{className:"text-gray-400",children:"No completed trades found"}),g.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Trades appear here after both entry and exit orders are filled"})]}):g.jsx("div",{className:"rounded-lg border border-slate-700 bg-slate-800 overflow-hidden",children:g.jsxs("table",{className:"w-full",children:[g.jsx("thead",{className:"bg-slate-700/50",children:g.jsxs("tr",{className:"text-left text-sm text-gray-400",children:[g.jsx("th",{className:"px-4 py-3",children:"Time"}),g.jsx("th",{className:"px-4 py-3",children:"Ticker"}),g.jsx("th",{className:"px-4 py-3",children:"Entry"}),g.jsx("th",{className:"px-4 py-3",children:"Exit"}),g.jsx("th",{className:"px-4 py-3",children:"Qty"}),g.jsx("th",{className:"px-4 py-3 text-right",children:"P&L"}),g.jsx("th",{className:"px-4 py-3",children:"Headline"})]})}),g.jsx("tbody",{className:"divide-y divide-slate-700",children:l.map(Q=>g.jsxs("tr",{className:"hover:bg-slate-700/30 cursor-pointer",onClick:()=>window.location.href=`/journal/${Q.id}`,children:[g.jsx("td",{className:"px-4 py-3 text-sm text-gray-400",children:Q.stopped_at?hr(Q.stopped_at):"-"}),g.jsx("td",{className:"px-4 py-3",children:g.jsx("span",{className:"font-mono font-bold text-white",children:Q.ticker})}),g.jsxs("td",{className:"px-4 py-3 text-sm text-gray-300",children:["$",Q.entry_price.toFixed(2)]}),g.jsxs("td",{className:"px-4 py-3 text-sm text-gray-300",children:["$",Q.exit_price.toFixed(2)]}),g.jsx("td",{className:"px-4 py-3 text-sm text-gray-400",children:Q.qty}),g.jsxs("td",{className:`px-4 py-3 text-sm text-right font-medium ${Q.pnl>=0?"text-green-400":"text-red-400"}`,children:[se(Q.pnl,!0),Q.pnl_percent&&g.jsxs("span",{className:"text-xs ml-1 text-gray-500",children:["(",on(Q.pnl_percent),")"]})]}),g.jsx("td",{className:"px-4 py-3 text-sm text-gray-400 max-w-xs truncate",children:Q.headline||"-"})]},Q.id))})]})})})]})}const Jw=[{to:"/",label:"News"},{to:"/positions",label:"Positions"},{to:"/journal",label:"Journal"}];function Zw(){const{getActiveStrategiesArray:a}=yr(),e=a().length,[s,l]=j.useState(!1);return g.jsxs("div",{className:"min-h-screen bg-slate-900 text-gray-200",children:[g.jsx("header",{className:"border-b border-slate-700 bg-slate-800",children:g.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[g.jsxs("div",{className:"flex items-center gap-6",children:[g.jsx(yl,{to:"/",className:"text-xl font-bold text-white hover:text-blue-400",children:"TORBI"}),g.jsx("nav",{className:"flex gap-1",children:Jw.map(u=>g.jsxs(yl,{to:u.to,end:u.to==="/",className:({isActive:c})=>`px-4 py-1.5 text-sm font-medium rounded-md transition-colors ${c?"bg-slate-700 text-white":"text-gray-400 hover:text-gray-200 hover:bg-slate-700/50"}`,children:[u.label,u.to==="/positions"&&e>0&&g.jsx("span",{className:"ml-1.5 inline-flex items-center justify-center h-5 w-5 text-xs rounded-full bg-red-500/20 text-red-400",children:e})]},u.to))})]}),g.jsx("div",{className:"flex items-center gap-4",children:g.jsxs("div",{className:"relative",children:[g.jsx("button",{onClick:()=>l(!s),className:"p-2 rounded-md text-gray-400 hover:text-white hover:bg-slate-700 transition-colors",title:"Settings",children:g.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),s&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>l(!1)}),g.jsxs("div",{className:"absolute right-0 top-full mt-1 w-40 bg-slate-800 border border-slate-700 rounded-md shadow-lg z-20",children:[g.jsx(yl,{to:"/stats",onClick:()=>l(!1),className:"block px-4 py-2 text-sm text-gray-300 hover:bg-slate-700 hover:text-white",children:"Stats"}),g.jsx(yl,{to:"/health",onClick:()=>l(!1),className:"block px-4 py-2 text-sm text-gray-300 hover:bg-slate-700 hover:text-white",children:"System Health"})]})]})]})})]})}),g.jsx("main",{className:"p-4",children:g.jsx(qw,{children:g.jsxs(Jx,{children:[g.jsx(ge,{path:"/",element:g.jsx(Qw,{})}),g.jsx(ge,{path:"/news/:newsId",element:g.jsx(Tw,{})}),g.jsx(ge,{path:"/positions",element:g.jsx(Jb,{})}),g.jsx(ge,{path:"/journal",element:g.jsx(bp,{})}),g.jsx(ge,{path:"/journal/:tradeId",element:g.jsx(bp,{})}),g.jsx(ge,{path:"/stats",element:g.jsx(Yw,{})}),g.jsx(ge,{path:"/health",element:g.jsx(Vw,{})}),g.jsx(ge,{path:"/active",element:g.jsx(an,{to:"/positions",replace:!0})}),g.jsx(ge,{path:"/trades",element:g.jsx(an,{to:"/journal",replace:!0})}),g.jsx(ge,{path:"/history",element:g.jsx(an,{to:"/",replace:!0})}),g.jsx(ge,{path:"/pipeline",element:g.jsx(an,{to:"/",replace:!0})}),g.jsx(ge,{path:"/pipeline/:newsId",element:g.jsx(an,{to:"/news/:newsId",replace:!0})}),g.jsx(ge,{path:"*",element:g.jsx(an,{to:"/",replace:!0})})]})})})]})}Fy.createRoot(document.getElementById("root")).render(g.jsx(j.StrictMode,{children:g.jsx(yb,{children:g.jsx(Zw,{})})}));
